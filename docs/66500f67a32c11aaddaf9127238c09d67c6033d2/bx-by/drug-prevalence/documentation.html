<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.5.57">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>Documentation</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { display: inline-block; text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
</style>


<script src="../../site_libs/quarto-nav/quarto-nav.js"></script>
<script src="../../site_libs/quarto-nav/headroom.min.js"></script>
<script src="../../site_libs/clipboard/clipboard.min.js"></script>
<script src="../../site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="../../site_libs/quarto-search/fuse.min.js"></script>
<script src="../../site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="../../">
<link href="../../um_favicon.png" rel="icon" type="image/png">
<script src="../../site_libs/quarto-html/quarto.js"></script>
<script src="../../site_libs/quarto-html/popper.min.js"></script>
<script src="../../site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="../../site_libs/quarto-html/anchor.min.js"></script>
<link href="../../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../../site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="../../site_libs/bootstrap/bootstrap.min.js"></script>
<link href="../../site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="../../site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 50,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "show-item-context": false,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>
<script async="" src="https://www.googletagmanager.com/gtag/js?id=G-JSSB1SYY4T"></script>

<script type="text/javascript">

window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'G-JSSB1SYY4T', { 'anonymize_ip': true});
</script>
<script type="module" src="../../site_libs/quarto-ojs/quarto-ojs-runtime.js"></script>
<link href="../../site_libs/quarto-ojs/quarto-ojs.css" rel="stylesheet">
<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin="">
<link href="https://fonts.googleapis.com/css2?family=Archivo:ital,wght@0,100..900;1,100..900&amp;display=swap" rel="stylesheet">


<link rel="stylesheet" href="../../styles.css">
</head>

<body class="nav-fixed">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
    <nav class="navbar navbar-expand-lg " data-bs-theme="dark">
      <div class="navbar-container container-fluid">
      <div class="navbar-brand-container mx-auto">
    <a href="http://blue.isr.umich.edu/data/index.html" class="navbar-brand navbar-brand-logo">
    <img src="../../mtf_logo.png" alt="" class="navbar-logo">
    </a>
  </div>
            <div id="quarto-search" class="" title="Search"></div>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" role="menu" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll me-auto">
  <li class="nav-item dropdown ">
    <a class="nav-link dropdown-toggle" href="#" id="nav-menu-main-study" role="link" data-bs-toggle="dropdown" aria-expanded="false">
 <span class="menu-text">Main Study</span>
    </a>
    <ul class="dropdown-menu" aria-labelledby="nav-menu-main-study">    
        <li>
    <a class="dropdown-item" href="../../bx-by/drug-prevalence/index.html">
 <span class="dropdown-text">Prevalence/Trends</span></a>
  </li>  
    </ul>
  </li>
  <li class="nav-item dropdown ">
    <a class="nav-link dropdown-toggle" href="#" id="nav-menu-panel-study" role="link" data-bs-toggle="dropdown" aria-expanded="false">
 <span class="menu-text">Panel Study</span>
    </a>
    <ul class="dropdown-menu" aria-labelledby="nav-menu-panel-study">    
        <li>
    <a class="dropdown-item" href="../../panel/substance-use/index.html">
 <span class="dropdown-text">Prevalence/Trends</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../../panel/demographic-subgroups/index.html">
 <span class="dropdown-text">Demographic Subgroups</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../../panel/college-noncollege/index.html">
 <span class="dropdown-text">College Students</span></a>
  </li>  
    </ul>
  </li>
  <li class="nav-item dropdown ">
    <a class="nav-link dropdown-toggle" href="#" id="nav-menu-help" role="link" data-bs-toggle="dropdown" aria-expanded="false">
 <span class="menu-text">Help</span>
    </a>
    <ul class="dropdown-menu" aria-labelledby="nav-menu-help">    
        <li>
    <a class="dropdown-item" href="https://monitoringthefuture.org/about/"><i class="bi bi-info-square" role="img">
</i> 
 <span class="dropdown-text">About the Study</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="https://monitoringthefuture.org/contact-us/"><i class="bi bi-question-square" role="img">
</i> 
 <span class="dropdown-text">Contact Us</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="https://monitoringthefuture.org/results/data-access/"><i class="bi bi-files" role="img">
</i> 
 <span class="dropdown-text">Data Access</span></a>
  </li>  
    </ul>
  </li>
</ul>
          </div> <!-- /navcollapse -->
            <div class="quarto-navbar-tools">
</div>
      </div> <!-- /container-fluid -->
    </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">On this page</h2>
   
  <ul>
  <li><a href="#table-wide-format" id="toc-table-wide-format" class="nav-link active" data-scroll-target="#table-wide-format">Table Wide Format</a></li>
  <li><a href="#accordion-buttons" id="toc-accordion-buttons" class="nav-link" data-scroll-target="#accordion-buttons">Accordion Buttons</a></li>
  <li><a href="#citation" id="toc-citation" class="nav-link" data-scroll-target="#citation">Citation</a></li>
  <li><a href="#footnotes" id="toc-footnotes" class="nav-link" data-scroll-target="#footnotes">Footnotes</a></li>
  <li><a href="#commentary-data" id="toc-commentary-data" class="nav-link" data-scroll-target="#commentary-data">Commentary Data</a></li>
  <li><a href="#table-data" id="toc-table-data" class="nav-link" data-scroll-target="#table-data">Table Data</a></li>
  <li><a href="#plot-data" id="toc-plot-data" class="nav-link" data-scroll-target="#plot-data">Plot Data</a></li>
  <li><a href="#search-bar" id="toc-search-bar" class="nav-link" data-scroll-target="#search-bar">Search Bar</a></li>
  <li><a href="#radio-buttons" id="toc-radio-buttons" class="nav-link" data-scroll-target="#radio-buttons">Radio Buttons</a></li>
  <li><a href="#zoom-in-button" id="toc-zoom-in-button" class="nav-link" data-scroll-target="#zoom-in-button">Zoom-in Button</a></li>
  <li><a href="#download-data-button" id="toc-download-data-button" class="nav-link" data-scroll-target="#download-data-button">Download Data Button</a></li>
  <li><a href="#plot-title" id="toc-plot-title" class="nav-link" data-scroll-target="#plot-title">Plot Title</a></li>
  <li><a href="#rendered-plot" id="toc-rendered-plot" class="nav-link" data-scroll-target="#rendered-plot">Rendered Plot</a></li>
  <li><a href="#diverging-bar-chart" id="toc-diverging-bar-chart" class="nav-link" data-scroll-target="#diverging-bar-chart">Diverging Bar Chart</a></li>
  </ul>
</nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title">Documentation</h1>
<p class="subtitle lead">Drug Prevalence Dashboard</p>
</div>



<div class="quarto-title-meta">

    
  
    
  </div>
  


</header>


<section id="table-wide-format" class="level2">
<h2 class="anchored" data-anchor-id="table-wide-format">Table Wide Format</h2>
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb1" data-startfrom="10" data-source-offset="0"><pre class="sourceCode js code-with-copy"><code class="sourceCode javascript" style="counter-reset: source-line 9;"><span id="cb1-10"><a href="#cb1-10" aria-hidden="true" tabindex="-1"></a>wideTable <span class="op">=</span> <span class="fu">html</span><span class="vs">`</span></span>
<span id="cb1-11"><a href="#cb1-11" aria-hidden="true" tabindex="-1"></a><span class="vs">&lt;style&gt;</span></span>
<span id="cb1-12"><a href="#cb1-12" aria-hidden="true" tabindex="-1"></a><span class="vs">.branch {overflow-x:scroll; direction: rtl; margin-left:180px;  }</span></span>
<span id="cb1-13"><a href="#cb1-13" aria-hidden="true" tabindex="-1"></a><span class="vs">td:first-child, td:nth-child(2), th:first-child, th:nth-child(2) {position:absolute; width:100px; top:auto; white-space:normal;} </span></span>
<span id="cb1-14"><a href="#cb1-14" aria-hidden="true" tabindex="-1"></a><span class="vs">td:nth-child(1), th:first-child  {left: 110px; white-space:nowrap; word-wrap: break-word; }</span></span>
<span id="cb1-15"><a href="#cb1-15" aria-hidden="true" tabindex="-1"></a><span class="vs">td:nth-child(2), th:nth-child(2) {left: 210px; word-wrap: break-word;} </span></span>
<span id="cb1-16"><a href="#cb1-16" aria-hidden="true" tabindex="-1"></a><span class="vs">td, th { vertical-align: middle;  padding: .5em; color: black; }</span></span>
<span id="cb1-17"><a href="#cb1-17" aria-hidden="true" tabindex="-1"></a><span class="vs">th { text-decoration: underline; white-space:nowrap; }  </span></span>
<span id="cb1-18"><a href="#cb1-18" aria-hidden="true" tabindex="-1"></a><span class="vs">tr:nth-child(3) {</span></span>
<span id="cb1-19"><a href="#cb1-19" aria-hidden="true" tabindex="-1"></a><span class="vs">  background-color: #ADD8E6;</span></span>
<span id="cb1-20"><a href="#cb1-20" aria-hidden="true" tabindex="-1"></a><span class="vs">} </span></span>
<span id="cb1-21"><a href="#cb1-21" aria-hidden="true" tabindex="-1"></a><span class="vs">table {</span></span>
<span id="cb1-22"><a href="#cb1-22" aria-hidden="true" tabindex="-1"></a><span class="vs">  direction: ltr;</span></span>
<span id="cb1-23"><a href="#cb1-23" aria-hidden="true" tabindex="-1"></a><span class="vs">  border: none;</span></span>
<span id="cb1-24"><a href="#cb1-24" aria-hidden="true" tabindex="-1"></a><span class="vs">  border-collapse: collapse;</span></span>
<span id="cb1-25"><a href="#cb1-25" aria-hidden="true" tabindex="-1"></a><span class="vs">  text-align: center;</span></span>
<span id="cb1-26"><a href="#cb1-26" aria-hidden="true" tabindex="-1"></a><span class="vs">}</span></span>
<span id="cb1-27"><a href="#cb1-27" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-28"><a href="#cb1-28" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-29"><a href="#cb1-29" aria-hidden="true" tabindex="-1"></a><span class="vs">/* On screens that are 1720px or less, do this for the table and citation size */</span></span>
<span id="cb1-30"><a href="#cb1-30" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-31"><a href="#cb1-31" aria-hidden="true" tabindex="-1"></a><span class="vs">@media screen and (max-width: 1680px) {</span></span>
<span id="cb1-32"><a href="#cb1-32" aria-hidden="true" tabindex="-1"></a><span class="vs">  .branch {overflow-x:scroll; direction: rtl; margin-left:170px;  }</span></span>
<span id="cb1-33"><a href="#cb1-33" aria-hidden="true" tabindex="-1"></a><span class="vs">td:first-child, td:nth-child(2), th:first-child, th:nth-child(2) {position:absolute; width:100px; top:auto; white-space:normal;} </span></span>
<span id="cb1-34"><a href="#cb1-34" aria-hidden="true" tabindex="-1"></a><span class="vs">td:nth-child(1), th:first-child  {left: 90px; white-space:nowrap; word-wrap: break-word; }</span></span>
<span id="cb1-35"><a href="#cb1-35" aria-hidden="true" tabindex="-1"></a><span class="vs">td:nth-child(2), th:nth-child(2) {left: 190px; word-wrap: break-word;}</span></span>
<span id="cb1-36"><a href="#cb1-36" aria-hidden="true" tabindex="-1"></a><span class="vs">tr:nth-child(3) {</span></span>
<span id="cb1-37"><a href="#cb1-37" aria-hidden="true" tabindex="-1"></a><span class="vs">  background-color: #ADD8E6;</span></span>
<span id="cb1-38"><a href="#cb1-38" aria-hidden="true" tabindex="-1"></a><span class="vs">}</span></span>
<span id="cb1-39"><a href="#cb1-39" aria-hidden="true" tabindex="-1"></a><span class="vs">}</span></span>
<span id="cb1-40"><a href="#cb1-40" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-41"><a href="#cb1-41" aria-hidden="true" tabindex="-1"></a><span class="vs">/* On screens that are 1720px or less, do this for the table */</span></span>
<span id="cb1-42"><a href="#cb1-42" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-43"><a href="#cb1-43" aria-hidden="true" tabindex="-1"></a><span class="vs">@media screen and (max-width: 1375px) {</span></span>
<span id="cb1-44"><a href="#cb1-44" aria-hidden="true" tabindex="-1"></a><span class="vs">  .branch {overflow-x:scroll; direction: rtl; margin-left:160px;  }</span></span>
<span id="cb1-45"><a href="#cb1-45" aria-hidden="true" tabindex="-1"></a><span class="vs">td:first-child, td:nth-child(2), th:first-child, th:nth-child(2) {position:absolute; width:100px; top:auto; white-space:normal;} </span></span>
<span id="cb1-46"><a href="#cb1-46" aria-hidden="true" tabindex="-1"></a><span class="vs">td:nth-child(1), th:first-child  {left: 65px; white-space:nowrap; word-wrap: break-word; }</span></span>
<span id="cb1-47"><a href="#cb1-47" aria-hidden="true" tabindex="-1"></a><span class="vs">td:nth-child(2), th:nth-child(2) {left: 170px; word-wrap: break-word;}</span></span>
<span id="cb1-48"><a href="#cb1-48" aria-hidden="true" tabindex="-1"></a><span class="vs">tr:nth-child(3) {</span></span>
<span id="cb1-49"><a href="#cb1-49" aria-hidden="true" tabindex="-1"></a><span class="vs">  background-color: #ADD8E6;</span></span>
<span id="cb1-50"><a href="#cb1-50" aria-hidden="true" tabindex="-1"></a><span class="vs">}</span></span>
<span id="cb1-51"><a href="#cb1-51" aria-hidden="true" tabindex="-1"></a><span class="vs">}</span></span>
<span id="cb1-52"><a href="#cb1-52" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-53"><a href="#cb1-53" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-54"><a href="#cb1-54" aria-hidden="true" tabindex="-1"></a><span class="vs">/* On screens that are 992px or less, do this for the table and citation size */</span></span>
<span id="cb1-55"><a href="#cb1-55" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-56"><a href="#cb1-56" aria-hidden="true" tabindex="-1"></a><span class="vs">@media screen and (max-width: 992px) {</span></span>
<span id="cb1-57"><a href="#cb1-57" aria-hidden="true" tabindex="-1"></a><span class="vs">  .branch {overflow-x:scroll; direction: rtl; margin-left:155px;  }</span></span>
<span id="cb1-58"><a href="#cb1-58" aria-hidden="true" tabindex="-1"></a><span class="vs">td:first-child, td:nth-child(2), th:first-child, th:nth-child(2) {position:absolute; width:100px; top:auto; white-space:normal;} </span></span>
<span id="cb1-59"><a href="#cb1-59" aria-hidden="true" tabindex="-1"></a><span class="vs">td:nth-child(1), th:first-child  {left: 45px; white-space:nowrap; word-wrap: break-word; }</span></span>
<span id="cb1-60"><a href="#cb1-60" aria-hidden="true" tabindex="-1"></a><span class="vs">td:nth-child(2), th:nth-child(2) {left: 145px; word-wrap: break-word;}</span></span>
<span id="cb1-61"><a href="#cb1-61" aria-hidden="true" tabindex="-1"></a><span class="vs">tr:nth-child(3) {</span></span>
<span id="cb1-62"><a href="#cb1-62" aria-hidden="true" tabindex="-1"></a><span class="vs">  background-color: #ADD8E6;</span></span>
<span id="cb1-63"><a href="#cb1-63" aria-hidden="true" tabindex="-1"></a><span class="vs">}</span></span>
<span id="cb1-64"><a href="#cb1-64" aria-hidden="true" tabindex="-1"></a><span class="vs">}</span></span>
<span id="cb1-65"><a href="#cb1-65" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-66"><a href="#cb1-66" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-67"><a href="#cb1-67" aria-hidden="true" tabindex="-1"></a><span class="vs">/* On screens that are 600px or less, do this for table and citation size */</span></span>
<span id="cb1-68"><a href="#cb1-68" aria-hidden="true" tabindex="-1"></a><span class="vs">@media screen and (max-width: 600px) {</span></span>
<span id="cb1-69"><a href="#cb1-69" aria-hidden="true" tabindex="-1"></a><span class="vs">  .branch {overflow-x:scroll; direction: rtl; margin-left:145px;  }</span></span>
<span id="cb1-70"><a href="#cb1-70" aria-hidden="true" tabindex="-1"></a><span class="vs">td:first-child, td:nth-child(2), th:first-child, th:nth-child(2) {position:absolute; width:100px; top:auto; white-space:normal;} </span></span>
<span id="cb1-71"><a href="#cb1-71" aria-hidden="true" tabindex="-1"></a><span class="vs">td:nth-child(1), th:first-child  {left: 25px; white-space:nowrap; word-wrap: break-word; }</span></span>
<span id="cb1-72"><a href="#cb1-72" aria-hidden="true" tabindex="-1"></a><span class="vs">td:nth-child(2), th:nth-child(2) {left: 115px; word-wrap: break-word;}</span></span>
<span id="cb1-73"><a href="#cb1-73" aria-hidden="true" tabindex="-1"></a><span class="vs">tr:nth-child(3) {</span></span>
<span id="cb1-74"><a href="#cb1-74" aria-hidden="true" tabindex="-1"></a><span class="vs">  background-color: #ADD8E6;</span></span>
<span id="cb1-75"><a href="#cb1-75" aria-hidden="true" tabindex="-1"></a><span class="vs">}</span></span>
<span id="cb1-76"><a href="#cb1-76" aria-hidden="true" tabindex="-1"></a><span class="vs">}</span></span>
<span id="cb1-77"><a href="#cb1-77" aria-hidden="true" tabindex="-1"></a><span class="vs">&lt;/style&gt;</span></span>
<span id="cb1-78"><a href="#cb1-78" aria-hidden="true" tabindex="-1"></a><span class="vs">&lt;table aria-label="</span><span class="sc">${</span>radio[<span class="dv">0</span>]<span class="op">.</span><span class="at">drug</span><span class="sc">}</span><span class="vs">: Trends in </span><span class="sc">${</span>radio[<span class="dv">0</span>]<span class="op">.</span><span class="at">time</span><span class="sc">}</span><span class="vs"> Prevalence of Use in Grades 8, 10, and 12"&gt;</span></span>
<span id="cb1-79"><a href="#cb1-79" aria-hidden="true" tabindex="-1"></a><span class="vs">  &lt;tr&gt;</span></span>
<span id="cb1-80"><a href="#cb1-80" aria-hidden="true" tabindex="-1"></a><span class="vs">    &lt;th scope="col"&gt;Report Interval&lt;/th&gt;</span></span>
<span id="cb1-81"><a href="#cb1-81" aria-hidden="true" tabindex="-1"></a><span class="vs">    &lt;th scope="col"&gt;Grade&lt;/th&gt;</span></span>
<span id="cb1-82"><a href="#cb1-82" aria-hidden="true" tabindex="-1"></a><span class="vs">    &lt;th scope="col"&gt;1975&lt;/th&gt;</span></span>
<span id="cb1-83"><a href="#cb1-83" aria-hidden="true" tabindex="-1"></a><span class="vs">    &lt;th scope="col"&gt;1976&lt;/th&gt;</span></span>
<span id="cb1-84"><a href="#cb1-84" aria-hidden="true" tabindex="-1"></a><span class="vs">    &lt;th scope="col"&gt;1977&lt;/th&gt;</span></span>
<span id="cb1-85"><a href="#cb1-85" aria-hidden="true" tabindex="-1"></a><span class="vs">    &lt;th scope="col"&gt;1978&lt;/th&gt;</span></span>
<span id="cb1-86"><a href="#cb1-86" aria-hidden="true" tabindex="-1"></a><span class="vs">    &lt;th scope="col"&gt;1979&lt;/th&gt;</span></span>
<span id="cb1-87"><a href="#cb1-87" aria-hidden="true" tabindex="-1"></a><span class="vs">    &lt;th scope="col"&gt;1980&lt;/th&gt;</span></span>
<span id="cb1-88"><a href="#cb1-88" aria-hidden="true" tabindex="-1"></a><span class="vs">    &lt;th scope="col"&gt;1981&lt;/th&gt;</span></span>
<span id="cb1-89"><a href="#cb1-89" aria-hidden="true" tabindex="-1"></a><span class="vs">    &lt;th scope="col"&gt;1982&lt;/th&gt;</span></span>
<span id="cb1-90"><a href="#cb1-90" aria-hidden="true" tabindex="-1"></a><span class="vs">    &lt;th scope="col"&gt;1983&lt;/th&gt;</span></span>
<span id="cb1-91"><a href="#cb1-91" aria-hidden="true" tabindex="-1"></a><span class="vs">    &lt;th scope="col"&gt;1984&lt;/th&gt;</span></span>
<span id="cb1-92"><a href="#cb1-92" aria-hidden="true" tabindex="-1"></a><span class="vs">    &lt;th scope="col"&gt;1985&lt;/th&gt;</span></span>
<span id="cb1-93"><a href="#cb1-93" aria-hidden="true" tabindex="-1"></a><span class="vs">    &lt;th scope="col"&gt;1986&lt;/th&gt;</span></span>
<span id="cb1-94"><a href="#cb1-94" aria-hidden="true" tabindex="-1"></a><span class="vs">    &lt;th scope="col"&gt;1987&lt;/th&gt;</span></span>
<span id="cb1-95"><a href="#cb1-95" aria-hidden="true" tabindex="-1"></a><span class="vs">    &lt;th scope="col"&gt;1988&lt;/th&gt;</span></span>
<span id="cb1-96"><a href="#cb1-96" aria-hidden="true" tabindex="-1"></a><span class="vs">    &lt;th scope="col"&gt;1989&lt;/th&gt;</span></span>
<span id="cb1-97"><a href="#cb1-97" aria-hidden="true" tabindex="-1"></a><span class="vs">    &lt;th scope="col"&gt;1990&lt;/th&gt;</span></span>
<span id="cb1-98"><a href="#cb1-98" aria-hidden="true" tabindex="-1"></a><span class="vs">    &lt;th scope="col"&gt;1991&lt;/th&gt;</span></span>
<span id="cb1-99"><a href="#cb1-99" aria-hidden="true" tabindex="-1"></a><span class="vs">    &lt;th scope="col"&gt;1992&lt;/th&gt;</span></span>
<span id="cb1-100"><a href="#cb1-100" aria-hidden="true" tabindex="-1"></a><span class="vs">    &lt;th scope="col"&gt;1993&lt;/th&gt;</span></span>
<span id="cb1-101"><a href="#cb1-101" aria-hidden="true" tabindex="-1"></a><span class="vs">    &lt;th scope="col"&gt;1994&lt;/th&gt;</span></span>
<span id="cb1-102"><a href="#cb1-102" aria-hidden="true" tabindex="-1"></a><span class="vs">    &lt;th scope="col"&gt;1995&lt;/th&gt;</span></span>
<span id="cb1-103"><a href="#cb1-103" aria-hidden="true" tabindex="-1"></a><span class="vs">    &lt;th scope="col"&gt;1996&lt;/th&gt;</span></span>
<span id="cb1-104"><a href="#cb1-104" aria-hidden="true" tabindex="-1"></a><span class="vs">    &lt;th scope="col"&gt;1997&lt;/th&gt;</span></span>
<span id="cb1-105"><a href="#cb1-105" aria-hidden="true" tabindex="-1"></a><span class="vs">    &lt;th scope="col"&gt;1998&lt;/th&gt;</span></span>
<span id="cb1-106"><a href="#cb1-106" aria-hidden="true" tabindex="-1"></a><span class="vs">    &lt;th scope="col"&gt;1999&lt;/th&gt;</span></span>
<span id="cb1-107"><a href="#cb1-107" aria-hidden="true" tabindex="-1"></a><span class="vs">    &lt;th scope="col"&gt;2000&lt;/th&gt;</span></span>
<span id="cb1-108"><a href="#cb1-108" aria-hidden="true" tabindex="-1"></a><span class="vs">    &lt;th scope="col"&gt;2001&lt;/th&gt;</span></span>
<span id="cb1-109"><a href="#cb1-109" aria-hidden="true" tabindex="-1"></a><span class="vs">    &lt;th scope="col"&gt;2002&lt;/th&gt;</span></span>
<span id="cb1-110"><a href="#cb1-110" aria-hidden="true" tabindex="-1"></a><span class="vs">    &lt;th scope="col"&gt;2003&lt;/th&gt;</span></span>
<span id="cb1-111"><a href="#cb1-111" aria-hidden="true" tabindex="-1"></a><span class="vs">    &lt;th scope="col"&gt;2004&lt;/th&gt;</span></span>
<span id="cb1-112"><a href="#cb1-112" aria-hidden="true" tabindex="-1"></a><span class="vs">    &lt;th scope="col"&gt;2005&lt;/th&gt;</span></span>
<span id="cb1-113"><a href="#cb1-113" aria-hidden="true" tabindex="-1"></a><span class="vs">    &lt;th scope="col"&gt;2006&lt;/th&gt;</span></span>
<span id="cb1-114"><a href="#cb1-114" aria-hidden="true" tabindex="-1"></a><span class="vs">    &lt;th scope="col"&gt;2007&lt;/th&gt;</span></span>
<span id="cb1-115"><a href="#cb1-115" aria-hidden="true" tabindex="-1"></a><span class="vs">    &lt;th scope="col"&gt;2008&lt;/th&gt;</span></span>
<span id="cb1-116"><a href="#cb1-116" aria-hidden="true" tabindex="-1"></a><span class="vs">    &lt;th scope="col"&gt;2009&lt;/th&gt;</span></span>
<span id="cb1-117"><a href="#cb1-117" aria-hidden="true" tabindex="-1"></a><span class="vs">    &lt;th scope="col"&gt;2010&lt;/th&gt;</span></span>
<span id="cb1-118"><a href="#cb1-118" aria-hidden="true" tabindex="-1"></a><span class="vs">    &lt;th scope="col"&gt;2011&lt;/th&gt;</span></span>
<span id="cb1-119"><a href="#cb1-119" aria-hidden="true" tabindex="-1"></a><span class="vs">    &lt;th scope="col"&gt;2012&lt;/th&gt;</span></span>
<span id="cb1-120"><a href="#cb1-120" aria-hidden="true" tabindex="-1"></a><span class="vs">    &lt;th scope="col"&gt;2013&lt;/th&gt;</span></span>
<span id="cb1-121"><a href="#cb1-121" aria-hidden="true" tabindex="-1"></a><span class="vs">    &lt;th scope="col"&gt;2014&lt;/th&gt;</span></span>
<span id="cb1-122"><a href="#cb1-122" aria-hidden="true" tabindex="-1"></a><span class="vs">    &lt;th scope="col"&gt;2015&lt;/th&gt;</span></span>
<span id="cb1-123"><a href="#cb1-123" aria-hidden="true" tabindex="-1"></a><span class="vs">    &lt;th scope="col"&gt;2016&lt;/th&gt;</span></span>
<span id="cb1-124"><a href="#cb1-124" aria-hidden="true" tabindex="-1"></a><span class="vs">    &lt;th scope="col"&gt;2017&lt;/th&gt;</span></span>
<span id="cb1-125"><a href="#cb1-125" aria-hidden="true" tabindex="-1"></a><span class="vs">    &lt;th scope="col"&gt;2018&lt;/th&gt;</span></span>
<span id="cb1-126"><a href="#cb1-126" aria-hidden="true" tabindex="-1"></a><span class="vs">    &lt;th scope="col"&gt;2019&lt;sup&gt;ff&lt;/sup&gt;&lt;/th&gt;</span></span>
<span id="cb1-127"><a href="#cb1-127" aria-hidden="true" tabindex="-1"></a><span class="vs">    &lt;th scope="col"&gt;2020&lt;sup&gt;tt&lt;/sup&gt;&lt;/th&gt;</span></span>
<span id="cb1-128"><a href="#cb1-128" aria-hidden="true" tabindex="-1"></a><span class="vs">    &lt;th scope="col"&gt;2021&lt;/th&gt;</span></span>
<span id="cb1-129"><a href="#cb1-129" aria-hidden="true" tabindex="-1"></a><span class="vs">    &lt;th scope="col"&gt;2022&lt;/th&gt;</span></span>
<span id="cb1-130"><a href="#cb1-130" aria-hidden="true" tabindex="-1"></a><span class="vs">    &lt;th scope="col"&gt;2023&lt;/th&gt;</span></span>
<span id="cb1-131"><a href="#cb1-131" aria-hidden="true" tabindex="-1"></a><span class="vs">    &lt;th scope="col"&gt;2024&lt;/th&gt;</span></span>
<span id="cb1-132"><a href="#cb1-132" aria-hidden="true" tabindex="-1"></a><span class="vs">    &lt;th scope="col"&gt;2023-2024 &lt;br&gt; Change&lt;/th&gt;</span></span>
<span id="cb1-133"><a href="#cb1-133" aria-hidden="true" tabindex="-1"></a><span class="vs">  &lt;/tr&gt;</span></span>
<span id="cb1-134"><a href="#cb1-134" aria-hidden="true" tabindex="-1"></a><span class="vs">  &lt;tr&gt;</span></span>
<span id="cb1-135"><a href="#cb1-135" aria-hidden="true" tabindex="-1"></a><span class="vs">    &lt;td&gt;</span><span class="sc">${</span>htmlTables[<span class="dv">0</span>]<span class="op">?.</span><span class="at">time</span><span class="sc">}</span><span class="vs">&lt;/td&gt;</span></span>
<span id="cb1-136"><a href="#cb1-136" aria-hidden="true" tabindex="-1"></a><span class="vs">    &lt;td&gt;</span><span class="sc">${</span>htmlTables[<span class="dv">0</span>]<span class="op">?.</span><span class="at">grade</span><span class="sc">}</span><span class="vs">&lt;/td&gt;</span></span>
<span id="cb1-137"><a href="#cb1-137" aria-hidden="true" tabindex="-1"></a><span class="vs">    &lt;td&gt;</span><span class="sc">${</span>htmlTables[<span class="dv">0</span>]<span class="op">?.</span><span class="at">_1975</span><span class="sc">}</span><span class="vs">&lt;/td&gt;</span></span>
<span id="cb1-138"><a href="#cb1-138" aria-hidden="true" tabindex="-1"></a><span class="vs">    &lt;td&gt;</span><span class="sc">${</span>htmlTables[<span class="dv">0</span>]<span class="op">?.</span><span class="at">_1976</span><span class="sc">}</span><span class="vs">&lt;/td&gt;</span></span>
<span id="cb1-139"><a href="#cb1-139" aria-hidden="true" tabindex="-1"></a><span class="vs">    &lt;td&gt;</span><span class="sc">${</span>htmlTables[<span class="dv">0</span>]<span class="op">?.</span><span class="at">_1977</span><span class="sc">}</span><span class="vs">&lt;/td&gt;</span></span>
<span id="cb1-140"><a href="#cb1-140" aria-hidden="true" tabindex="-1"></a><span class="vs">    &lt;td&gt;</span><span class="sc">${</span>htmlTables[<span class="dv">0</span>]<span class="op">?.</span><span class="at">_1978</span><span class="sc">}</span><span class="vs">&lt;/td&gt;</span></span>
<span id="cb1-141"><a href="#cb1-141" aria-hidden="true" tabindex="-1"></a><span class="vs">    &lt;td&gt;</span><span class="sc">${</span>htmlTables[<span class="dv">0</span>]<span class="op">?.</span><span class="at">_1979</span><span class="sc">}</span><span class="vs">&lt;/td&gt;</span></span>
<span id="cb1-142"><a href="#cb1-142" aria-hidden="true" tabindex="-1"></a><span class="vs">    &lt;td&gt;</span><span class="sc">${</span>htmlTables[<span class="dv">0</span>]<span class="op">?.</span><span class="at">_1980</span><span class="sc">}</span><span class="vs">&lt;/td&gt;</span></span>
<span id="cb1-143"><a href="#cb1-143" aria-hidden="true" tabindex="-1"></a><span class="vs">    &lt;td&gt;</span><span class="sc">${</span>htmlTables[<span class="dv">0</span>]<span class="op">?.</span><span class="at">_1981</span><span class="sc">}</span><span class="vs">&lt;/td&gt;</span></span>
<span id="cb1-144"><a href="#cb1-144" aria-hidden="true" tabindex="-1"></a><span class="vs">    &lt;td&gt;</span><span class="sc">${</span>htmlTables[<span class="dv">0</span>]<span class="op">?.</span><span class="at">_1982</span><span class="sc">}</span><span class="vs">&lt;/td&gt;</span></span>
<span id="cb1-145"><a href="#cb1-145" aria-hidden="true" tabindex="-1"></a><span class="vs">    &lt;td&gt;</span><span class="sc">${</span>htmlTables[<span class="dv">0</span>]<span class="op">?.</span><span class="at">_1983</span><span class="sc">}</span><span class="vs">&lt;/td&gt;</span></span>
<span id="cb1-146"><a href="#cb1-146" aria-hidden="true" tabindex="-1"></a><span class="vs">    &lt;td&gt;</span><span class="sc">${</span>htmlTables[<span class="dv">0</span>]<span class="op">?.</span><span class="at">_1984</span><span class="sc">}</span><span class="vs">&lt;/td&gt;</span></span>
<span id="cb1-147"><a href="#cb1-147" aria-hidden="true" tabindex="-1"></a><span class="vs">    &lt;td&gt;</span><span class="sc">${</span>htmlTables[<span class="dv">0</span>]<span class="op">?.</span><span class="at">_1985</span><span class="sc">}</span><span class="vs">&lt;/td&gt;</span></span>
<span id="cb1-148"><a href="#cb1-148" aria-hidden="true" tabindex="-1"></a><span class="vs">    &lt;td&gt;</span><span class="sc">${</span>htmlTables[<span class="dv">0</span>]<span class="op">?.</span><span class="at">_1986</span><span class="sc">}</span><span class="vs">&lt;/td&gt;</span></span>
<span id="cb1-149"><a href="#cb1-149" aria-hidden="true" tabindex="-1"></a><span class="vs">    &lt;td&gt;</span><span class="sc">${</span>htmlTables[<span class="dv">0</span>]<span class="op">?.</span><span class="at">_1987</span><span class="sc">}</span><span class="vs">&lt;/td&gt;</span></span>
<span id="cb1-150"><a href="#cb1-150" aria-hidden="true" tabindex="-1"></a><span class="vs">    &lt;td&gt;</span><span class="sc">${</span>htmlTables[<span class="dv">0</span>]<span class="op">?.</span><span class="at">_1988</span><span class="sc">}</span><span class="vs">&lt;/td&gt;</span></span>
<span id="cb1-151"><a href="#cb1-151" aria-hidden="true" tabindex="-1"></a><span class="vs">    &lt;td&gt;</span><span class="sc">${</span>htmlTables[<span class="dv">0</span>]<span class="op">?.</span><span class="at">_1989</span><span class="sc">}</span><span class="vs">&lt;/td&gt;</span></span>
<span id="cb1-152"><a href="#cb1-152" aria-hidden="true" tabindex="-1"></a><span class="vs">    &lt;td&gt;</span><span class="sc">${</span>htmlTables[<span class="dv">0</span>]<span class="op">?.</span><span class="at">_1990</span><span class="sc">}</span><span class="vs">&lt;/td&gt;</span></span>
<span id="cb1-153"><a href="#cb1-153" aria-hidden="true" tabindex="-1"></a><span class="vs">    &lt;td&gt;</span><span class="sc">${</span>htmlTables[<span class="dv">0</span>]<span class="op">?.</span><span class="at">_1991</span><span class="sc">}</span><span class="vs">&lt;/td&gt;</span></span>
<span id="cb1-154"><a href="#cb1-154" aria-hidden="true" tabindex="-1"></a><span class="vs">    &lt;td&gt;</span><span class="sc">${</span>htmlTables[<span class="dv">0</span>]<span class="op">?.</span><span class="at">_1992</span><span class="sc">}</span><span class="vs">&lt;/td&gt;</span></span>
<span id="cb1-155"><a href="#cb1-155" aria-hidden="true" tabindex="-1"></a><span class="vs">    &lt;td&gt;</span><span class="sc">${</span>htmlTables[<span class="dv">0</span>]<span class="op">?.</span><span class="at">_1993</span><span class="sc">}</span><span class="vs">&lt;/td&gt;</span></span>
<span id="cb1-156"><a href="#cb1-156" aria-hidden="true" tabindex="-1"></a><span class="vs">    &lt;td&gt;</span><span class="sc">${</span>htmlTables[<span class="dv">0</span>]<span class="op">?.</span><span class="at">_1994</span><span class="sc">}</span><span class="vs">&lt;/td&gt;</span></span>
<span id="cb1-157"><a href="#cb1-157" aria-hidden="true" tabindex="-1"></a><span class="vs">    &lt;td&gt;</span><span class="sc">${</span>htmlTables[<span class="dv">0</span>]<span class="op">?.</span><span class="at">_1995</span><span class="sc">}</span><span class="vs">&lt;/td&gt;</span></span>
<span id="cb1-158"><a href="#cb1-158" aria-hidden="true" tabindex="-1"></a><span class="vs">    &lt;td&gt;</span><span class="sc">${</span>htmlTables[<span class="dv">0</span>]<span class="op">?.</span><span class="at">_1996</span><span class="sc">}</span><span class="vs">&lt;/td&gt;</span></span>
<span id="cb1-159"><a href="#cb1-159" aria-hidden="true" tabindex="-1"></a><span class="vs">    &lt;td&gt;</span><span class="sc">${</span>htmlTables[<span class="dv">0</span>]<span class="op">?.</span><span class="at">_1997</span><span class="sc">}</span><span class="vs">&lt;/td&gt;</span></span>
<span id="cb1-160"><a href="#cb1-160" aria-hidden="true" tabindex="-1"></a><span class="vs">    &lt;td&gt;</span><span class="sc">${</span>htmlTables[<span class="dv">0</span>]<span class="op">?.</span><span class="at">_1998</span><span class="sc">}</span><span class="vs">&lt;/td&gt;</span></span>
<span id="cb1-161"><a href="#cb1-161" aria-hidden="true" tabindex="-1"></a><span class="vs">    &lt;td&gt;</span><span class="sc">${</span>htmlTables[<span class="dv">0</span>]<span class="op">?.</span><span class="at">_1999</span><span class="sc">}</span><span class="vs">&lt;/td&gt;</span></span>
<span id="cb1-162"><a href="#cb1-162" aria-hidden="true" tabindex="-1"></a><span class="vs">    &lt;td&gt;</span><span class="sc">${</span>htmlTables[<span class="dv">0</span>]<span class="op">?.</span><span class="at">_2000</span><span class="sc">}</span><span class="vs">&lt;/td&gt;</span></span>
<span id="cb1-163"><a href="#cb1-163" aria-hidden="true" tabindex="-1"></a><span class="vs">    &lt;td&gt;</span><span class="sc">${</span>htmlTables[<span class="dv">0</span>]<span class="op">?.</span><span class="at">_2001</span><span class="sc">}</span><span class="vs">&lt;/td&gt;</span></span>
<span id="cb1-164"><a href="#cb1-164" aria-hidden="true" tabindex="-1"></a><span class="vs">    &lt;td&gt;</span><span class="sc">${</span>htmlTables[<span class="dv">0</span>]<span class="op">?.</span><span class="at">_2002</span><span class="sc">}</span><span class="vs">&lt;/td&gt;</span></span>
<span id="cb1-165"><a href="#cb1-165" aria-hidden="true" tabindex="-1"></a><span class="vs">    &lt;td&gt;</span><span class="sc">${</span>htmlTables[<span class="dv">0</span>]<span class="op">?.</span><span class="at">_2003</span><span class="sc">}</span><span class="vs">&lt;/td&gt;</span></span>
<span id="cb1-166"><a href="#cb1-166" aria-hidden="true" tabindex="-1"></a><span class="vs">    &lt;td&gt;</span><span class="sc">${</span>htmlTables[<span class="dv">0</span>]<span class="op">?.</span><span class="at">_2004</span><span class="sc">}</span><span class="vs">&lt;/td&gt;</span></span>
<span id="cb1-167"><a href="#cb1-167" aria-hidden="true" tabindex="-1"></a><span class="vs">    &lt;td&gt;</span><span class="sc">${</span>htmlTables[<span class="dv">0</span>]<span class="op">?.</span><span class="at">_2005</span><span class="sc">}</span><span class="vs">&lt;/td&gt;</span></span>
<span id="cb1-168"><a href="#cb1-168" aria-hidden="true" tabindex="-1"></a><span class="vs">    &lt;td&gt;</span><span class="sc">${</span>htmlTables[<span class="dv">0</span>]<span class="op">?.</span><span class="at">_2006</span><span class="sc">}</span><span class="vs">&lt;/td&gt;</span></span>
<span id="cb1-169"><a href="#cb1-169" aria-hidden="true" tabindex="-1"></a><span class="vs">    &lt;td&gt;</span><span class="sc">${</span>htmlTables[<span class="dv">0</span>]<span class="op">?.</span><span class="at">_2007</span><span class="sc">}</span><span class="vs">&lt;/td&gt;</span></span>
<span id="cb1-170"><a href="#cb1-170" aria-hidden="true" tabindex="-1"></a><span class="vs">    &lt;td&gt;</span><span class="sc">${</span>htmlTables[<span class="dv">0</span>]<span class="op">?.</span><span class="at">_2008</span><span class="sc">}</span><span class="vs">&lt;/td&gt;</span></span>
<span id="cb1-171"><a href="#cb1-171" aria-hidden="true" tabindex="-1"></a><span class="vs">    &lt;td&gt;</span><span class="sc">${</span>htmlTables[<span class="dv">0</span>]<span class="op">?.</span><span class="at">_2009</span><span class="sc">}</span><span class="vs">&lt;/td&gt;</span></span>
<span id="cb1-172"><a href="#cb1-172" aria-hidden="true" tabindex="-1"></a><span class="vs">    &lt;td&gt;</span><span class="sc">${</span>htmlTables[<span class="dv">0</span>]<span class="op">?.</span><span class="at">_2010</span><span class="sc">}</span><span class="vs">&lt;/td&gt;</span></span>
<span id="cb1-173"><a href="#cb1-173" aria-hidden="true" tabindex="-1"></a><span class="vs">    &lt;td&gt;</span><span class="sc">${</span>htmlTables[<span class="dv">0</span>]<span class="op">?.</span><span class="at">_2011</span><span class="sc">}</span><span class="vs">&lt;/td&gt;</span></span>
<span id="cb1-174"><a href="#cb1-174" aria-hidden="true" tabindex="-1"></a><span class="vs">    &lt;td&gt;</span><span class="sc">${</span>htmlTables[<span class="dv">0</span>]<span class="op">?.</span><span class="at">_2012</span><span class="sc">}</span><span class="vs">&lt;/td&gt;</span></span>
<span id="cb1-175"><a href="#cb1-175" aria-hidden="true" tabindex="-1"></a><span class="vs">    &lt;td&gt;</span><span class="sc">${</span>htmlTables[<span class="dv">0</span>]<span class="op">?.</span><span class="at">_2013</span><span class="sc">}</span><span class="vs">&lt;/td&gt;</span></span>
<span id="cb1-176"><a href="#cb1-176" aria-hidden="true" tabindex="-1"></a><span class="vs">    &lt;td&gt;</span><span class="sc">${</span>htmlTables[<span class="dv">0</span>]<span class="op">?.</span><span class="at">_2014</span><span class="sc">}</span><span class="vs">&lt;/td&gt;</span></span>
<span id="cb1-177"><a href="#cb1-177" aria-hidden="true" tabindex="-1"></a><span class="vs">    &lt;td&gt;</span><span class="sc">${</span>htmlTables[<span class="dv">0</span>]<span class="op">?.</span><span class="at">_2015</span><span class="sc">}</span><span class="vs">&lt;/td&gt;</span></span>
<span id="cb1-178"><a href="#cb1-178" aria-hidden="true" tabindex="-1"></a><span class="vs">    &lt;td&gt;</span><span class="sc">${</span>htmlTables[<span class="dv">0</span>]<span class="op">?.</span><span class="at">_2016</span><span class="sc">}</span><span class="vs">&lt;/td&gt;</span></span>
<span id="cb1-179"><a href="#cb1-179" aria-hidden="true" tabindex="-1"></a><span class="vs">    &lt;td&gt;</span><span class="sc">${</span>htmlTables[<span class="dv">0</span>]<span class="op">?.</span><span class="at">_2017</span><span class="sc">}</span><span class="vs">&lt;/td&gt;</span></span>
<span id="cb1-180"><a href="#cb1-180" aria-hidden="true" tabindex="-1"></a><span class="vs">    &lt;td&gt;</span><span class="sc">${</span>htmlTables[<span class="dv">0</span>]<span class="op">?.</span><span class="at">_2018</span><span class="sc">}</span><span class="vs">&lt;/td&gt;</span></span>
<span id="cb1-181"><a href="#cb1-181" aria-hidden="true" tabindex="-1"></a><span class="vs">    &lt;td&gt;</span><span class="sc">${</span>htmlTables[<span class="dv">0</span>]<span class="op">?.</span><span class="at">_2019</span><span class="sc">}</span><span class="vs">&lt;/td&gt;</span></span>
<span id="cb1-182"><a href="#cb1-182" aria-hidden="true" tabindex="-1"></a><span class="vs">    &lt;td&gt;</span><span class="sc">${</span>htmlTables[<span class="dv">0</span>]<span class="op">?.</span><span class="at">_2020</span><span class="sc">}</span><span class="vs">&lt;/td&gt;</span></span>
<span id="cb1-183"><a href="#cb1-183" aria-hidden="true" tabindex="-1"></a><span class="vs">    &lt;td&gt;</span><span class="sc">${</span>htmlTables[<span class="dv">0</span>]<span class="op">?.</span><span class="at">_2021</span><span class="sc">}</span><span class="vs">&lt;/td&gt;</span></span>
<span id="cb1-184"><a href="#cb1-184" aria-hidden="true" tabindex="-1"></a><span class="vs">    &lt;td&gt;</span><span class="sc">${</span>htmlTables[<span class="dv">0</span>]<span class="op">?.</span><span class="at">_2022</span><span class="sc">}</span><span class="vs">&lt;/td&gt;</span></span>
<span id="cb1-185"><a href="#cb1-185" aria-hidden="true" tabindex="-1"></a><span class="vs">    &lt;td&gt;</span><span class="sc">${</span>htmlTables[<span class="dv">0</span>]<span class="op">?.</span><span class="at">_2023</span><span class="sc">}</span><span class="vs">&lt;/td&gt;</span></span>
<span id="cb1-186"><a href="#cb1-186" aria-hidden="true" tabindex="-1"></a><span class="vs">    &lt;td&gt;</span><span class="sc">${</span>htmlTables[<span class="dv">0</span>]<span class="op">?.</span><span class="at">_2024</span><span class="sc">}</span><span class="vs">&lt;/td&gt;</span></span>
<span id="cb1-187"><a href="#cb1-187" aria-hidden="true" tabindex="-1"></a><span class="vs">    &lt;td&gt;</span><span class="sc">${</span>htmlTables[<span class="dv">0</span>]<span class="op">?.</span><span class="at">changeEstimate</span><span class="sc">}</span><span class="vs">&lt;/td&gt;</span></span>
<span id="cb1-188"><a href="#cb1-188" aria-hidden="true" tabindex="-1"></a><span class="vs">  &lt;/tr&gt;</span></span>
<span id="cb1-189"><a href="#cb1-189" aria-hidden="true" tabindex="-1"></a><span class="vs">  &lt;tr&gt;</span></span>
<span id="cb1-190"><a href="#cb1-190" aria-hidden="true" tabindex="-1"></a><span class="vs">    &lt;td&gt;</span><span class="sc">${</span>htmlTables[<span class="dv">1</span>]<span class="op">?.</span><span class="at">time</span><span class="sc">}</span><span class="vs">&lt;/td&gt;</span></span>
<span id="cb1-191"><a href="#cb1-191" aria-hidden="true" tabindex="-1"></a><span class="vs">    &lt;td&gt;</span><span class="sc">${</span>htmlTables[<span class="dv">1</span>]<span class="op">?.</span><span class="at">grade</span><span class="sc">}</span><span class="vs">&lt;/td&gt;</span></span>
<span id="cb1-192"><a href="#cb1-192" aria-hidden="true" tabindex="-1"></a><span class="vs">    &lt;td&gt;</span><span class="sc">${</span>htmlTables[<span class="dv">1</span>]<span class="op">?.</span><span class="at">_1975</span><span class="sc">}</span><span class="vs">&lt;/td&gt;</span></span>
<span id="cb1-193"><a href="#cb1-193" aria-hidden="true" tabindex="-1"></a><span class="vs">    &lt;td&gt;</span><span class="sc">${</span>htmlTables[<span class="dv">1</span>]<span class="op">?.</span><span class="at">_1976</span><span class="sc">}</span><span class="vs">&lt;/td&gt;</span></span>
<span id="cb1-194"><a href="#cb1-194" aria-hidden="true" tabindex="-1"></a><span class="vs">    &lt;td&gt;</span><span class="sc">${</span>htmlTables[<span class="dv">1</span>]<span class="op">?.</span><span class="at">_1977</span><span class="sc">}</span><span class="vs">&lt;/td&gt;</span></span>
<span id="cb1-195"><a href="#cb1-195" aria-hidden="true" tabindex="-1"></a><span class="vs">    &lt;td&gt;</span><span class="sc">${</span>htmlTables[<span class="dv">1</span>]<span class="op">?.</span><span class="at">_1978</span><span class="sc">}</span><span class="vs">&lt;/td&gt;</span></span>
<span id="cb1-196"><a href="#cb1-196" aria-hidden="true" tabindex="-1"></a><span class="vs">    &lt;td&gt;</span><span class="sc">${</span>htmlTables[<span class="dv">1</span>]<span class="op">?.</span><span class="at">_1979</span><span class="sc">}</span><span class="vs">&lt;/td&gt;</span></span>
<span id="cb1-197"><a href="#cb1-197" aria-hidden="true" tabindex="-1"></a><span class="vs">    &lt;td&gt;</span><span class="sc">${</span>htmlTables[<span class="dv">1</span>]<span class="op">?.</span><span class="at">_1980</span><span class="sc">}</span><span class="vs">&lt;/td&gt;</span></span>
<span id="cb1-198"><a href="#cb1-198" aria-hidden="true" tabindex="-1"></a><span class="vs">    &lt;td&gt;</span><span class="sc">${</span>htmlTables[<span class="dv">1</span>]<span class="op">?.</span><span class="at">_1981</span><span class="sc">}</span><span class="vs">&lt;/td&gt;</span></span>
<span id="cb1-199"><a href="#cb1-199" aria-hidden="true" tabindex="-1"></a><span class="vs">    &lt;td&gt;</span><span class="sc">${</span>htmlTables[<span class="dv">1</span>]<span class="op">?.</span><span class="at">_1982</span><span class="sc">}</span><span class="vs">&lt;/td&gt;</span></span>
<span id="cb1-200"><a href="#cb1-200" aria-hidden="true" tabindex="-1"></a><span class="vs">    &lt;td&gt;</span><span class="sc">${</span>htmlTables[<span class="dv">1</span>]<span class="op">?.</span><span class="at">_1983</span><span class="sc">}</span><span class="vs">&lt;/td&gt;</span></span>
<span id="cb1-201"><a href="#cb1-201" aria-hidden="true" tabindex="-1"></a><span class="vs">    &lt;td&gt;</span><span class="sc">${</span>htmlTables[<span class="dv">1</span>]<span class="op">?.</span><span class="at">_1984</span><span class="sc">}</span><span class="vs">&lt;/td&gt;</span></span>
<span id="cb1-202"><a href="#cb1-202" aria-hidden="true" tabindex="-1"></a><span class="vs">    &lt;td&gt;</span><span class="sc">${</span>htmlTables[<span class="dv">1</span>]<span class="op">?.</span><span class="at">_1985</span><span class="sc">}</span><span class="vs">&lt;/td&gt;</span></span>
<span id="cb1-203"><a href="#cb1-203" aria-hidden="true" tabindex="-1"></a><span class="vs">    &lt;td&gt;</span><span class="sc">${</span>htmlTables[<span class="dv">1</span>]<span class="op">?.</span><span class="at">_1986</span><span class="sc">}</span><span class="vs">&lt;/td&gt;</span></span>
<span id="cb1-204"><a href="#cb1-204" aria-hidden="true" tabindex="-1"></a><span class="vs">    &lt;td&gt;</span><span class="sc">${</span>htmlTables[<span class="dv">1</span>]<span class="op">?.</span><span class="at">_1987</span><span class="sc">}</span><span class="vs">&lt;/td&gt;</span></span>
<span id="cb1-205"><a href="#cb1-205" aria-hidden="true" tabindex="-1"></a><span class="vs">    &lt;td&gt;</span><span class="sc">${</span>htmlTables[<span class="dv">1</span>]<span class="op">?.</span><span class="at">_1988</span><span class="sc">}</span><span class="vs">&lt;/td&gt;</span></span>
<span id="cb1-206"><a href="#cb1-206" aria-hidden="true" tabindex="-1"></a><span class="vs">    &lt;td&gt;</span><span class="sc">${</span>htmlTables[<span class="dv">1</span>]<span class="op">?.</span><span class="at">_1989</span><span class="sc">}</span><span class="vs">&lt;/td&gt;</span></span>
<span id="cb1-207"><a href="#cb1-207" aria-hidden="true" tabindex="-1"></a><span class="vs">    &lt;td&gt;</span><span class="sc">${</span>htmlTables[<span class="dv">1</span>]<span class="op">?.</span><span class="at">_1990</span><span class="sc">}</span><span class="vs">&lt;/td&gt;</span></span>
<span id="cb1-208"><a href="#cb1-208" aria-hidden="true" tabindex="-1"></a><span class="vs">    &lt;td&gt;</span><span class="sc">${</span>htmlTables[<span class="dv">1</span>]<span class="op">?.</span><span class="at">_1991</span><span class="sc">}</span><span class="vs">&lt;/td&gt;</span></span>
<span id="cb1-209"><a href="#cb1-209" aria-hidden="true" tabindex="-1"></a><span class="vs">    &lt;td&gt;</span><span class="sc">${</span>htmlTables[<span class="dv">1</span>]<span class="op">?.</span><span class="at">_1992</span><span class="sc">}</span><span class="vs">&lt;/td&gt;</span></span>
<span id="cb1-210"><a href="#cb1-210" aria-hidden="true" tabindex="-1"></a><span class="vs">    &lt;td&gt;</span><span class="sc">${</span>htmlTables[<span class="dv">1</span>]<span class="op">?.</span><span class="at">_1993</span><span class="sc">}</span><span class="vs">&lt;/td&gt;</span></span>
<span id="cb1-211"><a href="#cb1-211" aria-hidden="true" tabindex="-1"></a><span class="vs">    &lt;td&gt;</span><span class="sc">${</span>htmlTables[<span class="dv">1</span>]<span class="op">?.</span><span class="at">_1994</span><span class="sc">}</span><span class="vs">&lt;/td&gt;</span></span>
<span id="cb1-212"><a href="#cb1-212" aria-hidden="true" tabindex="-1"></a><span class="vs">    &lt;td&gt;</span><span class="sc">${</span>htmlTables[<span class="dv">1</span>]<span class="op">?.</span><span class="at">_1995</span><span class="sc">}</span><span class="vs">&lt;/td&gt;</span></span>
<span id="cb1-213"><a href="#cb1-213" aria-hidden="true" tabindex="-1"></a><span class="vs">    &lt;td&gt;</span><span class="sc">${</span>htmlTables[<span class="dv">1</span>]<span class="op">?.</span><span class="at">_1996</span><span class="sc">}</span><span class="vs">&lt;/td&gt;</span></span>
<span id="cb1-214"><a href="#cb1-214" aria-hidden="true" tabindex="-1"></a><span class="vs">    &lt;td&gt;</span><span class="sc">${</span>htmlTables[<span class="dv">1</span>]<span class="op">?.</span><span class="at">_1997</span><span class="sc">}</span><span class="vs">&lt;/td&gt;</span></span>
<span id="cb1-215"><a href="#cb1-215" aria-hidden="true" tabindex="-1"></a><span class="vs">    &lt;td&gt;</span><span class="sc">${</span>htmlTables[<span class="dv">1</span>]<span class="op">?.</span><span class="at">_1998</span><span class="sc">}</span><span class="vs">&lt;/td&gt;</span></span>
<span id="cb1-216"><a href="#cb1-216" aria-hidden="true" tabindex="-1"></a><span class="vs">    &lt;td&gt;</span><span class="sc">${</span>htmlTables[<span class="dv">1</span>]<span class="op">?.</span><span class="at">_1999</span><span class="sc">}</span><span class="vs">&lt;/td&gt;</span></span>
<span id="cb1-217"><a href="#cb1-217" aria-hidden="true" tabindex="-1"></a><span class="vs">    &lt;td&gt;</span><span class="sc">${</span>htmlTables[<span class="dv">1</span>]<span class="op">?.</span><span class="at">_2000</span><span class="sc">}</span><span class="vs">&lt;/td&gt;</span></span>
<span id="cb1-218"><a href="#cb1-218" aria-hidden="true" tabindex="-1"></a><span class="vs">    &lt;td&gt;</span><span class="sc">${</span>htmlTables[<span class="dv">1</span>]<span class="op">?.</span><span class="at">_2001</span><span class="sc">}</span><span class="vs">&lt;/td&gt;</span></span>
<span id="cb1-219"><a href="#cb1-219" aria-hidden="true" tabindex="-1"></a><span class="vs">    &lt;td&gt;</span><span class="sc">${</span>htmlTables[<span class="dv">1</span>]<span class="op">?.</span><span class="at">_2002</span><span class="sc">}</span><span class="vs">&lt;/td&gt;</span></span>
<span id="cb1-220"><a href="#cb1-220" aria-hidden="true" tabindex="-1"></a><span class="vs">    &lt;td&gt;</span><span class="sc">${</span>htmlTables[<span class="dv">1</span>]<span class="op">?.</span><span class="at">_2003</span><span class="sc">}</span><span class="vs">&lt;/td&gt;</span></span>
<span id="cb1-221"><a href="#cb1-221" aria-hidden="true" tabindex="-1"></a><span class="vs">    &lt;td&gt;</span><span class="sc">${</span>htmlTables[<span class="dv">1</span>]<span class="op">?.</span><span class="at">_2004</span><span class="sc">}</span><span class="vs">&lt;/td&gt;</span></span>
<span id="cb1-222"><a href="#cb1-222" aria-hidden="true" tabindex="-1"></a><span class="vs">    &lt;td&gt;</span><span class="sc">${</span>htmlTables[<span class="dv">1</span>]<span class="op">?.</span><span class="at">_2005</span><span class="sc">}</span><span class="vs">&lt;/td&gt;</span></span>
<span id="cb1-223"><a href="#cb1-223" aria-hidden="true" tabindex="-1"></a><span class="vs">    &lt;td&gt;</span><span class="sc">${</span>htmlTables[<span class="dv">1</span>]<span class="op">?.</span><span class="at">_2006</span><span class="sc">}</span><span class="vs">&lt;/td&gt;</span></span>
<span id="cb1-224"><a href="#cb1-224" aria-hidden="true" tabindex="-1"></a><span class="vs">    &lt;td&gt;</span><span class="sc">${</span>htmlTables[<span class="dv">1</span>]<span class="op">?.</span><span class="at">_2007</span><span class="sc">}</span><span class="vs">&lt;/td&gt;</span></span>
<span id="cb1-225"><a href="#cb1-225" aria-hidden="true" tabindex="-1"></a><span class="vs">    &lt;td&gt;</span><span class="sc">${</span>htmlTables[<span class="dv">1</span>]<span class="op">?.</span><span class="at">_2008</span><span class="sc">}</span><span class="vs">&lt;/td&gt;</span></span>
<span id="cb1-226"><a href="#cb1-226" aria-hidden="true" tabindex="-1"></a><span class="vs">    &lt;td&gt;</span><span class="sc">${</span>htmlTables[<span class="dv">1</span>]<span class="op">?.</span><span class="at">_2009</span><span class="sc">}</span><span class="vs">&lt;/td&gt;</span></span>
<span id="cb1-227"><a href="#cb1-227" aria-hidden="true" tabindex="-1"></a><span class="vs">    &lt;td&gt;</span><span class="sc">${</span>htmlTables[<span class="dv">1</span>]<span class="op">?.</span><span class="at">_2010</span><span class="sc">}</span><span class="vs">&lt;/td&gt;</span></span>
<span id="cb1-228"><a href="#cb1-228" aria-hidden="true" tabindex="-1"></a><span class="vs">    &lt;td&gt;</span><span class="sc">${</span>htmlTables[<span class="dv">1</span>]<span class="op">?.</span><span class="at">_2011</span><span class="sc">}</span><span class="vs">&lt;/td&gt;</span></span>
<span id="cb1-229"><a href="#cb1-229" aria-hidden="true" tabindex="-1"></a><span class="vs">    &lt;td&gt;</span><span class="sc">${</span>htmlTables[<span class="dv">1</span>]<span class="op">?.</span><span class="at">_2012</span><span class="sc">}</span><span class="vs">&lt;/td&gt;</span></span>
<span id="cb1-230"><a href="#cb1-230" aria-hidden="true" tabindex="-1"></a><span class="vs">    &lt;td&gt;</span><span class="sc">${</span>htmlTables[<span class="dv">1</span>]<span class="op">?.</span><span class="at">_2013</span><span class="sc">}</span><span class="vs">&lt;/td&gt;</span></span>
<span id="cb1-231"><a href="#cb1-231" aria-hidden="true" tabindex="-1"></a><span class="vs">    &lt;td&gt;</span><span class="sc">${</span>htmlTables[<span class="dv">1</span>]<span class="op">?.</span><span class="at">_2014</span><span class="sc">}</span><span class="vs">&lt;/td&gt;</span></span>
<span id="cb1-232"><a href="#cb1-232" aria-hidden="true" tabindex="-1"></a><span class="vs">    &lt;td&gt;</span><span class="sc">${</span>htmlTables[<span class="dv">1</span>]<span class="op">?.</span><span class="at">_2015</span><span class="sc">}</span><span class="vs">&lt;/td&gt;</span></span>
<span id="cb1-233"><a href="#cb1-233" aria-hidden="true" tabindex="-1"></a><span class="vs">    &lt;td&gt;</span><span class="sc">${</span>htmlTables[<span class="dv">1</span>]<span class="op">?.</span><span class="at">_2016</span><span class="sc">}</span><span class="vs">&lt;/td&gt;</span></span>
<span id="cb1-234"><a href="#cb1-234" aria-hidden="true" tabindex="-1"></a><span class="vs">    &lt;td&gt;</span><span class="sc">${</span>htmlTables[<span class="dv">1</span>]<span class="op">?.</span><span class="at">_2017</span><span class="sc">}</span><span class="vs">&lt;/td&gt;</span></span>
<span id="cb1-235"><a href="#cb1-235" aria-hidden="true" tabindex="-1"></a><span class="vs">    &lt;td&gt;</span><span class="sc">${</span>htmlTables[<span class="dv">1</span>]<span class="op">?.</span><span class="at">_2018</span><span class="sc">}</span><span class="vs">&lt;/td&gt;</span></span>
<span id="cb1-236"><a href="#cb1-236" aria-hidden="true" tabindex="-1"></a><span class="vs">    &lt;td&gt;</span><span class="sc">${</span>htmlTables[<span class="dv">1</span>]<span class="op">?.</span><span class="at">_2019</span><span class="sc">}</span><span class="vs">&lt;/td&gt;</span></span>
<span id="cb1-237"><a href="#cb1-237" aria-hidden="true" tabindex="-1"></a><span class="vs">    &lt;td&gt;</span><span class="sc">${</span>htmlTables[<span class="dv">1</span>]<span class="op">?.</span><span class="at">_2020</span><span class="sc">}</span><span class="vs">&lt;/td&gt;</span></span>
<span id="cb1-238"><a href="#cb1-238" aria-hidden="true" tabindex="-1"></a><span class="vs">    &lt;td&gt;</span><span class="sc">${</span>htmlTables[<span class="dv">1</span>]<span class="op">?.</span><span class="at">_2021</span><span class="sc">}</span><span class="vs">&lt;/td&gt;</span></span>
<span id="cb1-239"><a href="#cb1-239" aria-hidden="true" tabindex="-1"></a><span class="vs">    &lt;td&gt;</span><span class="sc">${</span>htmlTables[<span class="dv">1</span>]<span class="op">?.</span><span class="at">_2022</span><span class="sc">}</span><span class="vs">&lt;/td&gt;</span></span>
<span id="cb1-240"><a href="#cb1-240" aria-hidden="true" tabindex="-1"></a><span class="vs">    &lt;td&gt;</span><span class="sc">${</span>htmlTables[<span class="dv">1</span>]<span class="op">?.</span><span class="at">_2023</span><span class="sc">}</span><span class="vs">&lt;/td&gt;</span></span>
<span id="cb1-241"><a href="#cb1-241" aria-hidden="true" tabindex="-1"></a><span class="vs">    &lt;td&gt;</span><span class="sc">${</span>htmlTables[<span class="dv">1</span>]<span class="op">?.</span><span class="at">_2024</span><span class="sc">}</span><span class="vs">&lt;/td&gt;</span></span>
<span id="cb1-242"><a href="#cb1-242" aria-hidden="true" tabindex="-1"></a><span class="vs">    &lt;td&gt;</span><span class="sc">${</span>htmlTables[<span class="dv">1</span>]<span class="op">?.</span><span class="at">changeEstimate</span><span class="sc">}</span><span class="vs">&lt;/td&gt;</span></span>
<span id="cb1-243"><a href="#cb1-243" aria-hidden="true" tabindex="-1"></a><span class="vs">  &lt;/tr&gt;</span></span>
<span id="cb1-244"><a href="#cb1-244" aria-hidden="true" tabindex="-1"></a><span class="vs">  &lt;tr&gt;</span></span>
<span id="cb1-245"><a href="#cb1-245" aria-hidden="true" tabindex="-1"></a><span class="vs">    &lt;td&gt;</span><span class="sc">${</span>htmlTables[<span class="dv">2</span>]<span class="op">?.</span><span class="at">time</span><span class="sc">}</span><span class="vs">&lt;/td&gt;</span></span>
<span id="cb1-246"><a href="#cb1-246" aria-hidden="true" tabindex="-1"></a><span class="vs">    &lt;td&gt;</span><span class="sc">${</span>htmlTables[<span class="dv">2</span>]<span class="op">?.</span><span class="at">grade</span><span class="sc">}</span><span class="vs">&lt;/td&gt;</span></span>
<span id="cb1-247"><a href="#cb1-247" aria-hidden="true" tabindex="-1"></a><span class="vs">    &lt;td&gt;</span><span class="sc">${</span>htmlTables[<span class="dv">2</span>]<span class="op">?.</span><span class="at">_1975</span><span class="sc">}</span><span class="vs">&lt;/td&gt;</span></span>
<span id="cb1-248"><a href="#cb1-248" aria-hidden="true" tabindex="-1"></a><span class="vs">    &lt;td&gt;</span><span class="sc">${</span>htmlTables[<span class="dv">2</span>]<span class="op">?.</span><span class="at">_1976</span><span class="sc">}</span><span class="vs">&lt;/td&gt;</span></span>
<span id="cb1-249"><a href="#cb1-249" aria-hidden="true" tabindex="-1"></a><span class="vs">    &lt;td&gt;</span><span class="sc">${</span>htmlTables[<span class="dv">2</span>]<span class="op">?.</span><span class="at">_1977</span><span class="sc">}</span><span class="vs">&lt;/td&gt;</span></span>
<span id="cb1-250"><a href="#cb1-250" aria-hidden="true" tabindex="-1"></a><span class="vs">    &lt;td&gt;</span><span class="sc">${</span>htmlTables[<span class="dv">2</span>]<span class="op">?.</span><span class="at">_1978</span><span class="sc">}</span><span class="vs">&lt;/td&gt;</span></span>
<span id="cb1-251"><a href="#cb1-251" aria-hidden="true" tabindex="-1"></a><span class="vs">    &lt;td&gt;</span><span class="sc">${</span>htmlTables[<span class="dv">2</span>]<span class="op">?.</span><span class="at">_1979</span><span class="sc">}</span><span class="vs">&lt;/td&gt;</span></span>
<span id="cb1-252"><a href="#cb1-252" aria-hidden="true" tabindex="-1"></a><span class="vs">    &lt;td&gt;</span><span class="sc">${</span>htmlTables[<span class="dv">2</span>]<span class="op">?.</span><span class="at">_1980</span><span class="sc">}</span><span class="vs">&lt;/td&gt;</span></span>
<span id="cb1-253"><a href="#cb1-253" aria-hidden="true" tabindex="-1"></a><span class="vs">    &lt;td&gt;</span><span class="sc">${</span>htmlTables[<span class="dv">2</span>]<span class="op">?.</span><span class="at">_1981</span><span class="sc">}</span><span class="vs">&lt;/td&gt;</span></span>
<span id="cb1-254"><a href="#cb1-254" aria-hidden="true" tabindex="-1"></a><span class="vs">    &lt;td&gt;</span><span class="sc">${</span>htmlTables[<span class="dv">2</span>]<span class="op">?.</span><span class="at">_1982</span><span class="sc">}</span><span class="vs">&lt;/td&gt;</span></span>
<span id="cb1-255"><a href="#cb1-255" aria-hidden="true" tabindex="-1"></a><span class="vs">    &lt;td&gt;</span><span class="sc">${</span>htmlTables[<span class="dv">2</span>]<span class="op">?.</span><span class="at">_1983</span><span class="sc">}</span><span class="vs">&lt;/td&gt;</span></span>
<span id="cb1-256"><a href="#cb1-256" aria-hidden="true" tabindex="-1"></a><span class="vs">    &lt;td&gt;</span><span class="sc">${</span>htmlTables[<span class="dv">2</span>]<span class="op">?.</span><span class="at">_1984</span><span class="sc">}</span><span class="vs">&lt;/td&gt;</span></span>
<span id="cb1-257"><a href="#cb1-257" aria-hidden="true" tabindex="-1"></a><span class="vs">    &lt;td&gt;</span><span class="sc">${</span>htmlTables[<span class="dv">2</span>]<span class="op">?.</span><span class="at">_1985</span><span class="sc">}</span><span class="vs">&lt;/td&gt;</span></span>
<span id="cb1-258"><a href="#cb1-258" aria-hidden="true" tabindex="-1"></a><span class="vs">    &lt;td&gt;</span><span class="sc">${</span>htmlTables[<span class="dv">2</span>]<span class="op">?.</span><span class="at">_1986</span><span class="sc">}</span><span class="vs">&lt;/td&gt;</span></span>
<span id="cb1-259"><a href="#cb1-259" aria-hidden="true" tabindex="-1"></a><span class="vs">    &lt;td&gt;</span><span class="sc">${</span>htmlTables[<span class="dv">2</span>]<span class="op">?.</span><span class="at">_1987</span><span class="sc">}</span><span class="vs">&lt;/td&gt;</span></span>
<span id="cb1-260"><a href="#cb1-260" aria-hidden="true" tabindex="-1"></a><span class="vs">    &lt;td&gt;</span><span class="sc">${</span>htmlTables[<span class="dv">2</span>]<span class="op">?.</span><span class="at">_1988</span><span class="sc">}</span><span class="vs">&lt;/td&gt;</span></span>
<span id="cb1-261"><a href="#cb1-261" aria-hidden="true" tabindex="-1"></a><span class="vs">    &lt;td&gt;</span><span class="sc">${</span>htmlTables[<span class="dv">2</span>]<span class="op">?.</span><span class="at">_1989</span><span class="sc">}</span><span class="vs">&lt;/td&gt;</span></span>
<span id="cb1-262"><a href="#cb1-262" aria-hidden="true" tabindex="-1"></a><span class="vs">    &lt;td&gt;</span><span class="sc">${</span>htmlTables[<span class="dv">2</span>]<span class="op">?.</span><span class="at">_1990</span><span class="sc">}</span><span class="vs">&lt;/td&gt;</span></span>
<span id="cb1-263"><a href="#cb1-263" aria-hidden="true" tabindex="-1"></a><span class="vs">    &lt;td&gt;</span><span class="sc">${</span>htmlTables[<span class="dv">2</span>]<span class="op">?.</span><span class="at">_1991</span><span class="sc">}</span><span class="vs">&lt;/td&gt;</span></span>
<span id="cb1-264"><a href="#cb1-264" aria-hidden="true" tabindex="-1"></a><span class="vs">    &lt;td&gt;</span><span class="sc">${</span>htmlTables[<span class="dv">2</span>]<span class="op">?.</span><span class="at">_1992</span><span class="sc">}</span><span class="vs">&lt;/td&gt;</span></span>
<span id="cb1-265"><a href="#cb1-265" aria-hidden="true" tabindex="-1"></a><span class="vs">    &lt;td&gt;</span><span class="sc">${</span>htmlTables[<span class="dv">2</span>]<span class="op">?.</span><span class="at">_1993</span><span class="sc">}</span><span class="vs">&lt;/td&gt;</span></span>
<span id="cb1-266"><a href="#cb1-266" aria-hidden="true" tabindex="-1"></a><span class="vs">    &lt;td&gt;</span><span class="sc">${</span>htmlTables[<span class="dv">2</span>]<span class="op">?.</span><span class="at">_1994</span><span class="sc">}</span><span class="vs">&lt;/td&gt;</span></span>
<span id="cb1-267"><a href="#cb1-267" aria-hidden="true" tabindex="-1"></a><span class="vs">    &lt;td&gt;</span><span class="sc">${</span>htmlTables[<span class="dv">2</span>]<span class="op">?.</span><span class="at">_1995</span><span class="sc">}</span><span class="vs">&lt;/td&gt;</span></span>
<span id="cb1-268"><a href="#cb1-268" aria-hidden="true" tabindex="-1"></a><span class="vs">    &lt;td&gt;</span><span class="sc">${</span>htmlTables[<span class="dv">2</span>]<span class="op">?.</span><span class="at">_1996</span><span class="sc">}</span><span class="vs">&lt;/td&gt;</span></span>
<span id="cb1-269"><a href="#cb1-269" aria-hidden="true" tabindex="-1"></a><span class="vs">    &lt;td&gt;</span><span class="sc">${</span>htmlTables[<span class="dv">2</span>]<span class="op">?.</span><span class="at">_1997</span><span class="sc">}</span><span class="vs">&lt;/td&gt;</span></span>
<span id="cb1-270"><a href="#cb1-270" aria-hidden="true" tabindex="-1"></a><span class="vs">    &lt;td&gt;</span><span class="sc">${</span>htmlTables[<span class="dv">2</span>]<span class="op">?.</span><span class="at">_1998</span><span class="sc">}</span><span class="vs">&lt;/td&gt;</span></span>
<span id="cb1-271"><a href="#cb1-271" aria-hidden="true" tabindex="-1"></a><span class="vs">    &lt;td&gt;</span><span class="sc">${</span>htmlTables[<span class="dv">2</span>]<span class="op">?.</span><span class="at">_1999</span><span class="sc">}</span><span class="vs">&lt;/td&gt;</span></span>
<span id="cb1-272"><a href="#cb1-272" aria-hidden="true" tabindex="-1"></a><span class="vs">    &lt;td&gt;</span><span class="sc">${</span>htmlTables[<span class="dv">2</span>]<span class="op">?.</span><span class="at">_2000</span><span class="sc">}</span><span class="vs">&lt;/td&gt;</span></span>
<span id="cb1-273"><a href="#cb1-273" aria-hidden="true" tabindex="-1"></a><span class="vs">    &lt;td&gt;</span><span class="sc">${</span>htmlTables[<span class="dv">2</span>]<span class="op">?.</span><span class="at">_2001</span><span class="sc">}</span><span class="vs">&lt;/td&gt;</span></span>
<span id="cb1-274"><a href="#cb1-274" aria-hidden="true" tabindex="-1"></a><span class="vs">    &lt;td&gt;</span><span class="sc">${</span>htmlTables[<span class="dv">2</span>]<span class="op">?.</span><span class="at">_2002</span><span class="sc">}</span><span class="vs">&lt;/td&gt;</span></span>
<span id="cb1-275"><a href="#cb1-275" aria-hidden="true" tabindex="-1"></a><span class="vs">    &lt;td&gt;</span><span class="sc">${</span>htmlTables[<span class="dv">2</span>]<span class="op">?.</span><span class="at">_2003</span><span class="sc">}</span><span class="vs">&lt;/td&gt;</span></span>
<span id="cb1-276"><a href="#cb1-276" aria-hidden="true" tabindex="-1"></a><span class="vs">    &lt;td&gt;</span><span class="sc">${</span>htmlTables[<span class="dv">2</span>]<span class="op">?.</span><span class="at">_2004</span><span class="sc">}</span><span class="vs">&lt;/td&gt;</span></span>
<span id="cb1-277"><a href="#cb1-277" aria-hidden="true" tabindex="-1"></a><span class="vs">    &lt;td&gt;</span><span class="sc">${</span>htmlTables[<span class="dv">2</span>]<span class="op">?.</span><span class="at">_2005</span><span class="sc">}</span><span class="vs">&lt;/td&gt;</span></span>
<span id="cb1-278"><a href="#cb1-278" aria-hidden="true" tabindex="-1"></a><span class="vs">    &lt;td&gt;</span><span class="sc">${</span>htmlTables[<span class="dv">2</span>]<span class="op">?.</span><span class="at">_2006</span><span class="sc">}</span><span class="vs">&lt;/td&gt;</span></span>
<span id="cb1-279"><a href="#cb1-279" aria-hidden="true" tabindex="-1"></a><span class="vs">    &lt;td&gt;</span><span class="sc">${</span>htmlTables[<span class="dv">2</span>]<span class="op">?.</span><span class="at">_2007</span><span class="sc">}</span><span class="vs">&lt;/td&gt;</span></span>
<span id="cb1-280"><a href="#cb1-280" aria-hidden="true" tabindex="-1"></a><span class="vs">    &lt;td&gt;</span><span class="sc">${</span>htmlTables[<span class="dv">2</span>]<span class="op">?.</span><span class="at">_2008</span><span class="sc">}</span><span class="vs">&lt;/td&gt;</span></span>
<span id="cb1-281"><a href="#cb1-281" aria-hidden="true" tabindex="-1"></a><span class="vs">    &lt;td&gt;</span><span class="sc">${</span>htmlTables[<span class="dv">2</span>]<span class="op">?.</span><span class="at">_2009</span><span class="sc">}</span><span class="vs">&lt;/td&gt;</span></span>
<span id="cb1-282"><a href="#cb1-282" aria-hidden="true" tabindex="-1"></a><span class="vs">    &lt;td&gt;</span><span class="sc">${</span>htmlTables[<span class="dv">2</span>]<span class="op">?.</span><span class="at">_2010</span><span class="sc">}</span><span class="vs">&lt;/td&gt;</span></span>
<span id="cb1-283"><a href="#cb1-283" aria-hidden="true" tabindex="-1"></a><span class="vs">    &lt;td&gt;</span><span class="sc">${</span>htmlTables[<span class="dv">2</span>]<span class="op">?.</span><span class="at">_2011</span><span class="sc">}</span><span class="vs">&lt;/td&gt;</span></span>
<span id="cb1-284"><a href="#cb1-284" aria-hidden="true" tabindex="-1"></a><span class="vs">    &lt;td&gt;</span><span class="sc">${</span>htmlTables[<span class="dv">2</span>]<span class="op">?.</span><span class="at">_2012</span><span class="sc">}</span><span class="vs">&lt;/td&gt;</span></span>
<span id="cb1-285"><a href="#cb1-285" aria-hidden="true" tabindex="-1"></a><span class="vs">    &lt;td&gt;</span><span class="sc">${</span>htmlTables[<span class="dv">2</span>]<span class="op">?.</span><span class="at">_2013</span><span class="sc">}</span><span class="vs">&lt;/td&gt;</span></span>
<span id="cb1-286"><a href="#cb1-286" aria-hidden="true" tabindex="-1"></a><span class="vs">    &lt;td&gt;</span><span class="sc">${</span>htmlTables[<span class="dv">2</span>]<span class="op">?.</span><span class="at">_2014</span><span class="sc">}</span><span class="vs">&lt;/td&gt;</span></span>
<span id="cb1-287"><a href="#cb1-287" aria-hidden="true" tabindex="-1"></a><span class="vs">    &lt;td&gt;</span><span class="sc">${</span>htmlTables[<span class="dv">2</span>]<span class="op">?.</span><span class="at">_2015</span><span class="sc">}</span><span class="vs">&lt;/td&gt;</span></span>
<span id="cb1-288"><a href="#cb1-288" aria-hidden="true" tabindex="-1"></a><span class="vs">    &lt;td&gt;</span><span class="sc">${</span>htmlTables[<span class="dv">2</span>]<span class="op">?.</span><span class="at">_2016</span><span class="sc">}</span><span class="vs">&lt;/td&gt;</span></span>
<span id="cb1-289"><a href="#cb1-289" aria-hidden="true" tabindex="-1"></a><span class="vs">    &lt;td&gt;</span><span class="sc">${</span>htmlTables[<span class="dv">2</span>]<span class="op">?.</span><span class="at">_2017</span><span class="sc">}</span><span class="vs">&lt;/td&gt;</span></span>
<span id="cb1-290"><a href="#cb1-290" aria-hidden="true" tabindex="-1"></a><span class="vs">    &lt;td&gt;</span><span class="sc">${</span>htmlTables[<span class="dv">2</span>]<span class="op">?.</span><span class="at">_2018</span><span class="sc">}</span><span class="vs">&lt;/td&gt;</span></span>
<span id="cb1-291"><a href="#cb1-291" aria-hidden="true" tabindex="-1"></a><span class="vs">    &lt;td&gt;</span><span class="sc">${</span>htmlTables[<span class="dv">2</span>]<span class="op">?.</span><span class="at">_2019</span><span class="sc">}</span><span class="vs">&lt;/td&gt;</span></span>
<span id="cb1-292"><a href="#cb1-292" aria-hidden="true" tabindex="-1"></a><span class="vs">    &lt;td&gt;</span><span class="sc">${</span>htmlTables[<span class="dv">2</span>]<span class="op">?.</span><span class="at">_2020</span><span class="sc">}</span><span class="vs">&lt;/td&gt;</span></span>
<span id="cb1-293"><a href="#cb1-293" aria-hidden="true" tabindex="-1"></a><span class="vs">    &lt;td&gt;</span><span class="sc">${</span>htmlTables[<span class="dv">2</span>]<span class="op">?.</span><span class="at">_2021</span><span class="sc">}</span><span class="vs">&lt;/td&gt;</span></span>
<span id="cb1-294"><a href="#cb1-294" aria-hidden="true" tabindex="-1"></a><span class="vs">    &lt;td&gt;</span><span class="sc">${</span>htmlTables[<span class="dv">2</span>]<span class="op">?.</span><span class="at">_2022</span><span class="sc">}</span><span class="vs">&lt;/td&gt;</span></span>
<span id="cb1-295"><a href="#cb1-295" aria-hidden="true" tabindex="-1"></a><span class="vs">    &lt;td&gt;</span><span class="sc">${</span>htmlTables[<span class="dv">2</span>]<span class="op">?.</span><span class="at">_2023</span><span class="sc">}</span><span class="vs">&lt;/td&gt;</span></span>
<span id="cb1-296"><a href="#cb1-296" aria-hidden="true" tabindex="-1"></a><span class="vs">    &lt;td&gt;</span><span class="sc">${</span>htmlTables[<span class="dv">2</span>]<span class="op">?.</span><span class="at">_2024</span><span class="sc">}</span><span class="vs">&lt;/td&gt;</span></span>
<span id="cb1-297"><a href="#cb1-297" aria-hidden="true" tabindex="-1"></a><span class="vs">    &lt;td&gt;</span><span class="sc">${</span>htmlTables[<span class="dv">2</span>]<span class="op">?.</span><span class="at">changeEstimate</span><span class="sc">}</span><span class="vs">&lt;/td&gt;</span></span>
<span id="cb1-298"><a href="#cb1-298" aria-hidden="true" tabindex="-1"></a><span class="vs">  &lt;/tr&gt;</span></span>
<span id="cb1-299"><a href="#cb1-299" aria-hidden="true" tabindex="-1"></a><span class="vs">&lt;/table&gt;</span></span>
<span id="cb1-300"><a href="#cb1-300" aria-hidden="true" tabindex="-1"></a><span class="vs">`</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-display">
<div id="ojs-cell-1" data-nodetype="declaration">

</div>
</div>
</div>
<p>In ObservableJS you can embed HTML, the <code>html</code> with the two escape characters allows you to write anything that you could put within an HTML. Here I use CSS in the beginning to style the table and to make it responsive to screen size changes. Then I list out all of the estimates by connecting them to the <code>htmlTables</code> dataset. When we search for new drugs via the <code>search</code> input or change the reporting interval via the <code>radio</code> buttons it updates the dataset. The estimates change dynamically because of the <code>${}</code> which inject the newly updated estimates via javascript. I named the code cell <code>wideTable</code> to use later on.</p>
</section>
<section id="accordion-buttons" class="level2">
<h2 class="anchored" data-anchor-id="accordion-buttons">Accordion Buttons</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb2" data-startfrom="307" data-source-offset="0"><pre class="sourceCode js code-with-copy"><code class="sourceCode javascript" style="counter-reset: source-line 306;"><span id="cb2-307"><a href="#cb2-307" aria-hidden="true" tabindex="-1"></a>accordionButtons <span class="op">=</span> </span>
<span id="cb2-308"><a href="#cb2-308" aria-hidden="true" tabindex="-1"></a><span class="fu">html</span><span class="vs">`</span></span>
<span id="cb2-309"><a href="#cb2-309" aria-hidden="true" tabindex="-1"></a><span class="vs">&lt;div style="width: 90%" class="accordion accordion-flush" id="accordionFlushExample"&gt;</span></span>
<span id="cb2-310"><a href="#cb2-310" aria-hidden="true" tabindex="-1"></a><span class="vs">  &lt;div class="accordion-item"&gt;</span></span>
<span id="cb2-311"><a href="#cb2-311" aria-hidden="true" tabindex="-1"></a><span class="vs">    &lt;h2 class="accordion-header" id="flush-headingOne"&gt;</span></span>
<span id="cb2-312"><a href="#cb2-312" aria-hidden="true" tabindex="-1"></a><span class="vs">      &lt;button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#flush-collapseOne" aria-expanded="false" aria-controls="flush-collapseOne"&gt;</span></span>
<span id="cb2-313"><a href="#cb2-313" aria-hidden="true" tabindex="-1"></a><span class="vs">        Table with Detailed Estimates</span></span>
<span id="cb2-314"><a href="#cb2-314" aria-hidden="true" tabindex="-1"></a><span class="vs">      &lt;/button&gt;</span></span>
<span id="cb2-315"><a href="#cb2-315" aria-hidden="true" tabindex="-1"></a><span class="vs">    &lt;/h2&gt;</span></span>
<span id="cb2-316"><a href="#cb2-316" aria-hidden="true" tabindex="-1"></a><span class="vs">    &lt;div id="flush-collapseOne" class="accordion-collapse collapse" aria-labelledby="flush-headingOne" data-bs-parent="#accordionFlushExample"&gt;</span></span>
<span id="cb2-317"><a href="#cb2-317" aria-hidden="true" tabindex="-1"></a><span class="vs">      &lt;div class="accordion-body"&gt;</span></span>
<span id="cb2-318"><a href="#cb2-318" aria-hidden="true" tabindex="-1"></a><span class="vs">              &lt;div class="branch"&gt;&lt;div&gt;</span><span class="sc">${</span>wideTable<span class="sc">}</span><span class="vs">&lt;/div&gt;&lt;/div&gt;</span></span>
<span id="cb2-319"><a href="#cb2-319" aria-hidden="true" tabindex="-1"></a><span class="vs">                &lt;div&gt;</span></span>
<span id="cb2-320"><a href="#cb2-320" aria-hidden="true" tabindex="-1"></a><span class="vs">                &lt;p style="font-size: small; margin-bottom: 0px;"&gt;Note:</span></span>
<span id="cb2-321"><a href="#cb2-321" aria-hidden="true" tabindex="-1"></a><span class="vs">                      Level of significance: *=p&lt;.05, **=p&lt;.01, ***=p&lt;.001. &lt;br&gt;</span></span>
<span id="cb2-322"><a href="#cb2-322" aria-hidden="true" tabindex="-1"></a><span class="vs">                      "." indicates data is not available. &lt;br&gt;</span></span>
<span id="cb2-323"><a href="#cb2-323" aria-hidden="true" tabindex="-1"></a><span class="vs">                      "&amp;Dagger;" indicates that the question changed the following year. &lt;br&gt;</span></span>
<span id="cb2-324"><a href="#cb2-324" aria-hidden="true" tabindex="-1"></a><span class="vs">                      "&amp;sect;" indicates insufficient data for that year. &lt;br&gt;</span></span>
<span id="cb2-325"><a href="#cb2-325" aria-hidden="true" tabindex="-1"></a><span class="vs">                      &lt;a href="https://monitoringthefuture.org/data/bx-by/drug-prevalence/Footnotes.pdf"&gt;Footnotes (PDF)&lt;/a&gt;&lt;/p&gt;&lt;/div&gt;</span></span>
<span id="cb2-326"><a href="#cb2-326" aria-hidden="true" tabindex="-1"></a><span class="vs">                      </span></span>
<span id="cb2-327"><a href="#cb2-327" aria-hidden="true" tabindex="-1"></a><span class="vs">          &lt;/div&gt;</span></span>
<span id="cb2-328"><a href="#cb2-328" aria-hidden="true" tabindex="-1"></a><span class="vs">    &lt;/div&gt;</span></span>
<span id="cb2-329"><a href="#cb2-329" aria-hidden="true" tabindex="-1"></a><span class="vs">  &lt;/div&gt;</span></span>
<span id="cb2-330"><a href="#cb2-330" aria-hidden="true" tabindex="-1"></a><span class="vs">  &lt;div class="accordion-item"&gt;</span></span>
<span id="cb2-331"><a href="#cb2-331" aria-hidden="true" tabindex="-1"></a><span class="vs">    &lt;h2 class="accordion-header" id="flush-headingTwo"&gt;</span></span>
<span id="cb2-332"><a href="#cb2-332" aria-hidden="true" tabindex="-1"></a><span class="vs">      &lt;button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#flush-collapseTwo" aria-expanded="false" aria-controls="flush-collapseTwo"&gt;</span></span>
<span id="cb2-333"><a href="#cb2-333" aria-hidden="true" tabindex="-1"></a><span class="vs">        Commentary</span></span>
<span id="cb2-334"><a href="#cb2-334" aria-hidden="true" tabindex="-1"></a><span class="vs">      &lt;/button&gt;</span></span>
<span id="cb2-335"><a href="#cb2-335" aria-hidden="true" tabindex="-1"></a><span class="vs">    &lt;/h2&gt;</span></span>
<span id="cb2-336"><a href="#cb2-336" aria-hidden="true" tabindex="-1"></a><span class="vs">    &lt;div id="flush-collapseTwo" class="accordion-collapse collapse" aria-labelledby="flush-headingTwo" data-bs-parent="#accordionFlushExample"&gt;</span></span>
<span id="cb2-337"><a href="#cb2-337" aria-hidden="true" tabindex="-1"></a><span class="vs">      &lt;div style="display: flex; justify-content: center; width:100%" class="accordion-body"&gt;</span><span class="sc">${</span>editdoc<span class="sc">}</span><span class="vs">&lt;/div&gt;</span></span>
<span id="cb2-338"><a href="#cb2-338" aria-hidden="true" tabindex="-1"></a><span class="vs">    &lt;/div&gt;</span></span>
<span id="cb2-339"><a href="#cb2-339" aria-hidden="true" tabindex="-1"></a><span class="vs">  &lt;/div&gt;</span></span>
<span id="cb2-340"><a href="#cb2-340" aria-hidden="true" tabindex="-1"></a><span class="vs">&lt;/div&gt;`</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<div id="ojs-cell-2" data-nodetype="declaration">

</div>
</div>
</div>
<p>Here I am again using the <code>html</code> tag to embed some <a href="https://getbootstrap.com/docs/5.2/components/accordion/#flush"><code>accordianButtons</code></a>. Because Quarto uses Bootstrap for styling, I just need to add the class and id tags for the buttons to inherit the button styles. In addition, I use <code>${wideTable}</code> to place the reactive html table code and <code>${editdoc}</code> to place the linked google doc within the accordian buttons so that we will see it when we click on the button. I also link to a dataset that has all of the footnote letter superscripts for the prevalence figures <code>${googledoclink[0].Superscript}</code> and updates according to the drug.</p>
</section>
<section id="citation" class="level2">
<h2 class="anchored" data-anchor-id="citation">Citation</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb3" data-startfrom="350" data-source-offset="0"><pre class="sourceCode js code-with-copy"><code class="sourceCode javascript" style="counter-reset: source-line 349;"><span id="cb3-350"><a href="#cb3-350" aria-hidden="true" tabindex="-1"></a>citation <span class="op">=</span> <span class="fu">html</span><span class="vs">`&lt;div style="max-width: 750px;"&gt;&lt;p style="font-size: small;"&gt;Miech, R. A., Johnston, L. D., Patrick, M. E., &amp; O’Malley, P. M. (2025). Monitoring the Future national survey results on drug use, 1975–2024: Overview and detailed results for secondary school students. Monitoring the Future Monograph Series. Ann Arbor, MI: Institute for Social Research, University of Michigan. Available at &lt;a href="https://monitoringthefuture.org/results/annual-reports/"&gt;https://monitoringthefuture.org/results/annual-reports/&lt;/a&gt;&lt;/p&gt;&lt;/div&gt;`</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<div id="ojs-cell-3" data-nodetype="declaration">

</div>
</div>
</div>
<p>Here is the citation section that links to the monographs on the Monitoring the Future website.</p>
</section>
<section id="footnotes" class="level2">
<h2 class="anchored" data-anchor-id="footnotes">Footnotes</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb4" data-startfrom="358" data-source-offset="0"><pre class="sourceCode js code-with-copy"><code class="sourceCode javascript" style="counter-reset: source-line 357;"><span id="cb4-358"><a href="#cb4-358" aria-hidden="true" tabindex="-1"></a>footnotes <span class="op">=</span> <span class="fu">html</span><span class="vs">`&lt;p style="font-size: small;"&gt;&lt;span style="color:#ff57f9; font-weight:500;"&gt;2023-2024 Change Level of Significance: *=p&lt;.05, **=p&lt;.01, ***=p&lt;.001.&lt;/span&gt; &lt;br&gt; &lt;a href="https://monitoringthefuture.org/data/bx-by/drug-prevalence/Footnotes.pdf"&gt;Footnotes (PDF)&lt;/a&gt;&lt;/p&gt;`</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<div id="ojs-cell-4" data-nodetype="declaration">

</div>
</div>
</div>
<p>This is the footnote uses the same <code>${googledoclink[0].Superscript}</code> to update the letter according to which drug is searched.</p>
</section>
<section id="commentary-data" class="level2">
<h2 class="anchored" data-anchor-id="commentary-data">Commentary Data</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb5" data-startfrom="367" data-source-offset="-0"><pre class="sourceCode js code-with-copy"><code class="sourceCode javascript" style="counter-reset: source-line 366;"><span id="cb5-367"><a href="#cb5-367" aria-hidden="true" tabindex="-1"></a>drugCommentary <span class="op">=</span> <span class="fu">FileAttachment</span>(<span class="st">"drug-commentary.csv"</span>)<span class="op">.</span><span class="fu">csv</span>()</span>
<span id="cb5-368"><a href="#cb5-368" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-369"><a href="#cb5-369" aria-hidden="true" tabindex="-1"></a>googledoclink <span class="op">=</span> drugCommentary<span class="op">.</span><span class="fu">filter</span>(</span>
<span id="cb5-370"><a href="#cb5-370" aria-hidden="true" tabindex="-1"></a>  ({ DrugName }) <span class="kw">=&gt;</span> DrugName<span class="op">.</span><span class="fu">toLocaleLowerCase</span>() <span class="op">===</span> select<span class="op">.</span><span class="fu">toLocaleLowerCase</span>()</span>
<span id="cb5-371"><a href="#cb5-371" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb5-372"><a href="#cb5-372" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-373"><a href="#cb5-373" aria-hidden="true" tabindex="-1"></a>editdoc <span class="op">=</span> <span class="fu">html</span><span class="vs">`&lt;iframe width="100%" height="800px" src=</span><span class="sc">${</span>googledoclink[<span class="dv">0</span>]<span class="op">.</span><span class="at">EditLink</span><span class="sc">}</span><span class="vs">&gt;&lt;/iframe&gt;`</span></span>
<span id="cb5-374"><a href="#cb5-374" aria-hidden="true" tabindex="-1"></a>publishdoc <span class="op">=</span> <span class="fu">html</span><span class="vs">`&lt;iframe style="width:900px; height:1300px;"src=</span><span class="sc">${</span>googledoclink[<span class="dv">0</span>]<span class="op">.</span><span class="at">PublishLink</span><span class="sc">}</span><span class="vs">&gt;&lt;/iframe&gt;`</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<div>
<div id="ojs-cell-5-1" data-nodetype="declaration">

</div>
</div>
</div>
<div class="cell-output cell-output-display">
<div>
<div id="ojs-cell-5-2" data-nodetype="declaration">

</div>
</div>
</div>
<div class="cell-output cell-output-display">
<div>
<div id="ojs-cell-5-3" data-nodetype="declaration">

</div>
</div>
</div>
<div class="cell-output cell-output-display">
<div>
<div id="ojs-cell-5-4" data-nodetype="declaration">

</div>
</div>
</div>
</div>
<p>This is where the commentary dataset lives. It is set up to filter by <code>DrugName</code> via the <code>search</code> input. This houses the links to both the editable and the published google docs organized by drug name. In addition it has each footnote letter organized by drug name. I named each version of google doc so that I can easily switch between them.</p>
</section>
<section id="table-data" class="level2">
<h2 class="anchored" data-anchor-id="table-data">Table Data</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb6" data-startfrom="381" data-source-offset="-0"><pre class="sourceCode js code-with-copy"><code class="sourceCode javascript" style="counter-reset: source-line 380;"><span id="cb6-381"><a href="#cb6-381" aria-hidden="true" tabindex="-1"></a>tables <span class="op">=</span> <span class="fu">FileAttachment</span>(<span class="st">"tabledata.csv"</span>)<span class="op">.</span><span class="fu">csv</span>({ <span class="dt">typed</span><span class="op">:</span> <span class="kw">true</span> })</span>
<span id="cb6-382"><a href="#cb6-382" aria-hidden="true" tabindex="-1"></a>tables2 <span class="op">=</span> <span class="fu">FileAttachment</span>(<span class="st">"tabledata.csv"</span>)<span class="op">.</span><span class="fu">csv</span>()</span>
<span id="cb6-383"><a href="#cb6-383" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-384"><a href="#cb6-384" aria-hidden="true" tabindex="-1"></a>tablesDrug <span class="op">=</span> tables<span class="op">.</span><span class="fu">filter</span>(</span>
<span id="cb6-385"><a href="#cb6-385" aria-hidden="true" tabindex="-1"></a>  ({ drug }) <span class="kw">=&gt;</span> drug<span class="op">.</span><span class="fu">toLocaleLowerCase</span>() <span class="op">===</span> select<span class="op">.</span><span class="fu">toLocaleLowerCase</span>()</span>
<span id="cb6-386"><a href="#cb6-386" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb6-387"><a href="#cb6-387" aria-hidden="true" tabindex="-1"></a>tablesDrug2 <span class="op">=</span> tables2<span class="op">.</span><span class="fu">filter</span>(</span>
<span id="cb6-388"><a href="#cb6-388" aria-hidden="true" tabindex="-1"></a>  ({ drug }) <span class="kw">=&gt;</span> drug<span class="op">.</span><span class="fu">toLocaleLowerCase</span>() <span class="op">===</span> select<span class="op">.</span><span class="fu">toLocaleLowerCase</span>()</span>
<span id="cb6-389"><a href="#cb6-389" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb6-390"><a href="#cb6-390" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-391"><a href="#cb6-391" aria-hidden="true" tabindex="-1"></a>tablesDrugTime <span class="op">=</span> tablesDrug<span class="op">.</span><span class="fu">filter</span>(({ time }) <span class="kw">=&gt;</span> time <span class="op">===</span> radio[<span class="dv">0</span>]<span class="op">.</span><span class="at">time</span>)</span>
<span id="cb6-392"><a href="#cb6-392" aria-hidden="true" tabindex="-1"></a>tablesDrugTime2 <span class="op">=</span> tablesDrug2<span class="op">.</span><span class="fu">filter</span>(({ time }) <span class="kw">=&gt;</span> time <span class="op">===</span> radio[<span class="dv">0</span>]<span class="op">.</span><span class="at">time</span>)</span>
<span id="cb6-393"><a href="#cb6-393" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-394"><a href="#cb6-394" aria-hidden="true" tabindex="-1"></a>tablesDrug2</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<div>
<div id="ojs-cell-6-1" data-nodetype="declaration">

</div>
</div>
</div>
<div class="cell-output cell-output-display">
<div>
<div id="ojs-cell-6-2" data-nodetype="declaration">

</div>
</div>
</div>
<div class="cell-output cell-output-display">
<div>
<div id="ojs-cell-6-3" data-nodetype="declaration">

</div>
</div>
</div>
<div class="cell-output cell-output-display">
<div>
<div id="ojs-cell-6-4" data-nodetype="declaration">

</div>
</div>
</div>
<div class="cell-output cell-output-display">
<div>
<div id="ojs-cell-6-5" data-nodetype="declaration">

</div>
</div>
</div>
<div class="cell-output cell-output-display">
<div>
<div id="ojs-cell-6-6" data-nodetype="declaration">

</div>
</div>
</div>
<div class="cell-output cell-output-display">
<div>
<div id="ojs-cell-6-7" data-nodetype="expression">

</div>
</div>
</div>
<div class="sourceCode cell-code" id="cb7" data-startfrom="396" data-source-offset="-495"><pre class="sourceCode js code-with-copy"><code class="sourceCode javascript" style="counter-reset: source-line 395;"><span id="cb7-396"><a href="#cb7-396" aria-hidden="true" tabindex="-1"></a>tablesDrugTime</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<div>
<div id="ojs-cell-6-8" data-nodetype="expression">

</div>
</div>
</div>
<div class="sourceCode cell-code" id="cb8" data-startfrom="398" data-source-offset="-513"><pre class="sourceCode js code-with-copy"><code class="sourceCode javascript" style="counter-reset: source-line 397;"><span id="cb8-398"><a href="#cb8-398" aria-hidden="true" tabindex="-1"></a>tablesDrugTime2</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<div>
<div id="ojs-cell-6-9" data-nodetype="expression">

</div>
</div>
</div>
<div class="sourceCode cell-code" id="cb9" data-startfrom="400" data-source-offset="-532"><pre class="sourceCode js code-with-copy"><code class="sourceCode javascript" style="counter-reset: source-line 399;"><span id="cb9-400"><a href="#cb9-400" aria-hidden="true" tabindex="-1"></a>htmlTables <span class="op">=</span> tablesDrugTime2</span>
<span id="cb9-401"><a href="#cb9-401" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb9-402"><a href="#cb9-402" aria-hidden="true" tabindex="-1"></a>htmlTables</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<div>
<div id="ojs-cell-6-10" data-nodetype="declaration">

</div>
</div>
</div>
<div class="cell-output cell-output-display">
<div>
<div id="ojs-cell-6-11" data-nodetype="expression">

</div>
</div>
</div>
</div>
<p>This is the data in wide format for the HTML tables. It is filtered by both <code>Drug</code> name and by <code>Time</code> reporting interval. I had to do it twice because one needs to be read by the graph for the asterisks and one needs to be displayed in the HTML tables. For some reason (still not 100% sure why) in order for the negative numbers to show in the HTML tables it needs to be untyped.</p>
</section>
<section id="plot-data" class="level2">
<h2 class="anchored" data-anchor-id="plot-data">Plot Data</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb10" data-startfrom="412" data-source-offset="-2"><pre class="sourceCode js code-with-copy"><code class="sourceCode javascript" style="counter-reset: source-line 411;"><span id="cb10-412"><a href="#cb10-412" aria-hidden="true" tabindex="-1"></a>prevalence <span class="op">=</span> <span class="fu">FileAttachment</span>(<span class="st">"plotdata.csv"</span>)<span class="op">.</span><span class="fu">csv</span>({ <span class="dt">typed</span><span class="op">:</span> <span class="kw">true</span> })</span>
<span id="cb10-413"><a href="#cb10-413" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-414"><a href="#cb10-414" aria-hidden="true" tabindex="-1"></a>prevalence</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<div>
<div id="ojs-cell-7-1" data-nodetype="declaration">

</div>
</div>
</div>
<div class="cell-output cell-output-display">
<div>
<div id="ojs-cell-7-2" data-nodetype="expression">

</div>
</div>
</div>
<div class="sourceCode cell-code" id="cb11" data-startfrom="416" data-source-offset="-84"><pre class="sourceCode js code-with-copy"><code class="sourceCode javascript" style="counter-reset: source-line 415;"><span id="cb11-416"><a href="#cb11-416" aria-hidden="true" tabindex="-1"></a>parser <span class="op">=</span> d3<span class="op">.</span><span class="fu">timeParse</span>(<span class="st">"%Y"</span>)</span>
<span id="cb11-417"><a href="#cb11-417" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-418"><a href="#cb11-418" aria-hidden="true" tabindex="-1"></a>data <span class="op">=</span> { <span class="co">// This creates new variables</span></span>
<span id="cb11-419"><a href="#cb11-419" aria-hidden="true" tabindex="-1"></a>  <span class="kw">const</span> subset <span class="op">=</span> prevalence<span class="op">.</span><span class="fu">map</span>(</span>
<span id="cb11-420"><a href="#cb11-420" aria-hidden="true" tabindex="-1"></a>    ({ drug<span class="op">,</span> time<span class="op">,</span> grade<span class="op">,</span> year<span class="op">,</span> estimate<span class="op">,</span> LBYear1<span class="op">,</span> LBYear2 }) <span class="kw">=&gt;</span> ({</span>
<span id="cb11-421"><a href="#cb11-421" aria-hidden="true" tabindex="-1"></a>      <span class="dt">drug</span><span class="op">:</span> drug<span class="op">,</span></span>
<span id="cb11-422"><a href="#cb11-422" aria-hidden="true" tabindex="-1"></a>      <span class="dt">time</span><span class="op">:</span> time<span class="op">,</span></span>
<span id="cb11-423"><a href="#cb11-423" aria-hidden="true" tabindex="-1"></a>      <span class="dt">grade</span><span class="op">:</span> grade<span class="op">,</span></span>
<span id="cb11-424"><a href="#cb11-424" aria-hidden="true" tabindex="-1"></a>      <span class="dt">year</span><span class="op">:</span> <span class="fu">parser</span>(year)<span class="op">,</span></span>
<span id="cb11-425"><a href="#cb11-425" aria-hidden="true" tabindex="-1"></a>      <span class="dt">estimate</span><span class="op">:</span> <span class="op">+</span>estimate<span class="op">.</span><span class="fu">toFixed</span>(<span class="dv">1</span>)<span class="op">,</span></span>
<span id="cb11-426"><a href="#cb11-426" aria-hidden="true" tabindex="-1"></a>      <span class="dt">LBYear1</span><span class="op">:</span> <span class="fu">parser</span>(LBYear1)<span class="op">,</span></span>
<span id="cb11-427"><a href="#cb11-427" aria-hidden="true" tabindex="-1"></a>      <span class="dt">LBYear2</span><span class="op">:</span> <span class="fu">parser</span>(LBYear2)</span>
<span id="cb11-428"><a href="#cb11-428" aria-hidden="true" tabindex="-1"></a>    })</span>
<span id="cb11-429"><a href="#cb11-429" aria-hidden="true" tabindex="-1"></a>  )<span class="op">;</span></span>
<span id="cb11-430"><a href="#cb11-430" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-431"><a href="#cb11-431" aria-hidden="true" tabindex="-1"></a>  <span class="cf">return</span> subset<span class="op">.</span><span class="fu">filter</span>(</span>
<span id="cb11-432"><a href="#cb11-432" aria-hidden="true" tabindex="-1"></a>    ({ drug }) <span class="kw">=&gt;</span> drug<span class="op">.</span><span class="fu">toLocaleLowerCase</span>() <span class="op">===</span> select<span class="op">.</span><span class="fu">toLocaleLowerCase</span>()</span>
<span id="cb11-433"><a href="#cb11-433" aria-hidden="true" tabindex="-1"></a>  )<span class="op">;</span></span>
<span id="cb11-434"><a href="#cb11-434" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb11-435"><a href="#cb11-435" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-436"><a href="#cb11-436" aria-hidden="true" tabindex="-1"></a>data</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<div>
<div id="ojs-cell-7-3" data-nodetype="declaration">

</div>
</div>
</div>
<div class="cell-output cell-output-display">
<div>
<div id="ojs-cell-7-4" data-nodetype="declaration">

</div>
</div>
</div>
<div class="cell-output cell-output-display">
<div>
<div id="ojs-cell-7-5" data-nodetype="expression">

</div>
</div>
</div>
</div>
<p>This is the data for the Plot. I attach the .csv file and use <code>.csv({ typed: true })</code> to try to have ObservableJS guess the data types of each of the variables. I do some data management to set it up to be read by Observable Plot the data visualization library. I name a time parser function <code>parser = d3.timeParse("%Y")</code> that I use later on to change the <code>year</code> variable from a number to a date <code>year: parser(year)</code> in addition I created two more variables to denote when there needs to be a line break <code>LBYear1</code> and <code>LBYear1</code>. I coerce the <code>estimate</code> variable into a number and round it to the tenths place <code>estimate: +estimate.toFixed(1)</code>. Then after I rewrite my variables I set the data to filter based on the <code>drug</code> name by the <code>search</code> input.</p>
</section>
<section id="search-bar" class="level2">
<h2 class="anchored" data-anchor-id="search-bar">Search Bar</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb12" data-startfrom="444" data-source-offset="-0"><pre class="sourceCode js code-with-copy"><code class="sourceCode javascript" style="counter-reset: source-line 443;"><span id="cb12-444"><a href="#cb12-444" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> {PersistInput} <span class="im">from</span> <span class="st">"@john-guerra/persist-input"</span></span>
<span id="cb12-445"><a href="#cb12-445" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> {aq<span class="op">,</span> op} <span class="im">from</span> <span class="st">"@uwdata/arquero"</span></span>
<span id="cb12-446"><a href="#cb12-446" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb12-447"><a href="#cb12-447" aria-hidden="true" tabindex="-1"></a>viewof drugs <span class="op">=</span> aq <span class="co">// viewof shows the table view, but assigns the table value</span></span>
<span id="cb12-448"><a href="#cb12-448" aria-hidden="true" tabindex="-1"></a>  <span class="op">.</span><span class="fu">fromCSV</span>(<span class="cf">await</span> <span class="fu">FileAttachment</span>(<span class="st">"plotdata.csv"</span>)<span class="op">.</span><span class="fu">text</span>())</span>
<span id="cb12-449"><a href="#cb12-449" aria-hidden="true" tabindex="-1"></a>  <span class="op">.</span><span class="fu">groupby</span>(<span class="st">"drug"</span>)</span>
<span id="cb12-450"><a href="#cb12-450" aria-hidden="true" tabindex="-1"></a>  <span class="op">.</span><span class="fu">count</span>()</span>
<span id="cb12-451"><a href="#cb12-451" aria-hidden="true" tabindex="-1"></a>  <span class="op">.</span><span class="fu">view</span>({ <span class="dt">height</span><span class="op">:</span> <span class="dv">240</span> })</span>
<span id="cb12-452"><a href="#cb12-452" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb12-453"><a href="#cb12-453" aria-hidden="true" tabindex="-1"></a>drugSelection <span class="op">=</span> drugs<span class="op">.</span><span class="fu">objects</span>()</span>
<span id="cb12-454"><a href="#cb12-454" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb12-455"><a href="#cb12-455" aria-hidden="true" tabindex="-1"></a>viewof search <span class="op">=</span> <span class="fu">PersistInput</span>( <span class="co">// This creates a reactive input called search</span></span>
<span id="cb12-456"><a href="#cb12-456" aria-hidden="true" tabindex="-1"></a>  <span class="st">"drug"</span><span class="op">,</span> form2)</span>
<span id="cb12-457"><a href="#cb12-457" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb12-458"><a href="#cb12-458" aria-hidden="true" tabindex="-1"></a> form2 <span class="op">=</span> {</span>
<span id="cb12-459"><a href="#cb12-459" aria-hidden="true" tabindex="-1"></a>  <span class="kw">const</span> form <span class="op">=</span> Inputs<span class="op">.</span><span class="fu">text</span>({</span>
<span id="cb12-460"><a href="#cb12-460" aria-hidden="true" tabindex="-1"></a>    <span class="dt">datalist</span><span class="op">:</span> drugSelection<span class="op">.</span><span class="fu">map</span>((d) <span class="kw">=&gt;</span> d<span class="op">.</span><span class="at">drug</span>)<span class="op">,</span></span>
<span id="cb12-461"><a href="#cb12-461" aria-hidden="true" tabindex="-1"></a>    <span class="dt">placeholder</span><span class="op">:</span> <span class="st">"Search Drug"</span><span class="op">,</span></span>
<span id="cb12-462"><a href="#cb12-462" aria-hidden="true" tabindex="-1"></a>    <span class="dt">submit</span><span class="op">:</span> <span class="kw">true</span><span class="op">,</span></span>
<span id="cb12-463"><a href="#cb12-463" aria-hidden="true" tabindex="-1"></a>    <span class="dt">autocomplete</span><span class="op">:</span> <span class="kw">false</span><span class="op">,</span></span>
<span id="cb12-464"><a href="#cb12-464" aria-hidden="true" tabindex="-1"></a>    <span class="dt">spellcheck</span><span class="op">:</span> <span class="kw">true</span><span class="op">,</span></span>
<span id="cb12-465"><a href="#cb12-465" aria-hidden="true" tabindex="-1"></a>    <span class="dt">width</span><span class="op">:</span> <span class="dv">300</span></span>
<span id="cb12-466"><a href="#cb12-466" aria-hidden="true" tabindex="-1"></a>  })<span class="op">;</span> </span>
<span id="cb12-467"><a href="#cb12-467" aria-hidden="true" tabindex="-1"></a>    form<span class="op">.</span><span class="fu">addEventListener</span>(<span class="st">"input"</span><span class="op">,</span> () <span class="kw">=&gt;</span> {form<span class="op">.</span><span class="at">text</span><span class="op">.</span><span class="at">value</span> <span class="op">=</span> <span class="st">""</span>})<span class="op">;</span></span>
<span id="cb12-468"><a href="#cb12-468" aria-hidden="true" tabindex="-1"></a>  <span class="cf">return</span> form<span class="op">;</span>}</span>
<span id="cb12-469"><a href="#cb12-469" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb12-470"><a href="#cb12-470" aria-hidden="true" tabindex="-1"></a>select <span class="op">=</span> search <span class="op">?</span> search <span class="op">:</span> <span class="st">"Alcohol"</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<div>
<div id="ojs-cell-8-1" data-nodetype="declaration">

</div>
</div>
</div>
<div class="cell-output cell-output-display">
<div>
<div id="ojs-cell-8-2" data-nodetype="declaration">

</div>
</div>
</div>
<div class="cell-output cell-output-display">
<div>
<div id="ojs-cell-8-3" data-nodetype="declaration">

</div>
</div>
</div>
<div class="cell-output cell-output-display">
<div>
<div id="ojs-cell-8-4" data-nodetype="declaration">

</div>
</div>
</div>
<div class="cell-output cell-output-display">
<div>
<div id="ojs-cell-8-5" data-nodetype="declaration">

</div>
</div>
</div>
<div class="cell-output cell-output-display">
<div>
<div id="ojs-cell-8-6" data-nodetype="declaration">

</div>
</div>
</div>
<div class="cell-output cell-output-display">
<div>
<div id="ojs-cell-8-7" data-nodetype="declaration">

</div>
</div>
</div>
</div>
<p>Here I import a function from this <a href="https://observablehq.com/@john-guerra/persist-input">notebook</a> to create a persistent URL hash based on the drug name that allows users to copy the URL and share a specific drug. For example, searching for Adderall would create <code>#drug="Adderall"</code> at the end of the URL that allows you to share the dashboard with the relevant Adderall information. I also imported the <a href="https://observablehq.com/@uwdata/introducing-arquero"><code>Aquero</code></a> Library which is a data management library for JavaScript similar to R’s Tidyverse package. I group the data by <code>drug</code> with <code>.groupby("drug")</code> and create a list of drug names to choose from with <code>drugSelection = drugs.objects()</code> and <code>datalist: drugSelection.map((d) =&gt; d.drug)</code>. The <code>viewof</code> in front of <code>search</code> is unique to ObservableJS. It allows you to pair inputs with values. <a href="https://observablehq.com/@observablehq/views">Here is more information on views.</a>. Lastly, I create a if statement with a <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Operators/Conditional_operator">ternary operator</a>. So that if the search bar is empty, the value for the drug name defaults to Alcohol. Otherwise if there is a value submitted in the search bar it will default to that value.</p>
</section>
<section id="radio-buttons" class="level2">
<h2 class="anchored" data-anchor-id="radio-buttons">Radio Buttons</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb13" data-startfrom="480" data-source-offset="-2"><pre class="sourceCode js code-with-copy"><code class="sourceCode javascript" style="counter-reset: source-line 479;"><span id="cb13-480"><a href="#cb13-480" aria-hidden="true" tabindex="-1"></a>viewof radio <span class="op">=</span> {</span>
<span id="cb13-481"><a href="#cb13-481" aria-hidden="true" tabindex="-1"></a>  <span class="kw">const</span> values <span class="op">=</span> d3<span class="op">.</span><span class="fu">group</span>(data<span class="op">,</span> (d) <span class="kw">=&gt;</span> d<span class="op">.</span><span class="at">time</span>)<span class="op">;</span></span>
<span id="cb13-482"><a href="#cb13-482" aria-hidden="true" tabindex="-1"></a>  <span class="cf">return</span> Inputs<span class="op">.</span><span class="fu">radio</span>(values<span class="op">,</span> {</span>
<span id="cb13-483"><a href="#cb13-483" aria-hidden="true" tabindex="-1"></a>    <span class="dt">key</span><span class="op">:</span> values<span class="op">.</span><span class="fu">has</span>(<span class="st">"12 Month"</span>)</span>
<span id="cb13-484"><a href="#cb13-484" aria-hidden="true" tabindex="-1"></a>      <span class="op">?</span> <span class="st">"12 Month"</span></span>
<span id="cb13-485"><a href="#cb13-485" aria-hidden="true" tabindex="-1"></a>      <span class="op">:</span> values<span class="op">.</span><span class="fu">keys</span>()<span class="op">.</span><span class="fu">next</span>()<span class="op">.</span><span class="at">value</span></span>
<span id="cb13-486"><a href="#cb13-486" aria-hidden="true" tabindex="-1"></a>  })<span class="op">;</span></span>
<span id="cb13-487"><a href="#cb13-487" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb13-488"><a href="#cb13-488" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb13-489"><a href="#cb13-489" aria-hidden="true" tabindex="-1"></a>radio</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<div>
<div id="ojs-cell-9-1" data-nodetype="declaration">

</div>
</div>
</div>
<div class="cell-output cell-output-display">
<div>
<div id="ojs-cell-9-2" data-nodetype="expression">

</div>
</div>
</div>
</div>
<p>This is another input called <code>radio</code> it uses the plot <code>data</code> to extract the different time periods as options. This sets <code>Last 12 Months</code> as the default reporting interval. If there is no <code>Last 12 Months</code> value, then it selects the next value within that drug’s set of reporting intervals. The <code>viewof</code> allows me to use the filtered data by reporting interval which I will refer to later on.</p>
</section>
<section id="zoom-in-button" class="level2">
<h2 class="anchored" data-anchor-id="zoom-in-button">Zoom-in Button</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb14" data-startfrom="498" data-source-offset="-2"><pre class="sourceCode js code-with-copy"><code class="sourceCode javascript" style="counter-reset: source-line 497;"><span id="cb14-498"><a href="#cb14-498" aria-hidden="true" tabindex="-1"></a><span class="kw">function</span> <span class="fu">buttonToggle</span>({ </span>
<span id="cb14-499"><a href="#cb14-499" aria-hidden="true" tabindex="-1"></a>  onText <span class="op">=</span> <span class="st">"Zoom in"</span><span class="op">,</span></span>
<span id="cb14-500"><a href="#cb14-500" aria-hidden="true" tabindex="-1"></a>  offText <span class="op">=</span> <span class="st">"Zoom out"</span><span class="op">,</span></span>
<span id="cb14-501"><a href="#cb14-501" aria-hidden="true" tabindex="-1"></a>  value <span class="op">=</span> <span class="dv">0</span><span class="op">,</span></span>
<span id="cb14-502"><a href="#cb14-502" aria-hidden="true" tabindex="-1"></a>  click <span class="op">=</span> (value<span class="op">,</span> clicks) <span class="kw">=&gt;</span> clicks</span>
<span id="cb14-503"><a href="#cb14-503" aria-hidden="true" tabindex="-1"></a>} <span class="op">=</span> {}) {</span>
<span id="cb14-504"><a href="#cb14-504" aria-hidden="true" tabindex="-1"></a>  <span class="kw">let</span> text <span class="op">=</span> onText<span class="op">,</span></span>
<span id="cb14-505"><a href="#cb14-505" aria-hidden="true" tabindex="-1"></a>    ml <span class="op">=</span> <span class="fu">html</span><span class="vs">`&lt;button type="button" class="btn btn-quarto" &gt;</span><span class="sc">${</span>text<span class="sc">}</span><span class="vs">&lt;/button&gt;`</span><span class="op">,</span></span>
<span id="cb14-506"><a href="#cb14-506" aria-hidden="true" tabindex="-1"></a>    clicks <span class="op">=</span> <span class="dv">0</span><span class="op">,</span></span>
<span id="cb14-507"><a href="#cb14-507" aria-hidden="true" tabindex="-1"></a>    v <span class="op">=</span> value<span class="op">;</span></span>
<span id="cb14-508"><a href="#cb14-508" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb14-509"><a href="#cb14-509" aria-hidden="true" tabindex="-1"></a>  ml<span class="op">.</span><span class="at">value</span> <span class="op">=</span> v<span class="op">;</span></span>
<span id="cb14-510"><a href="#cb14-510" aria-hidden="true" tabindex="-1"></a>  ml<span class="op">.</span><span class="at">onclick</span> <span class="op">=</span> () <span class="kw">=&gt;</span> {</span>
<span id="cb14-511"><a href="#cb14-511" aria-hidden="true" tabindex="-1"></a>    v <span class="op">=</span> <span class="fu">click</span>(v<span class="op">,</span> <span class="op">++</span>clicks)<span class="op">;</span></span>
<span id="cb14-512"><a href="#cb14-512" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb14-513"><a href="#cb14-513" aria-hidden="true" tabindex="-1"></a>    ml<span class="op">.</span><span class="at">value</span> <span class="op">=</span> v<span class="op">;</span></span>
<span id="cb14-514"><a href="#cb14-514" aria-hidden="true" tabindex="-1"></a>    ml<span class="op">.</span><span class="at">innerHTML</span> <span class="op">=</span> clicks <span class="op">%</span> <span class="dv">2</span> <span class="op">===</span> <span class="dv">0</span> <span class="op">?</span> onText <span class="op">:</span> offText<span class="op">;</span></span>
<span id="cb14-515"><a href="#cb14-515" aria-hidden="true" tabindex="-1"></a>  }<span class="op">;</span></span>
<span id="cb14-516"><a href="#cb14-516" aria-hidden="true" tabindex="-1"></a>  <span class="cf">return</span> ml<span class="op">;</span></span>
<span id="cb14-517"><a href="#cb14-517" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb14-518"><a href="#cb14-518" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb14-519"><a href="#cb14-519" aria-hidden="true" tabindex="-1"></a>max <span class="op">=</span> <span class="bu">Math</span><span class="op">.</span><span class="fu">max</span>(<span class="op">...</span>radio<span class="op">.</span><span class="fu">map</span>((o) <span class="kw">=&gt;</span> o<span class="op">.</span><span class="at">estimate</span>))</span>
<span id="cb14-520"><a href="#cb14-520" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb14-521"><a href="#cb14-521" aria-hidden="true" tabindex="-1"></a>yscale <span class="op">=</span> {</span>
<span id="cb14-522"><a href="#cb14-522" aria-hidden="true" tabindex="-1"></a>  <span class="cf">if</span> (zoomInButton <span class="op">%</span> <span class="dv">2</span> <span class="op">==</span> <span class="dv">0</span>) {</span>
<span id="cb14-523"><a href="#cb14-523" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> [<span class="dv">0</span><span class="op">,</span> <span class="dv">100</span>]<span class="op">;</span> <span class="co">// If this statement is true, return this</span></span>
<span id="cb14-524"><a href="#cb14-524" aria-hidden="true" tabindex="-1"></a>  } <span class="cf">else</span> {</span>
<span id="cb14-525"><a href="#cb14-525" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> [<span class="dv">0</span><span class="op">,</span> max]<span class="op">;</span> <span class="co">// If the second statement is true, return this</span></span>
<span id="cb14-526"><a href="#cb14-526" aria-hidden="true" tabindex="-1"></a>  }</span>
<span id="cb14-527"><a href="#cb14-527" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb14-528"><a href="#cb14-528" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb14-529"><a href="#cb14-529" aria-hidden="true" tabindex="-1"></a>viewof zoomInButton <span class="op">=</span> <span class="fu">buttonToggle</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<div>
<div id="ojs-cell-10-1" data-nodetype="declaration">

</div>
</div>
</div>
<div class="cell-output cell-output-display">
<div>
<div id="ojs-cell-10-2" data-nodetype="declaration">

</div>
</div>
</div>
<div class="cell-output cell-output-display">
<div>
<div id="ojs-cell-10-3" data-nodetype="declaration">

</div>
</div>
</div>
<div class="cell-output cell-output-display">
<div>
<div id="ojs-cell-10-4" data-nodetype="declaration">

</div>
</div>
</div>
</div>
<p>This is a function to create the Zoom in button. It basically updates the Y Axis of the graph from the default of 100 as the max to whatever the max is of the current drug and reporting interval. The <code>buttonToggle</code> creates a value (either even or odd) when clicked that changes the name of the button and is used within the <code>yscale</code> if statement that returns either the full scale of 100 or that drug’s max estimate. To get the max estimate <code>max = Math.max(...radio.map((o) =&gt; o.estimate))</code> It takes the <code>radio</code> dataset that is filtered by both <code>drug</code> name and <code>time</code> reporting interval and finds the max value via the <code>Math.max()</code> function bult-in to JavaScript. Then I use the <code>viewof</code> operator to be able to name the input and import it.</p>
</section>
<section id="download-data-button" class="level2">
<h2 class="anchored" data-anchor-id="download-data-button">Download Data Button</h2>
<div class="cell">
<div class="sourceCode cell-code" id="annotated-cell-15" data-startfrom="538" data-source-offset="-0"><pre class="sourceCode js code-annotation-code code-with-copy"><code class="sourceCode javascript" style="counter-reset: source-line 537;"><span id="annotated-cell-15-538"><a href="#annotated-cell-15-538" aria-hidden="true" tabindex="-1"></a>downloadButton <span class="op">=</span> (data<span class="op">,</span> filename) <span class="kw">=&gt;</span> {</span>
<span id="annotated-cell-15-539"><a href="#annotated-cell-15-539" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="annotated-cell-15-540"><a href="#annotated-cell-15-540" aria-hidden="true" tabindex="-1"></a>  <span class="kw">let</span> downloadData<span class="op">;</span></span>
<span id="annotated-cell-15-541"><a href="#annotated-cell-15-541" aria-hidden="true" tabindex="-1"></a>  downloadData <span class="op">=</span> <span class="kw">new</span> <span class="bu">Blob</span>([d3<span class="op">.</span><span class="fu">csvFormat</span>(data)]<span class="op">,</span> { <span class="dt">type</span><span class="op">:</span> <span class="st">"text/csv"</span> })<span class="op">;</span></span>
<span id="annotated-cell-15-542"><a href="#annotated-cell-15-542" aria-hidden="true" tabindex="-1"></a>  <span class="kw">const</span> size <span class="op">=</span> (downloadData<span class="op">.</span><span class="at">size</span> <span class="op">/</span> <span class="dv">1024</span>)<span class="op">.</span><span class="fu">toFixed</span>(<span class="dv">0</span>)<span class="op">;</span></span>
<span id="annotated-cell-15-543"><a href="#annotated-cell-15-543" aria-hidden="true" tabindex="-1"></a>  <span class="kw">const</span> button <span class="op">=</span> DOM<span class="op">.</span><span class="fu">download</span>(</span>
<span id="annotated-cell-15-544"><a href="#annotated-cell-15-544" aria-hidden="true" tabindex="-1"></a>    downloadData<span class="op">,</span></span>
<span id="annotated-cell-15-545"><a href="#annotated-cell-15-545" aria-hidden="true" tabindex="-1"></a>    filename<span class="op">,</span></span>
<span id="annotated-cell-15-546"><a href="#annotated-cell-15-546" aria-hidden="true" tabindex="-1"></a>    <span class="vs">`Download </span><span class="sc">${</span>filename<span class="sc">}</span><span class="vs"> Dataset (~</span><span class="sc">${</span>size<span class="sc">}</span><span class="vs"> KB)`</span></span>
<span id="annotated-cell-15-547"><a href="#annotated-cell-15-547" aria-hidden="true" tabindex="-1"></a>  )<span class="op">;</span></span>
<span id="annotated-cell-15-548"><a href="#annotated-cell-15-548" aria-hidden="true" tabindex="-1"></a>  <span class="cf">return</span> button<span class="op">;</span></span>
<span id="annotated-cell-15-549"><a href="#annotated-cell-15-549" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="annotated-cell-15-550"><a href="#annotated-cell-15-550" aria-hidden="true" tabindex="-1"></a></span>
<span id="annotated-cell-15-551"><a href="#annotated-cell-15-551" aria-hidden="true" tabindex="-1"></a>name <span class="op">=</span> <span class="vs">`</span><span class="sc">${</span>radio[<span class="dv">0</span>]<span class="op">.</span><span class="at">drug</span><span class="sc">}</span><span class="vs"> - </span><span class="sc">${</span>radio[<span class="dv">0</span>]<span class="op">.</span><span class="at">time</span><span class="sc">}</span><span class="vs">`</span></span>
<span id="annotated-cell-15-552"><a href="#annotated-cell-15-552" aria-hidden="true" tabindex="-1"></a></span>
<span id="annotated-cell-15-553"><a href="#annotated-cell-15-553" aria-hidden="true" tabindex="-1"></a>radioWithoutLineBreaks <span class="op">=</span> radio<span class="op">.</span><span class="fu">map</span>(obj <span class="kw">=&gt;</span> {</span>
<span id="annotated-cell-15-554"><a href="#annotated-cell-15-554" aria-hidden="true" tabindex="-1"></a>  <span class="kw">const</span> {year<span class="op">,</span> estimate<span class="op">,</span> drug<span class="op">,</span> grade<span class="op">,</span> time} <span class="op">=</span> obj<span class="op">;</span></span>
<span id="annotated-cell-15-555"><a href="#annotated-cell-15-555" aria-hidden="true" tabindex="-1"></a>  <span class="cf">return</span> {year<span class="op">,</span> estimate<span class="op">,</span> drug<span class="op">,</span> grade<span class="op">,</span> time}<span class="op">;</span></span>
<span id="annotated-cell-15-556"><a href="#annotated-cell-15-556" aria-hidden="true" tabindex="-1"></a>})<span class="op">;</span></span>
<span id="annotated-cell-15-557"><a href="#annotated-cell-15-557" aria-hidden="true" tabindex="-1"></a></span>
<span id="annotated-cell-15-558"><a href="#annotated-cell-15-558" aria-hidden="true" tabindex="-1"></a>downloadData <span class="op">=</span> <span class="fu">downloadButton</span>(radioWithoutLineBreaks<span class="op">,</span> name)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<div>
<div id="ojs-cell-11-1" data-nodetype="declaration">

</div>
</div>
</div>
<div class="cell-output cell-output-display">
<div>
<div id="ojs-cell-11-2" data-nodetype="declaration">

</div>
</div>
</div>
<div class="cell-output cell-output-display">
<div>
<div id="ojs-cell-11-3" data-nodetype="declaration">

</div>
</div>
</div>
<div class="cell-output cell-output-display">
<div>
<div id="ojs-cell-11-4" data-nodetype="declaration">

</div>
</div>
</div>
</div>
<p><code>downloadButton</code> is a function that takes an array of data as the first argument and the name you want to call the file as the second argument. It displays the filename and the size of the file in kilobytes.</p>
</section>
<section id="plot-title" class="level2">
<h2 class="anchored" data-anchor-id="plot-title">Plot Title</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb15" data-startfrom="565" data-source-offset="-0"><pre class="sourceCode js code-with-copy"><code class="sourceCode javascript" style="counter-reset: source-line 564;"><span id="cb15-565"><a href="#cb15-565" aria-hidden="true" tabindex="-1"></a>title <span class="op">=</span> <span class="fu">html</span><span class="vs">`&lt;h3&gt; </span><span class="sc">${</span>radio[<span class="dv">0</span>]<span class="op">.</span><span class="at">drug</span><span class="op">.</span><span class="fu">toLocaleUpperCase</span>()<span class="sc">}</span><span class="vs">: Trends in &lt;u&gt;</span><span class="sc">${</span>radio[<span class="dv">0</span>]<span class="op">.</span><span class="at">time</span><span class="sc">}</span><span class="vs">&lt;/u&gt; Prevalence of Use in </span><span class="sc">${</span>gradeQuestion<span class="sc">}</span><span class="vs"> &lt;/h3&gt;`</span></span>
<span id="cb15-566"><a href="#cb15-566" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb15-567"><a href="#cb15-567" aria-hidden="true" tabindex="-1"></a>gradeQuestion <span class="op">=</span> gradeTitle<span class="op">.</span><span class="at">length</span> <span class="op">&gt;</span> <span class="dv">1</span></span>
<span id="cb15-568"><a href="#cb15-568" aria-hidden="true" tabindex="-1"></a>  <span class="op">?</span> <span class="st">"8th, 10th, and 12th Grade"</span></span>
<span id="cb15-569"><a href="#cb15-569" aria-hidden="true" tabindex="-1"></a>  <span class="op">:</span> <span class="st">"12th Grade"</span></span>
<span id="cb15-570"><a href="#cb15-570" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb15-571"><a href="#cb15-571" aria-hidden="true" tabindex="-1"></a>radioSet <span class="op">=</span> <span class="kw">new</span> <span class="bu">Set</span>(radio<span class="op">.</span><span class="fu">map</span>((d) <span class="kw">=&gt;</span> d<span class="op">.</span><span class="at">grade</span>))</span>
<span id="cb15-572"><a href="#cb15-572" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb15-573"><a href="#cb15-573" aria-hidden="true" tabindex="-1"></a>gradeTitle <span class="op">=</span> [<span class="op">...</span>radioSet]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<div>
<div id="ojs-cell-12-1" data-nodetype="declaration">

</div>
</div>
</div>
<div class="cell-output cell-output-display">
<div>
<div id="ojs-cell-12-2" data-nodetype="declaration">

</div>
</div>
</div>
<div class="cell-output cell-output-display">
<div>
<div id="ojs-cell-12-3" data-nodetype="declaration">

</div>
</div>
</div>
<div class="cell-output cell-output-display">
<div>
<div id="ojs-cell-12-4" data-nodetype="declaration">

</div>
</div>
</div>
</div>
<p>This creates the title of the plot by reactively updating via the <code>radio</code> data set. First is the drug name <code>${radio[0].drug}</code> then the reporting interval <code>${radio[0].time}</code> then whether it is all grades or just 12th grade <code>${gradeQuestion}</code>. That variable is just a ternary operator that figures out if there is more than one grade variable.</p>
</section>
<section id="rendered-plot" class="level2">
<h2 class="anchored" data-anchor-id="rendered-plot">Rendered Plot</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb16" data-startfrom="581" data-source-offset="-0"><pre class="sourceCode js code-with-copy"><code class="sourceCode javascript" style="counter-reset: source-line 580;"><span id="cb16-581"><a href="#cb16-581" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> {addTooltips} <span class="im">from</span> <span class="st">"@mkfreeman/plot-tooltip"</span></span>
<span id="cb16-582"><a href="#cb16-582" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb16-583"><a href="#cb16-583" aria-hidden="true" tabindex="-1"></a>formatter <span class="op">=</span> d3<span class="op">.</span><span class="fu">timeFormat</span>(<span class="st">"%Y"</span>)</span>
<span id="cb16-584"><a href="#cb16-584" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb16-585"><a href="#cb16-585" aria-hidden="true" tabindex="-1"></a>color <span class="op">=</span> d3<span class="op">.</span><span class="fu">scaleOrdinal</span>(</span>
<span id="cb16-586"><a href="#cb16-586" aria-hidden="true" tabindex="-1"></a>  [<span class="st">"8th Grade"</span><span class="op">,</span> <span class="st">"10th Grade"</span><span class="op">,</span> <span class="st">"12th Grade"</span>]<span class="op">,</span></span>
<span id="cb16-587"><a href="#cb16-587" aria-hidden="true" tabindex="-1"></a>  [<span class="st">"#59bbeb"</span><span class="op">,</span> <span class="st">"#6ac4a1"</span><span class="op">,</span> <span class="st">"#cca438"</span>]</span>
<span id="cb16-588"><a href="#cb16-588" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb16-589"><a href="#cb16-589" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb16-590"><a href="#cb16-590" aria-hidden="true" tabindex="-1"></a>symbol <span class="op">=</span> d3<span class="op">.</span><span class="fu">scaleOrdinal</span>(</span>
<span id="cb16-591"><a href="#cb16-591" aria-hidden="true" tabindex="-1"></a>  [<span class="st">"8th Grade"</span><span class="op">,</span> <span class="st">"10th Grade"</span><span class="op">,</span> <span class="st">"12th Grade"</span>]<span class="op">,</span></span>
<span id="cb16-592"><a href="#cb16-592" aria-hidden="true" tabindex="-1"></a>  [<span class="st">"circle"</span><span class="op">,</span> <span class="st">"square"</span><span class="op">,</span> <span class="st">"triangle"</span>]</span>
<span id="cb16-593"><a href="#cb16-593" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb16-594"><a href="#cb16-594" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb16-595"><a href="#cb16-595" aria-hidden="true" tabindex="-1"></a>gradeOrder <span class="op">=</span> [<span class="st">"8th Grade"</span><span class="op">,</span> <span class="st">"10th Grade"</span><span class="op">,</span> <span class="st">"12th Grade"</span>]<span class="op">;</span></span>
<span id="cb16-596"><a href="#cb16-596" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb16-597"><a href="#cb16-597" aria-hidden="true" tabindex="-1"></a>radio<span class="op">.</span><span class="fu">sort</span>((a<span class="op">,</span> b) <span class="kw">=&gt;</span> gradeOrder<span class="op">.</span><span class="fu">indexOf</span>(a<span class="op">.</span><span class="at">grade</span>) <span class="op">-</span> gradeOrder<span class="op">.</span><span class="fu">indexOf</span>(b<span class="op">.</span><span class="at">grade</span>))<span class="op">;</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<div>
<div id="ojs-cell-13-1" data-nodetype="declaration">

</div>
</div>
</div>
<div class="cell-output cell-output-display">
<div>
<div id="ojs-cell-13-2" data-nodetype="declaration">

</div>
</div>
</div>
<div class="cell-output cell-output-display">
<div>
<div id="ojs-cell-13-3" data-nodetype="declaration">

</div>
</div>
</div>
<div class="cell-output cell-output-display">
<div>
<div id="ojs-cell-13-4" data-nodetype="declaration">

</div>
</div>
</div>
<div class="cell-output cell-output-display">
<div>
<div id="ojs-cell-13-5" data-nodetype="declaration">

</div>
</div>
</div>
<div class="cell-output cell-output-display">
<div>
<div id="ojs-cell-13-6" data-nodetype="expression">

</div>
</div>
</div>
<div class="sourceCode cell-code" id="cb17" data-startfrom="600" data-source-offset="-463"><pre class="sourceCode js code-with-copy"><code class="sourceCode javascript" style="counter-reset: source-line 599;"><span id="cb17-600"><a href="#cb17-600" aria-hidden="true" tabindex="-1"></a>plot <span class="op">=</span> <span class="fu">addTooltips</span>(</span>
<span id="cb17-601"><a href="#cb17-601" aria-hidden="true" tabindex="-1"></a>  Plot<span class="op">.</span><span class="fu">plot</span>({</span>
<span id="cb17-602"><a href="#cb17-602" aria-hidden="true" tabindex="-1"></a>    <span class="dt">ariaLabel</span><span class="op">:</span> <span class="st">"Drug Prevalence Line Charts"</span><span class="op">,</span></span>
<span id="cb17-603"><a href="#cb17-603" aria-hidden="true" tabindex="-1"></a>    <span class="dt">ariaDescription</span><span class="op">:</span></span>
<span id="cb17-604"><a href="#cb17-604" aria-hidden="true" tabindex="-1"></a>      <span class="st">"Drug Prevalence Chart showing estimates of use over time (1975 to 2024) in 8th, 10th, and 12th grade filtered by drug name and reporting interval. Currently showing ${radio[0].drug}"</span><span class="op">,</span></span>
<span id="cb17-605"><a href="#cb17-605" aria-hidden="true" tabindex="-1"></a>    <span class="dt">width</span><span class="op">:</span> <span class="dv">900</span><span class="op">,</span></span>
<span id="cb17-606"><a href="#cb17-606" aria-hidden="true" tabindex="-1"></a>    <span class="dt">height</span><span class="op">:</span> <span class="dv">570</span><span class="op">,</span></span>
<span id="cb17-607"><a href="#cb17-607" aria-hidden="true" tabindex="-1"></a>    <span class="dt">marginBottom</span><span class="op">:</span> <span class="dv">50</span><span class="op">,</span></span>
<span id="cb17-608"><a href="#cb17-608" aria-hidden="true" tabindex="-1"></a>    <span class="dt">style</span><span class="op">:</span> {</span>
<span id="cb17-609"><a href="#cb17-609" aria-hidden="true" tabindex="-1"></a>      <span class="dt">overflow</span><span class="op">:</span> <span class="st">"visible"</span><span class="op">,</span></span>
<span id="cb17-610"><a href="#cb17-610" aria-hidden="true" tabindex="-1"></a>      <span class="dt">fontSize</span><span class="op">:</span> <span class="dv">12</span></span>
<span id="cb17-611"><a href="#cb17-611" aria-hidden="true" tabindex="-1"></a>    }<span class="op">,</span></span>
<span id="cb17-612"><a href="#cb17-612" aria-hidden="true" tabindex="-1"></a>    <span class="dt">symbol</span><span class="op">:</span> {</span>
<span id="cb17-613"><a href="#cb17-613" aria-hidden="true" tabindex="-1"></a>      <span class="dt">domain</span><span class="op">:</span> <span class="kw">new</span> <span class="bu">Set</span>(radio<span class="op">.</span><span class="fu">map</span>((d) <span class="kw">=&gt;</span> d<span class="op">.</span><span class="at">grade</span>))<span class="op">,</span></span>
<span id="cb17-614"><a href="#cb17-614" aria-hidden="true" tabindex="-1"></a>      <span class="dt">range</span><span class="op">:</span> [<span class="op">...</span><span class="kw">new</span> <span class="bu">Set</span>(radio<span class="op">.</span><span class="fu">map</span>((d) <span class="kw">=&gt;</span> d<span class="op">.</span><span class="at">grade</span>))]<span class="op">.</span><span class="fu">map</span>(symbol)<span class="op">,</span></span>
<span id="cb17-615"><a href="#cb17-615" aria-hidden="true" tabindex="-1"></a>      <span class="dt">legend</span><span class="op">:</span> <span class="kw">true</span><span class="op">,</span></span>
<span id="cb17-616"><a href="#cb17-616" aria-hidden="true" tabindex="-1"></a>      <span class="dt">swatchSize</span><span class="op">:</span> <span class="dv">23</span></span>
<span id="cb17-617"><a href="#cb17-617" aria-hidden="true" tabindex="-1"></a>    }<span class="op">,</span></span>
<span id="cb17-618"><a href="#cb17-618" aria-hidden="true" tabindex="-1"></a>    <span class="dt">color</span><span class="op">:</span> {</span>
<span id="cb17-619"><a href="#cb17-619" aria-hidden="true" tabindex="-1"></a>      <span class="dt">domain</span><span class="op">:</span> <span class="kw">new</span> <span class="bu">Set</span>(radio<span class="op">.</span><span class="fu">map</span>((d) <span class="kw">=&gt;</span> d<span class="op">.</span><span class="at">grade</span>))<span class="op">,</span></span>
<span id="cb17-620"><a href="#cb17-620" aria-hidden="true" tabindex="-1"></a>      <span class="dt">range</span><span class="op">:</span> [<span class="op">...</span><span class="kw">new</span> <span class="bu">Set</span>(radio<span class="op">.</span><span class="fu">map</span>((d) <span class="kw">=&gt;</span> d<span class="op">.</span><span class="at">grade</span>))]<span class="op">.</span><span class="fu">map</span>(color)</span>
<span id="cb17-621"><a href="#cb17-621" aria-hidden="true" tabindex="-1"></a>    }<span class="op">,</span></span>
<span id="cb17-622"><a href="#cb17-622" aria-hidden="true" tabindex="-1"></a>    <span class="dt">y</span><span class="op">:</span> {</span>
<span id="cb17-623"><a href="#cb17-623" aria-hidden="true" tabindex="-1"></a>      <span class="dt">label</span><span class="op">:</span> <span class="st">"Percentage (%)"</span><span class="op">,</span></span>
<span id="cb17-624"><a href="#cb17-624" aria-hidden="true" tabindex="-1"></a>      <span class="dt">labelAnchor</span><span class="op">:</span> <span class="st">"center"</span><span class="op">,</span></span>
<span id="cb17-625"><a href="#cb17-625" aria-hidden="true" tabindex="-1"></a>      <span class="dt">domain</span><span class="op">:</span> yscale</span>
<span id="cb17-626"><a href="#cb17-626" aria-hidden="true" tabindex="-1"></a>    }<span class="op">,</span></span>
<span id="cb17-627"><a href="#cb17-627" aria-hidden="true" tabindex="-1"></a>    <span class="dt">x</span><span class="op">:</span> {</span>
<span id="cb17-628"><a href="#cb17-628" aria-hidden="true" tabindex="-1"></a>      <span class="dt">type</span><span class="op">:</span> <span class="st">"time"</span><span class="op">,</span></span>
<span id="cb17-629"><a href="#cb17-629" aria-hidden="true" tabindex="-1"></a>      <span class="dt">domain</span><span class="op">:</span> [<span class="kw">new</span> <span class="bu">Date</span>(<span class="st">"1974-01-01"</span>)<span class="op">,</span> <span class="kw">new</span> <span class="bu">Date</span>(<span class="st">"2024-01-01"</span>)]<span class="op">,</span></span>
<span id="cb17-630"><a href="#cb17-630" aria-hidden="true" tabindex="-1"></a>      <span class="dt">label</span><span class="op">:</span> <span class="st">"Years"</span><span class="op">,</span></span>
<span id="cb17-631"><a href="#cb17-631" aria-hidden="true" tabindex="-1"></a>      <span class="dt">labelAnchor</span><span class="op">:</span> <span class="st">"center"</span></span>
<span id="cb17-632"><a href="#cb17-632" aria-hidden="true" tabindex="-1"></a>    }<span class="op">,</span></span>
<span id="cb17-633"><a href="#cb17-633" aria-hidden="true" tabindex="-1"></a>    <span class="dt">marks</span><span class="op">:</span> [</span>
<span id="cb17-634"><a href="#cb17-634" aria-hidden="true" tabindex="-1"></a>      Plot<span class="op">.</span><span class="fu">ruleY</span>([<span class="dv">0</span>])<span class="op">,</span></span>
<span id="cb17-635"><a href="#cb17-635" aria-hidden="true" tabindex="-1"></a>      Plot<span class="op">.</span><span class="fu">dot</span>(radio<span class="op">,</span> {</span>
<span id="cb17-636"><a href="#cb17-636" aria-hidden="true" tabindex="-1"></a>        <span class="dt">r</span><span class="op">:</span> <span class="dv">5</span><span class="op">,</span></span>
<span id="cb17-637"><a href="#cb17-637" aria-hidden="true" tabindex="-1"></a>        <span class="dt">x</span><span class="op">:</span> <span class="st">"year"</span><span class="op">,</span></span>
<span id="cb17-638"><a href="#cb17-638" aria-hidden="true" tabindex="-1"></a>        <span class="dt">y</span><span class="op">:</span> <span class="st">"estimate"</span><span class="op">,</span></span>
<span id="cb17-639"><a href="#cb17-639" aria-hidden="true" tabindex="-1"></a>        <span class="dt">symbol</span><span class="op">:</span> <span class="st">"grade"</span><span class="op">,</span></span>
<span id="cb17-640"><a href="#cb17-640" aria-hidden="true" tabindex="-1"></a>        <span class="dt">fill</span><span class="op">:</span> <span class="st">"grade"</span><span class="op">,</span></span>
<span id="cb17-641"><a href="#cb17-641" aria-hidden="true" tabindex="-1"></a>        <span class="dt">title</span><span class="op">:</span> (d) <span class="kw">=&gt;</span> <span class="vs">`</span><span class="sc">${</span>d<span class="op">.</span><span class="at">grade</span><span class="sc">}</span><span class="vs"> </span><span class="sc">\n</span><span class="vs"> </span><span class="sc">${</span><span class="fu">formatter</span>(d<span class="op">.</span><span class="at">year</span>)<span class="sc">}</span><span class="vs">: </span><span class="sc">${</span>d<span class="op">.</span><span class="at">estimate</span><span class="sc">}</span><span class="vs">%`</span></span>
<span id="cb17-642"><a href="#cb17-642" aria-hidden="true" tabindex="-1"></a>      })<span class="op">,</span></span>
<span id="cb17-643"><a href="#cb17-643" aria-hidden="true" tabindex="-1"></a>      Plot<span class="op">.</span><span class="fu">line</span>(radio<span class="op">,</span> {</span>
<span id="cb17-644"><a href="#cb17-644" aria-hidden="true" tabindex="-1"></a>        <span class="dt">x</span><span class="op">:</span> <span class="st">"year"</span><span class="op">,</span></span>
<span id="cb17-645"><a href="#cb17-645" aria-hidden="true" tabindex="-1"></a>        <span class="dt">y</span><span class="op">:</span> <span class="st">"estimate"</span><span class="op">,</span></span>
<span id="cb17-646"><a href="#cb17-646" aria-hidden="true" tabindex="-1"></a>        <span class="dt">z</span><span class="op">:</span> (d) <span class="kw">=&gt;</span> <span class="co">// This creates the line breaks</span></span>
<span id="cb17-647"><a href="#cb17-647" aria-hidden="true" tabindex="-1"></a>          [</span>
<span id="cb17-648"><a href="#cb17-648" aria-hidden="true" tabindex="-1"></a>            d<span class="op">.</span><span class="at">grade</span><span class="op">,</span></span>
<span id="cb17-649"><a href="#cb17-649" aria-hidden="true" tabindex="-1"></a>            d<span class="op">.</span><span class="at">LBYear1</span> <span class="op">===</span> <span class="kw">null</span></span>
<span id="cb17-650"><a href="#cb17-650" aria-hidden="true" tabindex="-1"></a>              <span class="op">?</span> d<span class="op">.</span><span class="at">year</span><span class="op">.</span><span class="fu">getUTCFullYear</span>() <span class="op">&gt;</span> <span class="dv">1974</span></span>
<span id="cb17-651"><a href="#cb17-651" aria-hidden="true" tabindex="-1"></a>              <span class="op">:</span> d<span class="op">.</span><span class="at">year</span><span class="op">.</span><span class="fu">getUTCFullYear</span>() <span class="op">&gt;</span> d<span class="op">.</span><span class="at">LBYear1</span><span class="op">.</span><span class="fu">getUTCFullYear</span>()<span class="op">,</span></span>
<span id="cb17-652"><a href="#cb17-652" aria-hidden="true" tabindex="-1"></a>            d<span class="op">.</span><span class="at">LBYear2</span> <span class="op">===</span> <span class="kw">null</span></span>
<span id="cb17-653"><a href="#cb17-653" aria-hidden="true" tabindex="-1"></a>              <span class="op">?</span> d<span class="op">.</span><span class="at">year</span><span class="op">.</span><span class="fu">getUTCFullYear</span>() <span class="op">&gt;</span> <span class="dv">1974</span></span>
<span id="cb17-654"><a href="#cb17-654" aria-hidden="true" tabindex="-1"></a>              <span class="op">:</span> d<span class="op">.</span><span class="at">year</span><span class="op">.</span><span class="fu">getUTCFullYear</span>() <span class="op">&gt;</span> d<span class="op">.</span><span class="at">LBYear2</span><span class="op">.</span><span class="fu">getUTCFullYear</span>()</span>
<span id="cb17-655"><a href="#cb17-655" aria-hidden="true" tabindex="-1"></a>          ]<span class="op">.</span><span class="fu">join</span>()<span class="op">,</span></span>
<span id="cb17-656"><a href="#cb17-656" aria-hidden="true" tabindex="-1"></a>        <span class="dt">stroke</span><span class="op">:</span> <span class="st">"grade"</span></span>
<span id="cb17-657"><a href="#cb17-657" aria-hidden="true" tabindex="-1"></a>      })<span class="op">,</span></span>
<span id="cb17-658"><a href="#cb17-658" aria-hidden="true" tabindex="-1"></a>      Plot<span class="op">.</span><span class="fu">text</span>(</span>
<span id="cb17-659"><a href="#cb17-659" aria-hidden="true" tabindex="-1"></a>        radio<span class="op">.</span><span class="fu">filter</span>((d) <span class="kw">=&gt;</span> d<span class="op">.</span><span class="at">grade</span> <span class="op">===</span> <span class="st">"8th Grade"</span>)<span class="op">,</span></span>
<span id="cb17-660"><a href="#cb17-660" aria-hidden="true" tabindex="-1"></a>        Plot<span class="op">.</span><span class="fu">selectLast</span>({</span>
<span id="cb17-661"><a href="#cb17-661" aria-hidden="true" tabindex="-1"></a>          <span class="dt">x</span><span class="op">:</span> <span class="st">"year"</span><span class="op">,</span></span>
<span id="cb17-662"><a href="#cb17-662" aria-hidden="true" tabindex="-1"></a>          <span class="dt">y</span><span class="op">:</span> <span class="st">"estimate"</span><span class="op">,</span></span>
<span id="cb17-663"><a href="#cb17-663" aria-hidden="true" tabindex="-1"></a>          <span class="dt">text</span><span class="op">:</span> (d) <span class="kw">=&gt;</span></span>
<span id="cb17-664"><a href="#cb17-664" aria-hidden="true" tabindex="-1"></a>            <span class="vs">`</span><span class="sc">${</span>tablesDrugTime[<span class="dv">0</span>]<span class="op">.</span><span class="at">plotSig</span> <span class="op">===</span> <span class="kw">null</span> <span class="op">?</span> <span class="st">" "</span> <span class="op">:</span> tablesDrugTime[<span class="dv">0</span>]<span class="op">.</span><span class="at">plotSig</span><span class="sc">}</span><span class="vs">`</span><span class="op">,</span> <span class="co">// This is the label that displays in the tooltip</span></span>
<span id="cb17-665"><a href="#cb17-665" aria-hidden="true" tabindex="-1"></a>          <span class="dt">textAnchor</span><span class="op">:</span> <span class="st">"start"</span><span class="op">,</span></span>
<span id="cb17-666"><a href="#cb17-666" aria-hidden="true" tabindex="-1"></a>          <span class="dt">fill</span><span class="op">:</span> <span class="st">"#ff57f9"</span><span class="op">,</span></span>
<span id="cb17-667"><a href="#cb17-667" aria-hidden="true" tabindex="-1"></a>          <span class="dt">fontSize</span><span class="op">:</span> <span class="dv">20</span><span class="op">,</span></span>
<span id="cb17-668"><a href="#cb17-668" aria-hidden="true" tabindex="-1"></a>          <span class="dt">fontWeight</span><span class="op">:</span> <span class="dv">800</span><span class="op">,</span></span>
<span id="cb17-669"><a href="#cb17-669" aria-hidden="true" tabindex="-1"></a>          <span class="dt">dx</span><span class="op">:</span> <span class="dv">10</span></span>
<span id="cb17-670"><a href="#cb17-670" aria-hidden="true" tabindex="-1"></a>        })</span>
<span id="cb17-671"><a href="#cb17-671" aria-hidden="true" tabindex="-1"></a>      )<span class="op">,</span></span>
<span id="cb17-672"><a href="#cb17-672" aria-hidden="true" tabindex="-1"></a>      Plot<span class="op">.</span><span class="fu">text</span>(</span>
<span id="cb17-673"><a href="#cb17-673" aria-hidden="true" tabindex="-1"></a>        radio<span class="op">.</span><span class="fu">filter</span>((d) <span class="kw">=&gt;</span> d<span class="op">.</span><span class="at">grade</span> <span class="op">===</span> <span class="st">"10th Grade"</span>)<span class="op">,</span></span>
<span id="cb17-674"><a href="#cb17-674" aria-hidden="true" tabindex="-1"></a>        Plot<span class="op">.</span><span class="fu">selectLast</span>({</span>
<span id="cb17-675"><a href="#cb17-675" aria-hidden="true" tabindex="-1"></a>          <span class="dt">x</span><span class="op">:</span> <span class="st">"year"</span><span class="op">,</span></span>
<span id="cb17-676"><a href="#cb17-676" aria-hidden="true" tabindex="-1"></a>          <span class="dt">y</span><span class="op">:</span> <span class="st">"estimate"</span><span class="op">,</span></span>
<span id="cb17-677"><a href="#cb17-677" aria-hidden="true" tabindex="-1"></a>          <span class="dt">text</span><span class="op">:</span> (d) <span class="kw">=&gt;</span></span>
<span id="cb17-678"><a href="#cb17-678" aria-hidden="true" tabindex="-1"></a>            <span class="vs">`</span><span class="sc">${</span>tablesDrugTime[<span class="dv">1</span>]<span class="op">.</span><span class="at">plotSig</span> <span class="op">===</span> <span class="kw">null</span> <span class="op">?</span> <span class="st">" "</span> <span class="op">:</span> tablesDrugTime[<span class="dv">1</span>]<span class="op">.</span><span class="at">plotSig</span><span class="sc">}</span><span class="vs">`</span><span class="op">,</span></span>
<span id="cb17-679"><a href="#cb17-679" aria-hidden="true" tabindex="-1"></a>          <span class="dt">textAnchor</span><span class="op">:</span> <span class="st">"start"</span><span class="op">,</span></span>
<span id="cb17-680"><a href="#cb17-680" aria-hidden="true" tabindex="-1"></a>          <span class="dt">fill</span><span class="op">:</span> <span class="st">"#ff57f9"</span><span class="op">,</span></span>
<span id="cb17-681"><a href="#cb17-681" aria-hidden="true" tabindex="-1"></a>          <span class="dt">fontSize</span><span class="op">:</span> <span class="dv">20</span><span class="op">,</span></span>
<span id="cb17-682"><a href="#cb17-682" aria-hidden="true" tabindex="-1"></a>          <span class="dt">fontWeight</span><span class="op">:</span> <span class="dv">800</span><span class="op">,</span></span>
<span id="cb17-683"><a href="#cb17-683" aria-hidden="true" tabindex="-1"></a>          <span class="dt">dx</span><span class="op">:</span> <span class="dv">10</span></span>
<span id="cb17-684"><a href="#cb17-684" aria-hidden="true" tabindex="-1"></a>        })</span>
<span id="cb17-685"><a href="#cb17-685" aria-hidden="true" tabindex="-1"></a>      )<span class="op">,</span></span>
<span id="cb17-686"><a href="#cb17-686" aria-hidden="true" tabindex="-1"></a>      Plot<span class="op">.</span><span class="fu">text</span>(</span>
<span id="cb17-687"><a href="#cb17-687" aria-hidden="true" tabindex="-1"></a>        radio<span class="op">.</span><span class="fu">filter</span>((d) <span class="kw">=&gt;</span> d<span class="op">.</span><span class="at">grade</span> <span class="op">===</span> <span class="st">"12th Grade"</span>)<span class="op">,</span></span>
<span id="cb17-688"><a href="#cb17-688" aria-hidden="true" tabindex="-1"></a>        Plot<span class="op">.</span><span class="fu">selectLast</span>({</span>
<span id="cb17-689"><a href="#cb17-689" aria-hidden="true" tabindex="-1"></a>          <span class="dt">x</span><span class="op">:</span> <span class="st">"year"</span><span class="op">,</span></span>
<span id="cb17-690"><a href="#cb17-690" aria-hidden="true" tabindex="-1"></a>          <span class="dt">y</span><span class="op">:</span> <span class="st">"estimate"</span><span class="op">,</span></span>
<span id="cb17-691"><a href="#cb17-691" aria-hidden="true" tabindex="-1"></a>          <span class="dt">text</span><span class="op">:</span> (d) <span class="kw">=&gt;</span></span>
<span id="cb17-692"><a href="#cb17-692" aria-hidden="true" tabindex="-1"></a>            <span class="vs">`</span><span class="sc">${</span>tablesDrugTime[<span class="dv">2</span>]<span class="op">?.</span><span class="at">plotSig</span> <span class="op">==</span> <span class="kw">null</span> <span class="op">?</span> <span class="st">" "</span> <span class="op">:</span> tablesDrugTime[<span class="dv">2</span>]<span class="op">.</span><span class="at">plotSig</span><span class="sc">}</span><span class="vs">`</span><span class="op">,</span></span>
<span id="cb17-693"><a href="#cb17-693" aria-hidden="true" tabindex="-1"></a>          <span class="dt">textAnchor</span><span class="op">:</span> <span class="st">"start"</span><span class="op">,</span></span>
<span id="cb17-694"><a href="#cb17-694" aria-hidden="true" tabindex="-1"></a>          <span class="dt">fill</span><span class="op">:</span> <span class="st">"#ff57f9"</span><span class="op">,</span></span>
<span id="cb17-695"><a href="#cb17-695" aria-hidden="true" tabindex="-1"></a>          <span class="dt">fontSize</span><span class="op">:</span> <span class="dv">20</span><span class="op">,</span></span>
<span id="cb17-696"><a href="#cb17-696" aria-hidden="true" tabindex="-1"></a>          <span class="dt">fontWeight</span><span class="op">:</span> <span class="dv">800</span><span class="op">,</span></span>
<span id="cb17-697"><a href="#cb17-697" aria-hidden="true" tabindex="-1"></a>          <span class="dt">dx</span><span class="op">:</span> <span class="dv">10</span></span>
<span id="cb17-698"><a href="#cb17-698" aria-hidden="true" tabindex="-1"></a>        })</span>
<span id="cb17-699"><a href="#cb17-699" aria-hidden="true" tabindex="-1"></a>      )</span>
<span id="cb17-700"><a href="#cb17-700" aria-hidden="true" tabindex="-1"></a>    ]</span>
<span id="cb17-701"><a href="#cb17-701" aria-hidden="true" tabindex="-1"></a>  })<span class="op">,</span></span>
<span id="cb17-702"><a href="#cb17-702" aria-hidden="true" tabindex="-1"></a>  { <span class="dt">fill</span><span class="op">:</span> <span class="st">"grade"</span> }</span>
<span id="cb17-703"><a href="#cb17-703" aria-hidden="true" tabindex="-1"></a>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<div>
<div id="ojs-cell-13-7" data-nodetype="declaration">

</div>
</div>
</div>
</div>
<p>Here I import a tooltip via this <a href="https://observablehq.com/@mkfreeman/plot-tooltip">notebook</a> Observable has created new tooltips since I wrote this code. So I may go back and change it but for now I am still using the imported <code>addTooltip()</code> function. I create the color and symbol scales for the grades and name a function to format the year. Then I create three functions that check if the results of the significance test within the <code>htmlTable</code> dataset have astersisk. If they do then I display them in the graph. If they don’t nothing is displayed. For more on how the graph is made check out <a href="https://observablehq.com/plot/">Observable Plot</a>.</p>
</section>
<section id="diverging-bar-chart" class="level2">
<h2 class="anchored" data-anchor-id="diverging-bar-chart">Diverging Bar Chart</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb18" data-startfrom="714" data-source-offset="-2"><pre class="sourceCode js code-with-copy"><code class="sourceCode javascript" style="counter-reset: source-line 713;"><span id="cb18-714"><a href="#cb18-714" aria-hidden="true" tabindex="-1"></a>sigdata <span class="op">=</span> <span class="fu">FileAttachment</span>(<span class="st">"sigbarchart.csv"</span>)<span class="op">.</span><span class="fu">csv</span>({<span class="dt">typed</span><span class="op">:</span> <span class="kw">true</span>})</span>
<span id="cb18-715"><a href="#cb18-715" aria-hidden="true" tabindex="-1"></a>  <span class="op">.</span><span class="fu">then</span>(data <span class="kw">=&gt;</span> data<span class="op">.</span><span class="fu">map</span>((d) <span class="kw">=&gt;</span> ({<span class="op">...</span>d<span class="op">,</span> <span class="dt">value</span><span class="op">:</span> (d[<span class="dv">2023</span>] <span class="op">-</span> d[<span class="dv">2024</span>]) <span class="op">/</span> d[<span class="dv">2024</span>]})))</span>
<span id="cb18-716"><a href="#cb18-716" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb18-717"><a href="#cb18-717" aria-hidden="true" tabindex="-1"></a>sigDrug <span class="op">=</span> sigdata<span class="op">.</span><span class="fu">filter</span>(</span>
<span id="cb18-718"><a href="#cb18-718" aria-hidden="true" tabindex="-1"></a>  ({ drug }) <span class="kw">=&gt;</span> drug<span class="op">.</span><span class="fu">toLocaleLowerCase</span>() <span class="op">===</span> select<span class="op">.</span><span class="fu">toLocaleLowerCase</span>()</span>
<span id="cb18-719"><a href="#cb18-719" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb18-720"><a href="#cb18-720" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb18-721"><a href="#cb18-721" aria-hidden="true" tabindex="-1"></a>sigDrugTime <span class="op">=</span> sigDrug<span class="op">.</span><span class="fu">filter</span>(({ time }) <span class="kw">=&gt;</span> time <span class="op">===</span> radio[<span class="dv">0</span>]<span class="op">.</span><span class="at">time</span>)</span>
<span id="cb18-722"><a href="#cb18-722" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb18-723"><a href="#cb18-723" aria-hidden="true" tabindex="-1"></a>sigDrugTime</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<div>
<div id="ojs-cell-14-1" data-nodetype="declaration">

</div>
</div>
</div>
<div class="cell-output cell-output-display">
<div>
<div id="ojs-cell-14-2" data-nodetype="declaration">

</div>
</div>
</div>
<div class="cell-output cell-output-display">
<div>
<div id="ojs-cell-14-3" data-nodetype="declaration">

</div>
</div>
</div>
<div class="cell-output cell-output-display">
<div>
<div id="ojs-cell-14-4" data-nodetype="expression">

</div>
</div>
</div>
<div class="sourceCode cell-code" id="cb19" data-startfrom="725" data-source-offset="-340"><pre class="sourceCode js code-with-copy"><code class="sourceCode javascript" style="counter-reset: source-line 724;"><span id="cb19-725"><a href="#cb19-725" aria-hidden="true" tabindex="-1"></a>sigmax <span class="op">=</span> <span class="bu">Math</span><span class="op">.</span><span class="fu">max</span>(<span class="op">...</span>sigdata<span class="op">.</span><span class="fu">map</span>((o) <span class="kw">=&gt;</span> o<span class="op">.</span><span class="at">_1_Year_Chg</span>))</span>
<span id="cb19-726"><a href="#cb19-726" aria-hidden="true" tabindex="-1"></a>sigmin <span class="op">=</span> <span class="bu">Math</span><span class="op">.</span><span class="fu">min</span>(<span class="op">...</span>sigdata<span class="op">.</span><span class="fu">map</span>((o) <span class="kw">=&gt;</span> o<span class="op">.</span><span class="at">_1_Year_Chg</span>))</span>
<span id="cb19-727"><a href="#cb19-727" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb19-728"><a href="#cb19-728" aria-hidden="true" tabindex="-1"></a>sigbarChart <span class="op">=</span> Plot<span class="op">.</span><span class="fu">plot</span>({</span>
<span id="cb19-729"><a href="#cb19-729" aria-hidden="true" tabindex="-1"></a>  <span class="dt">label</span><span class="op">:</span> <span class="kw">null</span><span class="op">,</span></span>
<span id="cb19-730"><a href="#cb19-730" aria-hidden="true" tabindex="-1"></a>  <span class="dt">marginLeft</span><span class="op">:</span> <span class="dv">100</span><span class="op">,</span></span>
<span id="cb19-731"><a href="#cb19-731" aria-hidden="true" tabindex="-1"></a>  <span class="dt">marginRight</span><span class="op">:</span> <span class="dv">100</span><span class="op">,</span></span>
<span id="cb19-732"><a href="#cb19-732" aria-hidden="true" tabindex="-1"></a>  <span class="dt">marginTop</span><span class="op">:</span> <span class="dv">50</span><span class="op">,</span></span>
<span id="cb19-733"><a href="#cb19-733" aria-hidden="true" tabindex="-1"></a>  <span class="dt">style</span><span class="op">:</span> {</span>
<span id="cb19-734"><a href="#cb19-734" aria-hidden="true" tabindex="-1"></a>    <span class="dt">overflow</span><span class="op">:</span> <span class="st">"visible"</span><span class="op">,</span></span>
<span id="cb19-735"><a href="#cb19-735" aria-hidden="true" tabindex="-1"></a>    <span class="dt">fontSize</span><span class="op">:</span> <span class="dv">12</span></span>
<span id="cb19-736"><a href="#cb19-736" aria-hidden="true" tabindex="-1"></a>  }<span class="op">,</span></span>
<span id="cb19-737"><a href="#cb19-737" aria-hidden="true" tabindex="-1"></a>  <span class="dt">x</span><span class="op">:</span> {</span>
<span id="cb19-738"><a href="#cb19-738" aria-hidden="true" tabindex="-1"></a>    <span class="dt">axis</span><span class="op">:</span> <span class="st">"top"</span><span class="op">,</span></span>
<span id="cb19-739"><a href="#cb19-739" aria-hidden="true" tabindex="-1"></a>    <span class="dt">label</span><span class="op">:</span> <span class="st">"← decrease · 1-Year Change in Drug Use, 2023–2024 · increase →"</span><span class="op">,</span></span>
<span id="cb19-740"><a href="#cb19-740" aria-hidden="true" tabindex="-1"></a>    <span class="dt">labelAnchor</span><span class="op">:</span> <span class="st">"center"</span><span class="op">,</span></span>
<span id="cb19-741"><a href="#cb19-741" aria-hidden="true" tabindex="-1"></a>    <span class="dt">domain</span><span class="op">:</span> [sigmin<span class="op">,</span> sigmax]</span>
<span id="cb19-742"><a href="#cb19-742" aria-hidden="true" tabindex="-1"></a>  }<span class="op">,</span></span>
<span id="cb19-743"><a href="#cb19-743" aria-hidden="true" tabindex="-1"></a>  <span class="dt">y</span><span class="op">:</span> {</span>
<span id="cb19-744"><a href="#cb19-744" aria-hidden="true" tabindex="-1"></a>    <span class="dt">domain</span><span class="op">:</span> [<span class="st">"8th Grade"</span><span class="op">,</span> <span class="st">"10th Grade"</span><span class="op">,</span> <span class="st">"12th Grade"</span>]</span>
<span id="cb19-745"><a href="#cb19-745" aria-hidden="true" tabindex="-1"></a>  }<span class="op">,</span></span>
<span id="cb19-746"><a href="#cb19-746" aria-hidden="true" tabindex="-1"></a>  <span class="dt">color</span><span class="op">:</span> {</span>
<span id="cb19-747"><a href="#cb19-747" aria-hidden="true" tabindex="-1"></a>    <span class="dt">scheme</span><span class="op">:</span> <span class="st">"PiYG"</span><span class="op">,</span></span>
<span id="cb19-748"><a href="#cb19-748" aria-hidden="true" tabindex="-1"></a>    <span class="dt">type</span><span class="op">:</span> <span class="st">"ordinal"</span></span>
<span id="cb19-749"><a href="#cb19-749" aria-hidden="true" tabindex="-1"></a>  }<span class="op">,</span></span>
<span id="cb19-750"><a href="#cb19-750" aria-hidden="true" tabindex="-1"></a>  <span class="dt">marks</span><span class="op">:</span> [</span>
<span id="cb19-751"><a href="#cb19-751" aria-hidden="true" tabindex="-1"></a>    Plot<span class="op">.</span><span class="fu">barX</span>(sigDrugTime<span class="op">,</span> {</span>
<span id="cb19-752"><a href="#cb19-752" aria-hidden="true" tabindex="-1"></a>      <span class="dt">x</span><span class="op">:</span> <span class="st">"_1_Year_Chg"</span><span class="op">,</span></span>
<span id="cb19-753"><a href="#cb19-753" aria-hidden="true" tabindex="-1"></a>      <span class="dt">y</span><span class="op">:</span> <span class="st">"grade"</span><span class="op">,</span></span>
<span id="cb19-754"><a href="#cb19-754" aria-hidden="true" tabindex="-1"></a>      <span class="dt">fill</span><span class="op">:</span> (d) <span class="kw">=&gt;</span> d<span class="op">.</span><span class="at">_1_Year_Chg</span> <span class="op">&gt;</span> <span class="dv">0</span></span>
<span id="cb19-755"><a href="#cb19-755" aria-hidden="true" tabindex="-1"></a>    })<span class="op">,</span></span>
<span id="cb19-756"><a href="#cb19-756" aria-hidden="true" tabindex="-1"></a>    Plot<span class="op">.</span><span class="fu">gridX</span>({ <span class="dt">stroke</span><span class="op">:</span> <span class="st">"white"</span><span class="op">,</span> <span class="dt">strokeOpacity</span><span class="op">:</span> <span class="fl">0.5</span> })<span class="op">,</span></span>
<span id="cb19-757"><a href="#cb19-757" aria-hidden="true" tabindex="-1"></a>    d3</span>
<span id="cb19-758"><a href="#cb19-758" aria-hidden="true" tabindex="-1"></a>      <span class="op">.</span><span class="fu">groups</span>(sigDrugTime<span class="op">,</span> (d) <span class="kw">=&gt;</span> d<span class="op">.</span><span class="at">_1_Year_Chg</span> <span class="op">&gt;</span> <span class="dv">0</span>)</span>
<span id="cb19-759"><a href="#cb19-759" aria-hidden="true" tabindex="-1"></a>      <span class="op">.</span><span class="fu">map</span>(([growth<span class="op">,</span> grades]) <span class="kw">=&gt;</span> [</span>
<span id="cb19-760"><a href="#cb19-760" aria-hidden="true" tabindex="-1"></a>        Plot<span class="op">.</span><span class="fu">axisY</span>({</span>
<span id="cb19-761"><a href="#cb19-761" aria-hidden="true" tabindex="-1"></a>          <span class="dt">x</span><span class="op">:</span> <span class="dv">0</span><span class="op">,</span></span>
<span id="cb19-762"><a href="#cb19-762" aria-hidden="true" tabindex="-1"></a>          <span class="dt">ticks</span><span class="op">:</span> grades<span class="op">.</span><span class="fu">map</span>((d) <span class="kw">=&gt;</span> d<span class="op">.</span><span class="at">grade</span>)<span class="op">,</span></span>
<span id="cb19-763"><a href="#cb19-763" aria-hidden="true" tabindex="-1"></a>          <span class="dt">tickSize</span><span class="op">:</span> <span class="dv">0</span><span class="op">,</span></span>
<span id="cb19-764"><a href="#cb19-764" aria-hidden="true" tabindex="-1"></a>          <span class="dt">anchor</span><span class="op">:</span> growth <span class="op">?</span> <span class="st">"left"</span> <span class="op">:</span> <span class="st">"right"</span></span>
<span id="cb19-765"><a href="#cb19-765" aria-hidden="true" tabindex="-1"></a>        })<span class="op">,</span></span>
<span id="cb19-766"><a href="#cb19-766" aria-hidden="true" tabindex="-1"></a>        Plot<span class="op">.</span><span class="fu">textX</span>(grades<span class="op">,</span> {</span>
<span id="cb19-767"><a href="#cb19-767" aria-hidden="true" tabindex="-1"></a>          <span class="dt">x</span><span class="op">:</span> <span class="st">"_1_Year_Chg"</span><span class="op">,</span></span>
<span id="cb19-768"><a href="#cb19-768" aria-hidden="true" tabindex="-1"></a>          <span class="dt">y</span><span class="op">:</span> <span class="st">"grade"</span><span class="op">,</span></span>
<span id="cb19-769"><a href="#cb19-769" aria-hidden="true" tabindex="-1"></a>          <span class="dt">text</span><span class="op">:</span> <span class="st">"_1_Year_Chg"</span><span class="op">,</span></span>
<span id="cb19-770"><a href="#cb19-770" aria-hidden="true" tabindex="-1"></a>          <span class="dt">textAnchor</span><span class="op">:</span> growth <span class="op">?</span> <span class="st">"start"</span> <span class="op">:</span> <span class="st">"end"</span><span class="op">,</span></span>
<span id="cb19-771"><a href="#cb19-771" aria-hidden="true" tabindex="-1"></a>          <span class="dt">dx</span><span class="op">:</span> growth <span class="op">?</span> <span class="dv">4</span> <span class="op">:</span> <span class="op">-</span><span class="dv">4</span><span class="op">,</span></span>
<span id="cb19-772"><a href="#cb19-772" aria-hidden="true" tabindex="-1"></a>        })</span>
<span id="cb19-773"><a href="#cb19-773" aria-hidden="true" tabindex="-1"></a>      ])<span class="op">,</span></span>
<span id="cb19-774"><a href="#cb19-774" aria-hidden="true" tabindex="-1"></a>    Plot<span class="op">.</span><span class="fu">textX</span>(tablesDrugTime<span class="op">,</span> {</span>
<span id="cb19-775"><a href="#cb19-775" aria-hidden="true" tabindex="-1"></a>      <span class="dt">x</span><span class="op">:</span> <span class="st">"_1_Year_Chg"</span><span class="op">,</span></span>
<span id="cb19-776"><a href="#cb19-776" aria-hidden="true" tabindex="-1"></a>      <span class="dt">y</span><span class="op">:</span> <span class="st">"grade"</span><span class="op">,</span></span>
<span id="cb19-777"><a href="#cb19-777" aria-hidden="true" tabindex="-1"></a>      <span class="dt">text</span><span class="op">:</span> <span class="st">"plotSig"</span></span>
<span id="cb19-778"><a href="#cb19-778" aria-hidden="true" tabindex="-1"></a>    })<span class="op">,</span></span>
<span id="cb19-779"><a href="#cb19-779" aria-hidden="true" tabindex="-1"></a>    Plot<span class="op">.</span><span class="fu">ruleX</span>([<span class="dv">0</span>])</span>
<span id="cb19-780"><a href="#cb19-780" aria-hidden="true" tabindex="-1"></a>  ]</span>
<span id="cb19-781"><a href="#cb19-781" aria-hidden="true" tabindex="-1"></a>})</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<div>
<div id="ojs-cell-14-5" data-nodetype="declaration">

</div>
</div>
</div>
<div class="cell-output cell-output-display">
<div>
<div id="ojs-cell-14-6" data-nodetype="declaration">

</div>
</div>
</div>
<div class="cell-output cell-output-display">
<div>
<div id="ojs-cell-14-7" data-nodetype="declaration">

</div>
</div>
</div>
</div>


</section>

</main> <!-- /main -->
<script type="ojs-module-contents">
eyJjb250ZW50cyI6W3sibWV0aG9kTmFtZSI6ImludGVycHJldCIsImNlbGxOYW1lIjoib2pzLWNlbGwtMSIsImlubGluZSI6ZmFsc2UsInNvdXJjZSI6IndpZGVUYWJsZSA9IGh0bWxgXHJcbjxzdHlsZT5cclxuLmJyYW5jaCB7b3ZlcmZsb3cteDpzY3JvbGw7IGRpcmVjdGlvbjogcnRsOyBtYXJnaW4tbGVmdDoxODBweDsgIH1cclxudGQ6Zmlyc3QtY2hpbGQsIHRkOm50aC1jaGlsZCgyKSwgdGg6Zmlyc3QtY2hpbGQsIHRoOm50aC1jaGlsZCgyKSB7cG9zaXRpb246YWJzb2x1dGU7IHdpZHRoOjEwMHB4OyB0b3A6YXV0bzsgd2hpdGUtc3BhY2U6bm9ybWFsO30gXHJcbnRkOm50aC1jaGlsZCgxKSwgdGg6Zmlyc3QtY2hpbGQgIHtsZWZ0OiAxMTBweDsgd2hpdGUtc3BhY2U6bm93cmFwOyB3b3JkLXdyYXA6IGJyZWFrLXdvcmQ7IH1cclxudGQ6bnRoLWNoaWxkKDIpLCB0aDpudGgtY2hpbGQoMikge2xlZnQ6IDIxMHB4OyB3b3JkLXdyYXA6IGJyZWFrLXdvcmQ7fSBcclxudGQsIHRoIHsgdmVydGljYWwtYWxpZ246IG1pZGRsZTsgIHBhZGRpbmc6IC41ZW07IGNvbG9yOiBibGFjazsgfVxyXG50aCB7IHRleHQtZGVjb3JhdGlvbjogdW5kZXJsaW5lOyB3aGl0ZS1zcGFjZTpub3dyYXA7IH0gIFxyXG50cjpudGgtY2hpbGQoMykge1xyXG4gIGJhY2tncm91bmQtY29sb3I6ICNBREQ4RTY7XHJcbn0gXHJcbnRhYmxlIHtcclxuICBkaXJlY3Rpb246IGx0cjtcclxuICBib3JkZXI6IG5vbmU7XHJcbiAgYm9yZGVyLWNvbGxhcHNlOiBjb2xsYXBzZTtcclxuICB0ZXh0LWFsaWduOiBjZW50ZXI7XHJcbn1cclxuXHJcblxyXG4vKiBPbiBzY3JlZW5zIHRoYXQgYXJlIDE3MjBweCBvciBsZXNzLCBkbyB0aGlzIGZvciB0aGUgdGFibGUgYW5kIGNpdGF0aW9uIHNpemUgKi9cclxuXHJcbkBtZWRpYSBzY3JlZW4gYW5kIChtYXgtd2lkdGg6IDE2ODBweCkge1xyXG4gIC5icmFuY2gge292ZXJmbG93LXg6c2Nyb2xsOyBkaXJlY3Rpb246IHJ0bDsgbWFyZ2luLWxlZnQ6MTcwcHg7ICB9XHJcbnRkOmZpcnN0LWNoaWxkLCB0ZDpudGgtY2hpbGQoMiksIHRoOmZpcnN0LWNoaWxkLCB0aDpudGgtY2hpbGQoMikge3Bvc2l0aW9uOmFic29sdXRlOyB3aWR0aDoxMDBweDsgdG9wOmF1dG87IHdoaXRlLXNwYWNlOm5vcm1hbDt9IFxyXG50ZDpudGgtY2hpbGQoMSksIHRoOmZpcnN0LWNoaWxkICB7bGVmdDogOTBweDsgd2hpdGUtc3BhY2U6bm93cmFwOyB3b3JkLXdyYXA6IGJyZWFrLXdvcmQ7IH1cclxudGQ6bnRoLWNoaWxkKDIpLCB0aDpudGgtY2hpbGQoMikge2xlZnQ6IDE5MHB4OyB3b3JkLXdyYXA6IGJyZWFrLXdvcmQ7fVxyXG50cjpudGgtY2hpbGQoMykge1xyXG4gIGJhY2tncm91bmQtY29sb3I6ICNBREQ4RTY7XHJcbn1cclxufVxyXG5cclxuLyogT24gc2NyZWVucyB0aGF0IGFyZSAxNzIwcHggb3IgbGVzcywgZG8gdGhpcyBmb3IgdGhlIHRhYmxlICovXHJcblxyXG5AbWVkaWEgc2NyZWVuIGFuZCAobWF4LXdpZHRoOiAxMzc1cHgpIHtcclxuICAuYnJhbmNoIHtvdmVyZmxvdy14OnNjcm9sbDsgZGlyZWN0aW9uOiBydGw7IG1hcmdpbi1sZWZ0OjE2MHB4OyAgfVxyXG50ZDpmaXJzdC1jaGlsZCwgdGQ6bnRoLWNoaWxkKDIpLCB0aDpmaXJzdC1jaGlsZCwgdGg6bnRoLWNoaWxkKDIpIHtwb3NpdGlvbjphYnNvbHV0ZTsgd2lkdGg6MTAwcHg7IHRvcDphdXRvOyB3aGl0ZS1zcGFjZTpub3JtYWw7fSBcclxudGQ6bnRoLWNoaWxkKDEpLCB0aDpmaXJzdC1jaGlsZCAge2xlZnQ6IDY1cHg7IHdoaXRlLXNwYWNlOm5vd3JhcDsgd29yZC13cmFwOiBicmVhay13b3JkOyB9XHJcbnRkOm50aC1jaGlsZCgyKSwgdGg6bnRoLWNoaWxkKDIpIHtsZWZ0OiAxNzBweDsgd29yZC13cmFwOiBicmVhay13b3JkO31cclxudHI6bnRoLWNoaWxkKDMpIHtcclxuICBiYWNrZ3JvdW5kLWNvbG9yOiAjQUREOEU2O1xyXG59XHJcbn1cclxuXHJcblxyXG4vKiBPbiBzY3JlZW5zIHRoYXQgYXJlIDk5MnB4IG9yIGxlc3MsIGRvIHRoaXMgZm9yIHRoZSB0YWJsZSBhbmQgY2l0YXRpb24gc2l6ZSAqL1xyXG5cclxuQG1lZGlhIHNjcmVlbiBhbmQgKG1heC13aWR0aDogOTkycHgpIHtcclxuICAuYnJhbmNoIHtvdmVyZmxvdy14OnNjcm9sbDsgZGlyZWN0aW9uOiBydGw7IG1hcmdpbi1sZWZ0OjE1NXB4OyAgfVxyXG50ZDpmaXJzdC1jaGlsZCwgdGQ6bnRoLWNoaWxkKDIpLCB0aDpmaXJzdC1jaGlsZCwgdGg6bnRoLWNoaWxkKDIpIHtwb3NpdGlvbjphYnNvbHV0ZTsgd2lkdGg6MTAwcHg7IHRvcDphdXRvOyB3aGl0ZS1zcGFjZTpub3JtYWw7fSBcclxudGQ6bnRoLWNoaWxkKDEpLCB0aDpmaXJzdC1jaGlsZCAge2xlZnQ6IDQ1cHg7IHdoaXRlLXNwYWNlOm5vd3JhcDsgd29yZC13cmFwOiBicmVhay13b3JkOyB9XHJcbnRkOm50aC1jaGlsZCgyKSwgdGg6bnRoLWNoaWxkKDIpIHtsZWZ0OiAxNDVweDsgd29yZC13cmFwOiBicmVhay13b3JkO31cclxudHI6bnRoLWNoaWxkKDMpIHtcclxuICBiYWNrZ3JvdW5kLWNvbG9yOiAjQUREOEU2O1xyXG59XHJcbn1cclxuXHJcblxyXG4vKiBPbiBzY3JlZW5zIHRoYXQgYXJlIDYwMHB4IG9yIGxlc3MsIGRvIHRoaXMgZm9yIHRhYmxlIGFuZCBjaXRhdGlvbiBzaXplICovXHJcbkBtZWRpYSBzY3JlZW4gYW5kIChtYXgtd2lkdGg6IDYwMHB4KSB7XHJcbiAgLmJyYW5jaCB7b3ZlcmZsb3cteDpzY3JvbGw7IGRpcmVjdGlvbjogcnRsOyBtYXJnaW4tbGVmdDoxNDVweDsgIH1cclxudGQ6Zmlyc3QtY2hpbGQsIHRkOm50aC1jaGlsZCgyKSwgdGg6Zmlyc3QtY2hpbGQsIHRoOm50aC1jaGlsZCgyKSB7cG9zaXRpb246YWJzb2x1dGU7IHdpZHRoOjEwMHB4OyB0b3A6YXV0bzsgd2hpdGUtc3BhY2U6bm9ybWFsO30gXHJcbnRkOm50aC1jaGlsZCgxKSwgdGg6Zmlyc3QtY2hpbGQgIHtsZWZ0OiAyNXB4OyB3aGl0ZS1zcGFjZTpub3dyYXA7IHdvcmQtd3JhcDogYnJlYWstd29yZDsgfVxyXG50ZDpudGgtY2hpbGQoMiksIHRoOm50aC1jaGlsZCgyKSB7bGVmdDogMTE1cHg7IHdvcmQtd3JhcDogYnJlYWstd29yZDt9XHJcbnRyOm50aC1jaGlsZCgzKSB7XHJcbiAgYmFja2dyb3VuZC1jb2xvcjogI0FERDhFNjtcclxufVxyXG59XHJcbjwvc3R5bGU+XHJcbjx0YWJsZSBhcmlhLWxhYmVsPVwiJHtyYWRpb1swXS5kcnVnfTogVHJlbmRzIGluICR7cmFkaW9bMF0udGltZX0gUHJldmFsZW5jZSBvZiBVc2UgaW4gR3JhZGVzIDgsIDEwLCBhbmQgMTJcIj5cclxuICA8dHI+XHJcbiAgICA8dGggc2NvcGU9XCJjb2xcIj5SZXBvcnQgSW50ZXJ2YWw8L3RoPlxyXG4gICAgPHRoIHNjb3BlPVwiY29sXCI+R3JhZGU8L3RoPlxyXG4gICAgPHRoIHNjb3BlPVwiY29sXCI+MTk3NTwvdGg+XHJcbiAgICA8dGggc2NvcGU9XCJjb2xcIj4xOTc2PC90aD5cclxuICAgIDx0aCBzY29wZT1cImNvbFwiPjE5Nzc8L3RoPlxyXG4gICAgPHRoIHNjb3BlPVwiY29sXCI+MTk3ODwvdGg+XHJcbiAgICA8dGggc2NvcGU9XCJjb2xcIj4xOTc5PC90aD5cclxuICAgIDx0aCBzY29wZT1cImNvbFwiPjE5ODA8L3RoPlxyXG4gICAgPHRoIHNjb3BlPVwiY29sXCI+MTk4MTwvdGg+XHJcbiAgICA8dGggc2NvcGU9XCJjb2xcIj4xOTgyPC90aD5cclxuICAgIDx0aCBzY29wZT1cImNvbFwiPjE5ODM8L3RoPlxyXG4gICAgPHRoIHNjb3BlPVwiY29sXCI+MTk4NDwvdGg+XHJcbiAgICA8dGggc2NvcGU9XCJjb2xcIj4xOTg1PC90aD5cclxuICAgIDx0aCBzY29wZT1cImNvbFwiPjE5ODY8L3RoPlxyXG4gICAgPHRoIHNjb3BlPVwiY29sXCI+MTk4NzwvdGg+XHJcbiAgICA8dGggc2NvcGU9XCJjb2xcIj4xOTg4PC90aD5cclxuICAgIDx0aCBzY29wZT1cImNvbFwiPjE5ODk8L3RoPlxyXG4gICAgPHRoIHNjb3BlPVwiY29sXCI+MTk5MDwvdGg+XHJcbiAgICA8dGggc2NvcGU9XCJjb2xcIj4xOTkxPC90aD5cclxuICAgIDx0aCBzY29wZT1cImNvbFwiPjE5OTI8L3RoPlxyXG4gICAgPHRoIHNjb3BlPVwiY29sXCI+MTk5MzwvdGg+XHJcbiAgICA8dGggc2NvcGU9XCJjb2xcIj4xOTk0PC90aD5cclxuICAgIDx0aCBzY29wZT1cImNvbFwiPjE5OTU8L3RoPlxyXG4gICAgPHRoIHNjb3BlPVwiY29sXCI+MTk5NjwvdGg+XHJcbiAgICA8dGggc2NvcGU9XCJjb2xcIj4xOTk3PC90aD5cclxuICAgIDx0aCBzY29wZT1cImNvbFwiPjE5OTg8L3RoPlxyXG4gICAgPHRoIHNjb3BlPVwiY29sXCI+MTk5OTwvdGg+XHJcbiAgICA8dGggc2NvcGU9XCJjb2xcIj4yMDAwPC90aD5cclxuICAgIDx0aCBzY29wZT1cImNvbFwiPjIwMDE8L3RoPlxyXG4gICAgPHRoIHNjb3BlPVwiY29sXCI+MjAwMjwvdGg+XHJcbiAgICA8dGggc2NvcGU9XCJjb2xcIj4yMDAzPC90aD5cclxuICAgIDx0aCBzY29wZT1cImNvbFwiPjIwMDQ8L3RoPlxyXG4gICAgPHRoIHNjb3BlPVwiY29sXCI+MjAwNTwvdGg+XHJcbiAgICA8dGggc2NvcGU9XCJjb2xcIj4yMDA2PC90aD5cclxuICAgIDx0aCBzY29wZT1cImNvbFwiPjIwMDc8L3RoPlxyXG4gICAgPHRoIHNjb3BlPVwiY29sXCI+MjAwODwvdGg+XHJcbiAgICA8dGggc2NvcGU9XCJjb2xcIj4yMDA5PC90aD5cclxuICAgIDx0aCBzY29wZT1cImNvbFwiPjIwMTA8L3RoPlxyXG4gICAgPHRoIHNjb3BlPVwiY29sXCI+MjAxMTwvdGg+XHJcbiAgICA8dGggc2NvcGU9XCJjb2xcIj4yMDEyPC90aD5cclxuICAgIDx0aCBzY29wZT1cImNvbFwiPjIwMTM8L3RoPlxyXG4gICAgPHRoIHNjb3BlPVwiY29sXCI+MjAxNDwvdGg+XHJcbiAgICA8dGggc2NvcGU9XCJjb2xcIj4yMDE1PC90aD5cclxuICAgIDx0aCBzY29wZT1cImNvbFwiPjIwMTY8L3RoPlxyXG4gICAgPHRoIHNjb3BlPVwiY29sXCI+MjAxNzwvdGg+XHJcbiAgICA8dGggc2NvcGU9XCJjb2xcIj4yMDE4PC90aD5cclxuICAgIDx0aCBzY29wZT1cImNvbFwiPjIwMTk8c3VwPmZmPC9zdXA+PC90aD5cclxuICAgIDx0aCBzY29wZT1cImNvbFwiPjIwMjA8c3VwPnR0PC9zdXA+PC90aD5cclxuICAgIDx0aCBzY29wZT1cImNvbFwiPjIwMjE8L3RoPlxyXG4gICAgPHRoIHNjb3BlPVwiY29sXCI+MjAyMjwvdGg+XHJcbiAgICA8dGggc2NvcGU9XCJjb2xcIj4yMDIzPC90aD5cclxuICAgIDx0aCBzY29wZT1cImNvbFwiPjIwMjQ8L3RoPlxyXG4gICAgPHRoIHNjb3BlPVwiY29sXCI+MjAyMy0yMDI0IDxicj4gQ2hhbmdlPC90aD5cclxuICA8L3RyPlxyXG4gIDx0cj5cclxuICAgIDx0ZD4ke2h0bWxUYWJsZXNbMF0/LnRpbWV9PC90ZD5cclxuICAgIDx0ZD4ke2h0bWxUYWJsZXNbMF0/LmdyYWRlfTwvdGQ+XHJcbiAgICA8dGQ+JHtodG1sVGFibGVzWzBdPy5fMTk3NX08L3RkPlxyXG4gICAgPHRkPiR7aHRtbFRhYmxlc1swXT8uXzE5NzZ9PC90ZD5cclxuICAgIDx0ZD4ke2h0bWxUYWJsZXNbMF0/Ll8xOTc3fTwvdGQ+XHJcbiAgICA8dGQ+JHtodG1sVGFibGVzWzBdPy5fMTk3OH08L3RkPlxyXG4gICAgPHRkPiR7aHRtbFRhYmxlc1swXT8uXzE5Nzl9PC90ZD5cclxuICAgIDx0ZD4ke2h0bWxUYWJsZXNbMF0/Ll8xOTgwfTwvdGQ+XHJcbiAgICA8dGQ+JHtodG1sVGFibGVzWzBdPy5fMTk4MX08L3RkPlxyXG4gICAgPHRkPiR7aHRtbFRhYmxlc1swXT8uXzE5ODJ9PC90ZD5cclxuICAgIDx0ZD4ke2h0bWxUYWJsZXNbMF0/Ll8xOTgzfTwvdGQ+XHJcbiAgICA8dGQ+JHtodG1sVGFibGVzWzBdPy5fMTk4NH08L3RkPlxyXG4gICAgPHRkPiR7aHRtbFRhYmxlc1swXT8uXzE5ODV9PC90ZD5cclxuICAgIDx0ZD4ke2h0bWxUYWJsZXNbMF0/Ll8xOTg2fTwvdGQ+XHJcbiAgICA8dGQ+JHtodG1sVGFibGVzWzBdPy5fMTk4N308L3RkPlxyXG4gICAgPHRkPiR7aHRtbFRhYmxlc1swXT8uXzE5ODh9PC90ZD5cclxuICAgIDx0ZD4ke2h0bWxUYWJsZXNbMF0/Ll8xOTg5fTwvdGQ+XHJcbiAgICA8dGQ+JHtodG1sVGFibGVzWzBdPy5fMTk5MH08L3RkPlxyXG4gICAgPHRkPiR7aHRtbFRhYmxlc1swXT8uXzE5OTF9PC90ZD5cclxuICAgIDx0ZD4ke2h0bWxUYWJsZXNbMF0/Ll8xOTkyfTwvdGQ+XHJcbiAgICA8dGQ+JHtodG1sVGFibGVzWzBdPy5fMTk5M308L3RkPlxyXG4gICAgPHRkPiR7aHRtbFRhYmxlc1swXT8uXzE5OTR9PC90ZD5cclxuICAgIDx0ZD4ke2h0bWxUYWJsZXNbMF0/Ll8xOTk1fTwvdGQ+XHJcbiAgICA8dGQ+JHtodG1sVGFibGVzWzBdPy5fMTk5Nn08L3RkPlxyXG4gICAgPHRkPiR7aHRtbFRhYmxlc1swXT8uXzE5OTd9PC90ZD5cclxuICAgIDx0ZD4ke2h0bWxUYWJsZXNbMF0/Ll8xOTk4fTwvdGQ+XHJcbiAgICA8dGQ+JHtodG1sVGFibGVzWzBdPy5fMTk5OX08L3RkPlxyXG4gICAgPHRkPiR7aHRtbFRhYmxlc1swXT8uXzIwMDB9PC90ZD5cclxuICAgIDx0ZD4ke2h0bWxUYWJsZXNbMF0/Ll8yMDAxfTwvdGQ+XHJcbiAgICA8dGQ+JHtodG1sVGFibGVzWzBdPy5fMjAwMn08L3RkPlxyXG4gICAgPHRkPiR7aHRtbFRhYmxlc1swXT8uXzIwMDN9PC90ZD5cclxuICAgIDx0ZD4ke2h0bWxUYWJsZXNbMF0/Ll8yMDA0fTwvdGQ+XHJcbiAgICA8dGQ+JHtodG1sVGFibGVzWzBdPy5fMjAwNX08L3RkPlxyXG4gICAgPHRkPiR7aHRtbFRhYmxlc1swXT8uXzIwMDZ9PC90ZD5cclxuICAgIDx0ZD4ke2h0bWxUYWJsZXNbMF0/Ll8yMDA3fTwvdGQ+XHJcbiAgICA8dGQ+JHtodG1sVGFibGVzWzBdPy5fMjAwOH08L3RkPlxyXG4gICAgPHRkPiR7aHRtbFRhYmxlc1swXT8uXzIwMDl9PC90ZD5cclxuICAgIDx0ZD4ke2h0bWxUYWJsZXNbMF0/Ll8yMDEwfTwvdGQ+XHJcbiAgICA8dGQ+JHtodG1sVGFibGVzWzBdPy5fMjAxMX08L3RkPlxyXG4gICAgPHRkPiR7aHRtbFRhYmxlc1swXT8uXzIwMTJ9PC90ZD5cclxuICAgIDx0ZD4ke2h0bWxUYWJsZXNbMF0/Ll8yMDEzfTwvdGQ+XHJcbiAgICA8dGQ+JHtodG1sVGFibGVzWzBdPy5fMjAxNH08L3RkPlxyXG4gICAgPHRkPiR7aHRtbFRhYmxlc1swXT8uXzIwMTV9PC90ZD5cclxuICAgIDx0ZD4ke2h0bWxUYWJsZXNbMF0/Ll8yMDE2fTwvdGQ+XHJcbiAgICA8dGQ+JHtodG1sVGFibGVzWzBdPy5fMjAxN308L3RkPlxyXG4gICAgPHRkPiR7aHRtbFRhYmxlc1swXT8uXzIwMTh9PC90ZD5cclxuICAgIDx0ZD4ke2h0bWxUYWJsZXNbMF0/Ll8yMDE5fTwvdGQ+XHJcbiAgICA8dGQ+JHtodG1sVGFibGVzWzBdPy5fMjAyMH08L3RkPlxyXG4gICAgPHRkPiR7aHRtbFRhYmxlc1swXT8uXzIwMjF9PC90ZD5cclxuICAgIDx0ZD4ke2h0bWxUYWJsZXNbMF0/Ll8yMDIyfTwvdGQ+XHJcbiAgICA8dGQ+JHtodG1sVGFibGVzWzBdPy5fMjAyM308L3RkPlxyXG4gICAgPHRkPiR7aHRtbFRhYmxlc1swXT8uXzIwMjR9PC90ZD5cclxuICAgIDx0ZD4ke2h0bWxUYWJsZXNbMF0/LmNoYW5nZUVzdGltYXRlfTwvdGQ+XHJcbiAgPC90cj5cclxuICA8dHI+XHJcbiAgICA8dGQ+JHtodG1sVGFibGVzWzFdPy50aW1lfTwvdGQ+XHJcbiAgICA8dGQ+JHtodG1sVGFibGVzWzFdPy5ncmFkZX08L3RkPlxyXG4gICAgPHRkPiR7aHRtbFRhYmxlc1sxXT8uXzE5NzV9PC90ZD5cclxuICAgIDx0ZD4ke2h0bWxUYWJsZXNbMV0/Ll8xOTc2fTwvdGQ+XHJcbiAgICA8dGQ+JHtodG1sVGFibGVzWzFdPy5fMTk3N308L3RkPlxyXG4gICAgPHRkPiR7aHRtbFRhYmxlc1sxXT8uXzE5Nzh9PC90ZD5cclxuICAgIDx0ZD4ke2h0bWxUYWJsZXNbMV0/Ll8xOTc5fTwvdGQ+XHJcbiAgICA8dGQ+JHtodG1sVGFibGVzWzFdPy5fMTk4MH08L3RkPlxyXG4gICAgPHRkPiR7aHRtbFRhYmxlc1sxXT8uXzE5ODF9PC90ZD5cclxuICAgIDx0ZD4ke2h0bWxUYWJsZXNbMV0/Ll8xOTgyfTwvdGQ+XHJcbiAgICA8dGQ+JHtodG1sVGFibGVzWzFdPy5fMTk4M308L3RkPlxyXG4gICAgPHRkPiR7aHRtbFRhYmxlc1sxXT8uXzE5ODR9PC90ZD5cclxuICAgIDx0ZD4ke2h0bWxUYWJsZXNbMV0/Ll8xOTg1fTwvdGQ+XHJcbiAgICA8dGQ+JHtodG1sVGFibGVzWzFdPy5fMTk4Nn08L3RkPlxyXG4gICAgPHRkPiR7aHRtbFRhYmxlc1sxXT8uXzE5ODd9PC90ZD5cclxuICAgIDx0ZD4ke2h0bWxUYWJsZXNbMV0/Ll8xOTg4fTwvdGQ+XHJcbiAgICA8dGQ+JHtodG1sVGFibGVzWzFdPy5fMTk4OX08L3RkPlxyXG4gICAgPHRkPiR7aHRtbFRhYmxlc1sxXT8uXzE5OTB9PC90ZD5cclxuICAgIDx0ZD4ke2h0bWxUYWJsZXNbMV0/Ll8xOTkxfTwvdGQ+XHJcbiAgICA8dGQ+JHtodG1sVGFibGVzWzFdPy5fMTk5Mn08L3RkPlxyXG4gICAgPHRkPiR7aHRtbFRhYmxlc1sxXT8uXzE5OTN9PC90ZD5cclxuICAgIDx0ZD4ke2h0bWxUYWJsZXNbMV0/Ll8xOTk0fTwvdGQ+XHJcbiAgICA8dGQ+JHtodG1sVGFibGVzWzFdPy5fMTk5NX08L3RkPlxyXG4gICAgPHRkPiR7aHRtbFRhYmxlc1sxXT8uXzE5OTZ9PC90ZD5cclxuICAgIDx0ZD4ke2h0bWxUYWJsZXNbMV0/Ll8xOTk3fTwvdGQ+XHJcbiAgICA8dGQ+JHtodG1sVGFibGVzWzFdPy5fMTk5OH08L3RkPlxyXG4gICAgPHRkPiR7aHRtbFRhYmxlc1sxXT8uXzE5OTl9PC90ZD5cclxuICAgIDx0ZD4ke2h0bWxUYWJsZXNbMV0/Ll8yMDAwfTwvdGQ+XHJcbiAgICA8dGQ+JHtodG1sVGFibGVzWzFdPy5fMjAwMX08L3RkPlxyXG4gICAgPHRkPiR7aHRtbFRhYmxlc1sxXT8uXzIwMDJ9PC90ZD5cclxuICAgIDx0ZD4ke2h0bWxUYWJsZXNbMV0/Ll8yMDAzfTwvdGQ+XHJcbiAgICA8dGQ+JHtodG1sVGFibGVzWzFdPy5fMjAwNH08L3RkPlxyXG4gICAgPHRkPiR7aHRtbFRhYmxlc1sxXT8uXzIwMDV9PC90ZD5cclxuICAgIDx0ZD4ke2h0bWxUYWJsZXNbMV0/Ll8yMDA2fTwvdGQ+XHJcbiAgICA8dGQ+JHtodG1sVGFibGVzWzFdPy5fMjAwN308L3RkPlxyXG4gICAgPHRkPiR7aHRtbFRhYmxlc1sxXT8uXzIwMDh9PC90ZD5cclxuICAgIDx0ZD4ke2h0bWxUYWJsZXNbMV0/Ll8yMDA5fTwvdGQ+XHJcbiAgICA8dGQ+JHtodG1sVGFibGVzWzFdPy5fMjAxMH08L3RkPlxyXG4gICAgPHRkPiR7aHRtbFRhYmxlc1sxXT8uXzIwMTF9PC90ZD5cclxuICAgIDx0ZD4ke2h0bWxUYWJsZXNbMV0/Ll8yMDEyfTwvdGQ+XHJcbiAgICA8dGQ+JHtodG1sVGFibGVzWzFdPy5fMjAxM308L3RkPlxyXG4gICAgPHRkPiR7aHRtbFRhYmxlc1sxXT8uXzIwMTR9PC90ZD5cclxuICAgIDx0ZD4ke2h0bWxUYWJsZXNbMV0/Ll8yMDE1fTwvdGQ+XHJcbiAgICA8dGQ+JHtodG1sVGFibGVzWzFdPy5fMjAxNn08L3RkPlxyXG4gICAgPHRkPiR7aHRtbFRhYmxlc1sxXT8uXzIwMTd9PC90ZD5cclxuICAgIDx0ZD4ke2h0bWxUYWJsZXNbMV0/Ll8yMDE4fTwvdGQ+XHJcbiAgICA8dGQ+JHtodG1sVGFibGVzWzFdPy5fMjAxOX08L3RkPlxyXG4gICAgPHRkPiR7aHRtbFRhYmxlc1sxXT8uXzIwMjB9PC90ZD5cclxuICAgIDx0ZD4ke2h0bWxUYWJsZXNbMV0/Ll8yMDIxfTwvdGQ+XHJcbiAgICA8dGQ+JHtodG1sVGFibGVzWzFdPy5fMjAyMn08L3RkPlxyXG4gICAgPHRkPiR7aHRtbFRhYmxlc1sxXT8uXzIwMjN9PC90ZD5cclxuICAgIDx0ZD4ke2h0bWxUYWJsZXNbMV0/Ll8yMDI0fTwvdGQ+XHJcbiAgICA8dGQ+JHtodG1sVGFibGVzWzFdPy5jaGFuZ2VFc3RpbWF0ZX08L3RkPlxyXG4gIDwvdHI+XHJcbiAgPHRyPlxyXG4gICAgPHRkPiR7aHRtbFRhYmxlc1syXT8udGltZX08L3RkPlxyXG4gICAgPHRkPiR7aHRtbFRhYmxlc1syXT8uZ3JhZGV9PC90ZD5cclxuICAgIDx0ZD4ke2h0bWxUYWJsZXNbMl0/Ll8xOTc1fTwvdGQ+XHJcbiAgICA8dGQ+JHtodG1sVGFibGVzWzJdPy5fMTk3Nn08L3RkPlxyXG4gICAgPHRkPiR7aHRtbFRhYmxlc1syXT8uXzE5Nzd9PC90ZD5cclxuICAgIDx0ZD4ke2h0bWxUYWJsZXNbMl0/Ll8xOTc4fTwvdGQ+XHJcbiAgICA8dGQ+JHtodG1sVGFibGVzWzJdPy5fMTk3OX08L3RkPlxyXG4gICAgPHRkPiR7aHRtbFRhYmxlc1syXT8uXzE5ODB9PC90ZD5cclxuICAgIDx0ZD4ke2h0bWxUYWJsZXNbMl0/Ll8xOTgxfTwvdGQ+XHJcbiAgICA8dGQ+JHtodG1sVGFibGVzWzJdPy5fMTk4Mn08L3RkPlxyXG4gICAgPHRkPiR7aHRtbFRhYmxlc1syXT8uXzE5ODN9PC90ZD5cclxuICAgIDx0ZD4ke2h0bWxUYWJsZXNbMl0/Ll8xOTg0fTwvdGQ+XHJcbiAgICA8dGQ+JHtodG1sVGFibGVzWzJdPy5fMTk4NX08L3RkPlxyXG4gICAgPHRkPiR7aHRtbFRhYmxlc1syXT8uXzE5ODZ9PC90ZD5cclxuICAgIDx0ZD4ke2h0bWxUYWJsZXNbMl0/Ll8xOTg3fTwvdGQ+XHJcbiAgICA8dGQ+JHtodG1sVGFibGVzWzJdPy5fMTk4OH08L3RkPlxyXG4gICAgPHRkPiR7aHRtbFRhYmxlc1syXT8uXzE5ODl9PC90ZD5cclxuICAgIDx0ZD4ke2h0bWxUYWJsZXNbMl0/Ll8xOTkwfTwvdGQ+XHJcbiAgICA8dGQ+JHtodG1sVGFibGVzWzJdPy5fMTk5MX08L3RkPlxyXG4gICAgPHRkPiR7aHRtbFRhYmxlc1syXT8uXzE5OTJ9PC90ZD5cclxuICAgIDx0ZD4ke2h0bWxUYWJsZXNbMl0/Ll8xOTkzfTwvdGQ+XHJcbiAgICA8dGQ+JHtodG1sVGFibGVzWzJdPy5fMTk5NH08L3RkPlxyXG4gICAgPHRkPiR7aHRtbFRhYmxlc1syXT8uXzE5OTV9PC90ZD5cclxuICAgIDx0ZD4ke2h0bWxUYWJsZXNbMl0/Ll8xOTk2fTwvdGQ+XHJcbiAgICA8dGQ+JHtodG1sVGFibGVzWzJdPy5fMTk5N308L3RkPlxyXG4gICAgPHRkPiR7aHRtbFRhYmxlc1syXT8uXzE5OTh9PC90ZD5cclxuICAgIDx0ZD4ke2h0bWxUYWJsZXNbMl0/Ll8xOTk5fTwvdGQ+XHJcbiAgICA8dGQ+JHtodG1sVGFibGVzWzJdPy5fMjAwMH08L3RkPlxyXG4gICAgPHRkPiR7aHRtbFRhYmxlc1syXT8uXzIwMDF9PC90ZD5cclxuICAgIDx0ZD4ke2h0bWxUYWJsZXNbMl0/Ll8yMDAyfTwvdGQ+XHJcbiAgICA8dGQ+JHtodG1sVGFibGVzWzJdPy5fMjAwM308L3RkPlxyXG4gICAgPHRkPiR7aHRtbFRhYmxlc1syXT8uXzIwMDR9PC90ZD5cclxuICAgIDx0ZD4ke2h0bWxUYWJsZXNbMl0/Ll8yMDA1fTwvdGQ+XHJcbiAgICA8dGQ+JHtodG1sVGFibGVzWzJdPy5fMjAwNn08L3RkPlxyXG4gICAgPHRkPiR7aHRtbFRhYmxlc1syXT8uXzIwMDd9PC90ZD5cclxuICAgIDx0ZD4ke2h0bWxUYWJsZXNbMl0/Ll8yMDA4fTwvdGQ+XHJcbiAgICA8dGQ+JHtodG1sVGFibGVzWzJdPy5fMjAwOX08L3RkPlxyXG4gICAgPHRkPiR7aHRtbFRhYmxlc1syXT8uXzIwMTB9PC90ZD5cclxuICAgIDx0ZD4ke2h0bWxUYWJsZXNbMl0/Ll8yMDExfTwvdGQ+XHJcbiAgICA8dGQ+JHtodG1sVGFibGVzWzJdPy5fMjAxMn08L3RkPlxyXG4gICAgPHRkPiR7aHRtbFRhYmxlc1syXT8uXzIwMTN9PC90ZD5cclxuICAgIDx0ZD4ke2h0bWxUYWJsZXNbMl0/Ll8yMDE0fTwvdGQ+XHJcbiAgICA8dGQ+JHtodG1sVGFibGVzWzJdPy5fMjAxNX08L3RkPlxyXG4gICAgPHRkPiR7aHRtbFRhYmxlc1syXT8uXzIwMTZ9PC90ZD5cclxuICAgIDx0ZD4ke2h0bWxUYWJsZXNbMl0/Ll8yMDE3fTwvdGQ+XHJcbiAgICA8dGQ+JHtodG1sVGFibGVzWzJdPy5fMjAxOH08L3RkPlxyXG4gICAgPHRkPiR7aHRtbFRhYmxlc1syXT8uXzIwMTl9PC90ZD5cclxuICAgIDx0ZD4ke2h0bWxUYWJsZXNbMl0/Ll8yMDIwfTwvdGQ+XHJcbiAgICA8dGQ+JHtodG1sVGFibGVzWzJdPy5fMjAyMX08L3RkPlxyXG4gICAgPHRkPiR7aHRtbFRhYmxlc1syXT8uXzIwMjJ9PC90ZD5cclxuICAgIDx0ZD4ke2h0bWxUYWJsZXNbMl0/Ll8yMDIzfTwvdGQ+XHJcbiAgICA8dGQ+JHtodG1sVGFibGVzWzJdPy5fMjAyNH08L3RkPlxyXG4gICAgPHRkPiR7aHRtbFRhYmxlc1syXT8uY2hhbmdlRXN0aW1hdGV9PC90ZD5cclxuICA8L3RyPlxyXG48L3RhYmxlPlxyXG5gXHJcbiJ9LHsibWV0aG9kTmFtZSI6ImludGVycHJldCIsImNlbGxOYW1lIjoib2pzLWNlbGwtMiIsImlubGluZSI6ZmFsc2UsInNvdXJjZSI6ImFjY29yZGlvbkJ1dHRvbnMgPSBcclxuaHRtbGBcclxuPGRpdiBzdHlsZT1cIndpZHRoOiA5MCVcIiBjbGFzcz1cImFjY29yZGlvbiBhY2NvcmRpb24tZmx1c2hcIiBpZD1cImFjY29yZGlvbkZsdXNoRXhhbXBsZVwiPlxyXG4gIDxkaXYgY2xhc3M9XCJhY2NvcmRpb24taXRlbVwiPlxyXG4gICAgPGgyIGNsYXNzPVwiYWNjb3JkaW9uLWhlYWRlclwiIGlkPVwiZmx1c2gtaGVhZGluZ09uZVwiPlxyXG4gICAgICA8YnV0dG9uIGNsYXNzPVwiYWNjb3JkaW9uLWJ1dHRvbiBjb2xsYXBzZWRcIiB0eXBlPVwiYnV0dG9uXCIgZGF0YS1icy10b2dnbGU9XCJjb2xsYXBzZVwiIGRhdGEtYnMtdGFyZ2V0PVwiI2ZsdXNoLWNvbGxhcHNlT25lXCIgYXJpYS1leHBhbmRlZD1cImZhbHNlXCIgYXJpYS1jb250cm9scz1cImZsdXNoLWNvbGxhcHNlT25lXCI+XHJcbiAgICAgICAgVGFibGUgd2l0aCBEZXRhaWxlZCBFc3RpbWF0ZXNcclxuICAgICAgPC9idXR0b24+XHJcbiAgICA8L2gyPlxyXG4gICAgPGRpdiBpZD1cImZsdXNoLWNvbGxhcHNlT25lXCIgY2xhc3M9XCJhY2NvcmRpb24tY29sbGFwc2UgY29sbGFwc2VcIiBhcmlhLWxhYmVsbGVkYnk9XCJmbHVzaC1oZWFkaW5nT25lXCIgZGF0YS1icy1wYXJlbnQ9XCIjYWNjb3JkaW9uRmx1c2hFeGFtcGxlXCI+XHJcbiAgICAgIDxkaXYgY2xhc3M9XCJhY2NvcmRpb24tYm9keVwiPlxyXG4gICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJicmFuY2hcIj48ZGl2PiR7d2lkZVRhYmxlfTwvZGl2PjwvZGl2PlxyXG4gICAgICAgICAgICAgICAgPGRpdj5cclxuICAgICAgICAgICAgICAgIDxwIHN0eWxlPVwiZm9udC1zaXplOiBzbWFsbDsgbWFyZ2luLWJvdHRvbTogMHB4O1wiPk5vdGU6XHJcbiAgICAgICAgICAgICAgICAgICAgICBMZXZlbCBvZiBzaWduaWZpY2FuY2U6ICo9cDwuMDUsICoqPXA8LjAxLCAqKio9cDwuMDAxLiA8YnI+XHJcbiAgICAgICAgICAgICAgICAgICAgICBcIi5cIiBpbmRpY2F0ZXMgZGF0YSBpcyBub3QgYXZhaWxhYmxlLiA8YnI+XHJcbiAgICAgICAgICAgICAgICAgICAgICBcIiZEYWdnZXI7XCIgaW5kaWNhdGVzIHRoYXQgdGhlIHF1ZXN0aW9uIGNoYW5nZWQgdGhlIGZvbGxvd2luZyB5ZWFyLiA8YnI+XHJcbiAgICAgICAgICAgICAgICAgICAgICBcIiZzZWN0O1wiIGluZGljYXRlcyBpbnN1ZmZpY2llbnQgZGF0YSBmb3IgdGhhdCB5ZWFyLiA8YnI+XHJcbiAgICAgICAgICAgICAgICAgICAgICA8YSBocmVmPVwiaHR0cHM6Ly9tb25pdG9yaW5ndGhlZnV0dXJlLm9yZy9kYXRhL2J4LWJ5L2RydWctcHJldmFsZW5jZS9Gb290bm90ZXMucGRmXCI+Rm9vdG5vdGVzIChQREYpPC9hPjwvcD48L2Rpdj5cclxuICAgICAgICAgICAgICAgICAgICAgIFxyXG4gICAgICAgICAgPC9kaXY+XHJcbiAgICA8L2Rpdj5cclxuICA8L2Rpdj5cclxuICA8ZGl2IGNsYXNzPVwiYWNjb3JkaW9uLWl0ZW1cIj5cclxuICAgIDxoMiBjbGFzcz1cImFjY29yZGlvbi1oZWFkZXJcIiBpZD1cImZsdXNoLWhlYWRpbmdUd29cIj5cclxuICAgICAgPGJ1dHRvbiBjbGFzcz1cImFjY29yZGlvbi1idXR0b24gY29sbGFwc2VkXCIgdHlwZT1cImJ1dHRvblwiIGRhdGEtYnMtdG9nZ2xlPVwiY29sbGFwc2VcIiBkYXRhLWJzLXRhcmdldD1cIiNmbHVzaC1jb2xsYXBzZVR3b1wiIGFyaWEtZXhwYW5kZWQ9XCJmYWxzZVwiIGFyaWEtY29udHJvbHM9XCJmbHVzaC1jb2xsYXBzZVR3b1wiPlxyXG4gICAgICAgIENvbW1lbnRhcnlcclxuICAgICAgPC9idXR0b24+XHJcbiAgICA8L2gyPlxyXG4gICAgPGRpdiBpZD1cImZsdXNoLWNvbGxhcHNlVHdvXCIgY2xhc3M9XCJhY2NvcmRpb24tY29sbGFwc2UgY29sbGFwc2VcIiBhcmlhLWxhYmVsbGVkYnk9XCJmbHVzaC1oZWFkaW5nVHdvXCIgZGF0YS1icy1wYXJlbnQ9XCIjYWNjb3JkaW9uRmx1c2hFeGFtcGxlXCI+XHJcbiAgICAgIDxkaXYgc3R5bGU9XCJkaXNwbGF5OiBmbGV4OyBqdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlcjsgd2lkdGg6MTAwJVwiIGNsYXNzPVwiYWNjb3JkaW9uLWJvZHlcIj4ke2VkaXRkb2N9PC9kaXY+XHJcbiAgICA8L2Rpdj5cclxuICA8L2Rpdj5cclxuPC9kaXY+YFxyXG5cclxuIn0seyJtZXRob2ROYW1lIjoiaW50ZXJwcmV0IiwiY2VsbE5hbWUiOiJvanMtY2VsbC0zIiwiaW5saW5lIjpmYWxzZSwic291cmNlIjoiY2l0YXRpb24gPSBodG1sYDxkaXYgc3R5bGU9XCJtYXgtd2lkdGg6IDc1MHB4O1wiPjxwIHN0eWxlPVwiZm9udC1zaXplOiBzbWFsbDtcIj5NaWVjaCwgUi4gQS4sIEpvaG5zdG9uLCBMLiBELiwgUGF0cmljaywgTS4gRS4sICYgT+KAmU1hbGxleSwgUC4gTS4gKDIwMjUpLiBNb25pdG9yaW5nIHRoZSBGdXR1cmUgbmF0aW9uYWwgc3VydmV5IHJlc3VsdHMgb24gZHJ1ZyB1c2UsIDE5NzXigJMyMDI0OiBPdmVydmlldyBhbmQgZGV0YWlsZWQgcmVzdWx0cyBmb3Igc2Vjb25kYXJ5IHNjaG9vbCBzdHVkZW50cy4gTW9uaXRvcmluZyB0aGUgRnV0dXJlIE1vbm9ncmFwaCBTZXJpZXMuIEFubiBBcmJvciwgTUk6IEluc3RpdHV0ZSBmb3IgU29jaWFsIFJlc2VhcmNoLCBVbml2ZXJzaXR5IG9mIE1pY2hpZ2FuLiBBdmFpbGFibGUgYXQgPGEgaHJlZj1cImh0dHBzOi8vbW9uaXRvcmluZ3RoZWZ1dHVyZS5vcmcvcmVzdWx0cy9hbm51YWwtcmVwb3J0cy9cIj5odHRwczovL21vbml0b3Jpbmd0aGVmdXR1cmUub3JnL3Jlc3VsdHMvYW5udWFsLXJlcG9ydHMvPC9hPjwvcD48L2Rpdj5gXHJcbiJ9LHsibWV0aG9kTmFtZSI6ImludGVycHJldCIsImNlbGxOYW1lIjoib2pzLWNlbGwtNCIsImlubGluZSI6ZmFsc2UsInNvdXJjZSI6ImZvb3Rub3RlcyA9IGh0bWxgPHAgc3R5bGU9XCJmb250LXNpemU6IHNtYWxsO1wiPjxzcGFuIHN0eWxlPVwiY29sb3I6I2ZmNTdmOTsgZm9udC13ZWlnaHQ6NTAwO1wiPjIwMjMtMjAyNCBDaGFuZ2UgTGV2ZWwgb2YgU2lnbmlmaWNhbmNlOiAqPXA8LjA1LCAqKj1wPC4wMSwgKioqPXA8LjAwMS48L3NwYW4+IDxicj4gPGEgaHJlZj1cImh0dHBzOi8vbW9uaXRvcmluZ3RoZWZ1dHVyZS5vcmcvZGF0YS9ieC1ieS9kcnVnLXByZXZhbGVuY2UvRm9vdG5vdGVzLnBkZlwiPkZvb3Rub3RlcyAoUERGKTwvYT48L3A+YFxyXG4ifSx7Im1ldGhvZE5hbWUiOiJpbnRlcnByZXQiLCJjZWxsTmFtZSI6Im9qcy1jZWxsLTUiLCJpbmxpbmUiOmZhbHNlLCJzb3VyY2UiOiJkcnVnQ29tbWVudGFyeSA9IEZpbGVBdHRhY2htZW50KFwiZHJ1Zy1jb21tZW50YXJ5LmNzdlwiKS5jc3YoKVxyXG5cclxuZ29vZ2xlZG9jbGluayA9IGRydWdDb21tZW50YXJ5LmZpbHRlcihcclxuICAoeyBEcnVnTmFtZSB9KSA9PiBEcnVnTmFtZS50b0xvY2FsZUxvd2VyQ2FzZSgpID09PSBzZWxlY3QudG9Mb2NhbGVMb3dlckNhc2UoKVxyXG4pXHJcblxyXG5lZGl0ZG9jID0gaHRtbGA8aWZyYW1lIHdpZHRoPVwiMTAwJVwiIGhlaWdodD1cIjgwMHB4XCIgc3JjPSR7Z29vZ2xlZG9jbGlua1swXS5FZGl0TGlua30+PC9pZnJhbWU+YFxyXG5wdWJsaXNoZG9jID0gaHRtbGA8aWZyYW1lIHN0eWxlPVwid2lkdGg6OTAwcHg7IGhlaWdodDoxMzAwcHg7XCJzcmM9JHtnb29nbGVkb2NsaW5rWzBdLlB1Ymxpc2hMaW5rfT48L2lmcmFtZT5gXHJcbiJ9LHsibWV0aG9kTmFtZSI6ImludGVycHJldCIsImNlbGxOYW1lIjoib2pzLWNlbGwtNiIsImlubGluZSI6ZmFsc2UsInNvdXJjZSI6InRhYmxlcyA9IEZpbGVBdHRhY2htZW50KFwidGFibGVkYXRhLmNzdlwiKS5jc3YoeyB0eXBlZDogdHJ1ZSB9KVxyXG50YWJsZXMyID0gRmlsZUF0dGFjaG1lbnQoXCJ0YWJsZWRhdGEuY3N2XCIpLmNzdigpXHJcblxyXG50YWJsZXNEcnVnID0gdGFibGVzLmZpbHRlcihcclxuICAoeyBkcnVnIH0pID0+IGRydWcudG9Mb2NhbGVMb3dlckNhc2UoKSA9PT0gc2VsZWN0LnRvTG9jYWxlTG93ZXJDYXNlKClcclxuKVxyXG50YWJsZXNEcnVnMiA9IHRhYmxlczIuZmlsdGVyKFxyXG4gICh7IGRydWcgfSkgPT4gZHJ1Zy50b0xvY2FsZUxvd2VyQ2FzZSgpID09PSBzZWxlY3QudG9Mb2NhbGVMb3dlckNhc2UoKVxyXG4pXHJcblxyXG50YWJsZXNEcnVnVGltZSA9IHRhYmxlc0RydWcuZmlsdGVyKCh7IHRpbWUgfSkgPT4gdGltZSA9PT0gcmFkaW9bMF0udGltZSlcclxudGFibGVzRHJ1Z1RpbWUyID0gdGFibGVzRHJ1ZzIuZmlsdGVyKCh7IHRpbWUgfSkgPT4gdGltZSA9PT0gcmFkaW9bMF0udGltZSlcclxuXHJcbnRhYmxlc0RydWcyXHJcblxyXG50YWJsZXNEcnVnVGltZVxyXG5cclxudGFibGVzRHJ1Z1RpbWUyXHJcblxyXG5odG1sVGFibGVzID0gdGFibGVzRHJ1Z1RpbWUyXHJcblxyXG5odG1sVGFibGVzXHJcblxyXG4ifSx7Im1ldGhvZE5hbWUiOiJpbnRlcnByZXQiLCJjZWxsTmFtZSI6Im9qcy1jZWxsLTciLCJpbmxpbmUiOmZhbHNlLCJzb3VyY2UiOiJcclxucHJldmFsZW5jZSA9IEZpbGVBdHRhY2htZW50KFwicGxvdGRhdGEuY3N2XCIpLmNzdih7IHR5cGVkOiB0cnVlIH0pXHJcblxyXG5wcmV2YWxlbmNlXHJcblxyXG5wYXJzZXIgPSBkMy50aW1lUGFyc2UoXCIlWVwiKVxyXG5cclxuZGF0YSA9IHsgLy8gVGhpcyBjcmVhdGVzIG5ldyB2YXJpYWJsZXNcclxuICBjb25zdCBzdWJzZXQgPSBwcmV2YWxlbmNlLm1hcChcclxuICAgICh7IGRydWcsIHRpbWUsIGdyYWRlLCB5ZWFyLCBlc3RpbWF0ZSwgTEJZZWFyMSwgTEJZZWFyMiB9KSA9PiAoe1xyXG4gICAgICBkcnVnOiBkcnVnLFxyXG4gICAgICB0aW1lOiB0aW1lLFxyXG4gICAgICBncmFkZTogZ3JhZGUsXHJcbiAgICAgIHllYXI6IHBhcnNlcih5ZWFyKSxcclxuICAgICAgZXN0aW1hdGU6ICtlc3RpbWF0ZS50b0ZpeGVkKDEpLFxyXG4gICAgICBMQlllYXIxOiBwYXJzZXIoTEJZZWFyMSksXHJcbiAgICAgIExCWWVhcjI6IHBhcnNlcihMQlllYXIyKVxyXG4gICAgfSlcclxuICApO1xyXG5cclxuICByZXR1cm4gc3Vic2V0LmZpbHRlcihcclxuICAgICh7IGRydWcgfSkgPT4gZHJ1Zy50b0xvY2FsZUxvd2VyQ2FzZSgpID09PSBzZWxlY3QudG9Mb2NhbGVMb3dlckNhc2UoKVxyXG4gICk7XHJcbn1cclxuXHJcbmRhdGFcclxuIn0seyJtZXRob2ROYW1lIjoiaW50ZXJwcmV0IiwiY2VsbE5hbWUiOiJvanMtY2VsbC04IiwiaW5saW5lIjpmYWxzZSwic291cmNlIjoiaW1wb3J0IHtQZXJzaXN0SW5wdXR9IGZyb20gXCJAam9obi1ndWVycmEvcGVyc2lzdC1pbnB1dFwiXHJcbmltcG9ydCB7YXEsIG9wfSBmcm9tIFwiQHV3ZGF0YS9hcnF1ZXJvXCJcclxuXHJcbnZpZXdvZiBkcnVncyA9IGFxIC8vIHZpZXdvZiBzaG93cyB0aGUgdGFibGUgdmlldywgYnV0IGFzc2lnbnMgdGhlIHRhYmxlIHZhbHVlXHJcbiAgLmZyb21DU1YoYXdhaXQgRmlsZUF0dGFjaG1lbnQoXCJwbG90ZGF0YS5jc3ZcIikudGV4dCgpKVxyXG4gIC5ncm91cGJ5KFwiZHJ1Z1wiKVxyXG4gIC5jb3VudCgpXHJcbiAgLnZpZXcoeyBoZWlnaHQ6IDI0MCB9KVxyXG5cclxuZHJ1Z1NlbGVjdGlvbiA9IGRydWdzLm9iamVjdHMoKVxyXG5cclxudmlld29mIHNlYXJjaCA9IFBlcnNpc3RJbnB1dCggLy8gVGhpcyBjcmVhdGVzIGEgcmVhY3RpdmUgaW5wdXQgY2FsbGVkIHNlYXJjaFxyXG4gIFwiZHJ1Z1wiLCBmb3JtMilcclxuXHJcbiBmb3JtMiA9IHtcclxuICBjb25zdCBmb3JtID0gSW5wdXRzLnRleHQoe1xyXG4gICAgZGF0YWxpc3Q6IGRydWdTZWxlY3Rpb24ubWFwKChkKSA9PiBkLmRydWcpLFxyXG4gICAgcGxhY2Vob2xkZXI6IFwiU2VhcmNoIERydWdcIixcclxuICAgIHN1Ym1pdDogdHJ1ZSxcclxuICAgIGF1dG9jb21wbGV0ZTogZmFsc2UsXHJcbiAgICBzcGVsbGNoZWNrOiB0cnVlLFxyXG4gICAgd2lkdGg6IDMwMFxyXG4gIH0pOyBcclxuICAgIGZvcm0uYWRkRXZlbnRMaXN0ZW5lcihcImlucHV0XCIsICgpID0+IHtmb3JtLnRleHQudmFsdWUgPSBcIlwifSk7XHJcbiAgcmV0dXJuIGZvcm07fVxyXG5cclxuc2VsZWN0ID0gc2VhcmNoID8gc2VhcmNoIDogXCJBbGNvaG9sXCJcclxuXHJcbiJ9LHsibWV0aG9kTmFtZSI6ImludGVycHJldCIsImNlbGxOYW1lIjoib2pzLWNlbGwtOSIsImlubGluZSI6ZmFsc2UsInNvdXJjZSI6IlxyXG52aWV3b2YgcmFkaW8gPSB7XHJcbiAgY29uc3QgdmFsdWVzID0gZDMuZ3JvdXAoZGF0YSwgKGQpID0+IGQudGltZSk7XHJcbiAgcmV0dXJuIElucHV0cy5yYWRpbyh2YWx1ZXMsIHtcclxuICAgIGtleTogdmFsdWVzLmhhcyhcIjEyIE1vbnRoXCIpXHJcbiAgICAgID8gXCIxMiBNb250aFwiXHJcbiAgICAgIDogdmFsdWVzLmtleXMoKS5uZXh0KCkudmFsdWVcclxuICB9KTtcclxufVxyXG5cclxucmFkaW9cclxuIn0seyJtZXRob2ROYW1lIjoiaW50ZXJwcmV0IiwiY2VsbE5hbWUiOiJvanMtY2VsbC0xMCIsImlubGluZSI6ZmFsc2UsInNvdXJjZSI6IlxyXG5mdW5jdGlvbiBidXR0b25Ub2dnbGUoeyBcclxuICBvblRleHQgPSBcIlpvb20gaW5cIixcclxuICBvZmZUZXh0ID0gXCJab29tIG91dFwiLFxyXG4gIHZhbHVlID0gMCxcclxuICBjbGljayA9ICh2YWx1ZSwgY2xpY2tzKSA9PiBjbGlja3NcclxufSA9IHt9KSB7XHJcbiAgbGV0IHRleHQgPSBvblRleHQsXHJcbiAgICBtbCA9IGh0bWxgPGJ1dHRvbiB0eXBlPVwiYnV0dG9uXCIgY2xhc3M9XCJidG4gYnRuLXF1YXJ0b1wiID4ke3RleHR9PC9idXR0b24+YCxcclxuICAgIGNsaWNrcyA9IDAsXHJcbiAgICB2ID0gdmFsdWU7XHJcblxyXG4gIG1sLnZhbHVlID0gdjtcclxuICBtbC5vbmNsaWNrID0gKCkgPT4ge1xyXG4gICAgdiA9IGNsaWNrKHYsICsrY2xpY2tzKTtcclxuXHJcbiAgICBtbC52YWx1ZSA9IHY7XHJcbiAgICBtbC5pbm5lckhUTUwgPSBjbGlja3MgJSAyID09PSAwID8gb25UZXh0IDogb2ZmVGV4dDtcclxuICB9O1xyXG4gIHJldHVybiBtbDtcclxufVxyXG5cclxubWF4ID0gTWF0aC5tYXgoLi4ucmFkaW8ubWFwKChvKSA9PiBvLmVzdGltYXRlKSlcclxuXHJcbnlzY2FsZSA9IHtcclxuICBpZiAoem9vbUluQnV0dG9uICUgMiA9PSAwKSB7XHJcbiAgICByZXR1cm4gWzAsIDEwMF07IC8vIElmIHRoaXMgc3RhdGVtZW50IGlzIHRydWUsIHJldHVybiB0aGlzXHJcbiAgfSBlbHNlIHtcclxuICAgIHJldHVybiBbMCwgbWF4XTsgLy8gSWYgdGhlIHNlY29uZCBzdGF0ZW1lbnQgaXMgdHJ1ZSwgcmV0dXJuIHRoaXNcclxuICB9XHJcbn1cclxuXHJcbnZpZXdvZiB6b29tSW5CdXR0b24gPSBidXR0b25Ub2dnbGUoKVxyXG5cclxuIn0seyJtZXRob2ROYW1lIjoiaW50ZXJwcmV0IiwiY2VsbE5hbWUiOiJvanMtY2VsbC0xMSIsImlubGluZSI6ZmFsc2UsInNvdXJjZSI6ImRvd25sb2FkQnV0dG9uID0gKGRhdGEsIGZpbGVuYW1lKSA9PiB7XHJcbiAgXHJcbiAgbGV0IGRvd25sb2FkRGF0YTtcclxuICBkb3dubG9hZERhdGEgPSBuZXcgQmxvYihbZDMuY3N2Rm9ybWF0KGRhdGEpXSwgeyB0eXBlOiBcInRleHQvY3N2XCIgfSk7XHJcbiAgY29uc3Qgc2l6ZSA9IChkb3dubG9hZERhdGEuc2l6ZSAvIDEwMjQpLnRvRml4ZWQoMCk7XHJcbiAgY29uc3QgYnV0dG9uID0gRE9NLmRvd25sb2FkKFxyXG4gICAgZG93bmxvYWREYXRhLFxyXG4gICAgZmlsZW5hbWUsXHJcbiAgICBgRG93bmxvYWQgJHtmaWxlbmFtZX0gRGF0YXNldCAofiR7c2l6ZX0gS0IpYFxyXG4gICk7XHJcbiAgcmV0dXJuIGJ1dHRvbjtcclxufSAvLyA8MT5cclxuXHJcbm5hbWUgPSBgJHtyYWRpb1swXS5kcnVnfSAtICR7cmFkaW9bMF0udGltZX1gXHJcblxyXG5yYWRpb1dpdGhvdXRMaW5lQnJlYWtzID0gcmFkaW8ubWFwKG9iaiA9PiB7XHJcbiAgY29uc3Qge3llYXIsIGVzdGltYXRlLCBkcnVnLCBncmFkZSwgdGltZX0gPSBvYmo7XHJcbiAgcmV0dXJuIHt5ZWFyLCBlc3RpbWF0ZSwgZHJ1ZywgZ3JhZGUsIHRpbWV9O1xyXG59KTtcclxuXHJcbmRvd25sb2FkRGF0YSA9IGRvd25sb2FkQnV0dG9uKHJhZGlvV2l0aG91dExpbmVCcmVha3MsIG5hbWUpXHJcbiJ9LHsibWV0aG9kTmFtZSI6ImludGVycHJldCIsImNlbGxOYW1lIjoib2pzLWNlbGwtMTIiLCJpbmxpbmUiOmZhbHNlLCJzb3VyY2UiOiJ0aXRsZSA9IGh0bWxgPGgzPiAke3JhZGlvWzBdLmRydWcudG9Mb2NhbGVVcHBlckNhc2UoKX06IFRyZW5kcyBpbiA8dT4ke3JhZGlvWzBdLnRpbWV9PC91PiBQcmV2YWxlbmNlIG9mIFVzZSBpbiAke2dyYWRlUXVlc3Rpb259IDwvaDM+YFxyXG5cclxuZ3JhZGVRdWVzdGlvbiA9IGdyYWRlVGl0bGUubGVuZ3RoID4gMVxyXG4gID8gXCI4dGgsIDEwdGgsIGFuZCAxMnRoIEdyYWRlXCJcclxuICA6IFwiMTJ0aCBHcmFkZVwiXHJcblxyXG5yYWRpb1NldCA9IG5ldyBTZXQocmFkaW8ubWFwKChkKSA9PiBkLmdyYWRlKSlcclxuXHJcbmdyYWRlVGl0bGUgPSBbLi4ucmFkaW9TZXRdXHJcblxyXG4ifSx7Im1ldGhvZE5hbWUiOiJpbnRlcnByZXQiLCJjZWxsTmFtZSI6Im9qcy1jZWxsLTEzIiwiaW5saW5lIjpmYWxzZSwic291cmNlIjoiaW1wb3J0IHthZGRUb29sdGlwc30gZnJvbSBcIkBta2ZyZWVtYW4vcGxvdC10b29sdGlwXCJcclxuXHJcbmZvcm1hdHRlciA9IGQzLnRpbWVGb3JtYXQoXCIlWVwiKVxyXG5cclxuY29sb3IgPSBkMy5zY2FsZU9yZGluYWwoXHJcbiAgW1wiOHRoIEdyYWRlXCIsIFwiMTB0aCBHcmFkZVwiLCBcIjEydGggR3JhZGVcIl0sXHJcbiAgW1wiIzU5YmJlYlwiLCBcIiM2YWM0YTFcIiwgXCIjY2NhNDM4XCJdXHJcbilcclxuXHJcbnN5bWJvbCA9IGQzLnNjYWxlT3JkaW5hbChcclxuICBbXCI4dGggR3JhZGVcIiwgXCIxMHRoIEdyYWRlXCIsIFwiMTJ0aCBHcmFkZVwiXSxcclxuICBbXCJjaXJjbGVcIiwgXCJzcXVhcmVcIiwgXCJ0cmlhbmdsZVwiXVxyXG4pXHJcblxyXG5ncmFkZU9yZGVyID0gW1wiOHRoIEdyYWRlXCIsIFwiMTB0aCBHcmFkZVwiLCBcIjEydGggR3JhZGVcIl07XHJcblxyXG5yYWRpby5zb3J0KChhLCBiKSA9PiBncmFkZU9yZGVyLmluZGV4T2YoYS5ncmFkZSkgLSBncmFkZU9yZGVyLmluZGV4T2YoYi5ncmFkZSkpO1xyXG5cclxuXHJcbnBsb3QgPSBhZGRUb29sdGlwcyhcclxuICBQbG90LnBsb3Qoe1xyXG4gICAgYXJpYUxhYmVsOiBcIkRydWcgUHJldmFsZW5jZSBMaW5lIENoYXJ0c1wiLFxyXG4gICAgYXJpYURlc2NyaXB0aW9uOlxyXG4gICAgICBcIkRydWcgUHJldmFsZW5jZSBDaGFydCBzaG93aW5nIGVzdGltYXRlcyBvZiB1c2Ugb3ZlciB0aW1lICgxOTc1IHRvIDIwMjQpIGluIDh0aCwgMTB0aCwgYW5kIDEydGggZ3JhZGUgZmlsdGVyZWQgYnkgZHJ1ZyBuYW1lIGFuZCByZXBvcnRpbmcgaW50ZXJ2YWwuIEN1cnJlbnRseSBzaG93aW5nICR7cmFkaW9bMF0uZHJ1Z31cIixcclxuICAgIHdpZHRoOiA5MDAsXHJcbiAgICBoZWlnaHQ6IDU3MCxcclxuICAgIG1hcmdpbkJvdHRvbTogNTAsXHJcbiAgICBzdHlsZToge1xyXG4gICAgICBvdmVyZmxvdzogXCJ2aXNpYmxlXCIsXHJcbiAgICAgIGZvbnRTaXplOiAxMlxyXG4gICAgfSxcclxuICAgIHN5bWJvbDoge1xyXG4gICAgICBkb21haW46IG5ldyBTZXQocmFkaW8ubWFwKChkKSA9PiBkLmdyYWRlKSksXHJcbiAgICAgIHJhbmdlOiBbLi4ubmV3IFNldChyYWRpby5tYXAoKGQpID0+IGQuZ3JhZGUpKV0ubWFwKHN5bWJvbCksXHJcbiAgICAgIGxlZ2VuZDogdHJ1ZSxcclxuICAgICAgc3dhdGNoU2l6ZTogMjNcclxuICAgIH0sXHJcbiAgICBjb2xvcjoge1xyXG4gICAgICBkb21haW46IG5ldyBTZXQocmFkaW8ubWFwKChkKSA9PiBkLmdyYWRlKSksXHJcbiAgICAgIHJhbmdlOiBbLi4ubmV3IFNldChyYWRpby5tYXAoKGQpID0+IGQuZ3JhZGUpKV0ubWFwKGNvbG9yKVxyXG4gICAgfSxcclxuICAgIHk6IHtcclxuICAgICAgbGFiZWw6IFwiUGVyY2VudGFnZSAoJSlcIixcclxuICAgICAgbGFiZWxBbmNob3I6IFwiY2VudGVyXCIsXHJcbiAgICAgIGRvbWFpbjogeXNjYWxlXHJcbiAgICB9LFxyXG4gICAgeDoge1xyXG4gICAgICB0eXBlOiBcInRpbWVcIixcclxuICAgICAgZG9tYWluOiBbbmV3IERhdGUoXCIxOTc0LTAxLTAxXCIpLCBuZXcgRGF0ZShcIjIwMjQtMDEtMDFcIildLFxyXG4gICAgICBsYWJlbDogXCJZZWFyc1wiLFxyXG4gICAgICBsYWJlbEFuY2hvcjogXCJjZW50ZXJcIlxyXG4gICAgfSxcclxuICAgIG1hcmtzOiBbXHJcbiAgICAgIFBsb3QucnVsZVkoWzBdKSxcclxuICAgICAgUGxvdC5kb3QocmFkaW8sIHtcclxuICAgICAgICByOiA1LFxyXG4gICAgICAgIHg6IFwieWVhclwiLFxyXG4gICAgICAgIHk6IFwiZXN0aW1hdGVcIixcclxuICAgICAgICBzeW1ib2w6IFwiZ3JhZGVcIixcclxuICAgICAgICBmaWxsOiBcImdyYWRlXCIsXHJcbiAgICAgICAgdGl0bGU6IChkKSA9PiBgJHtkLmdyYWRlfSBcXG4gJHtmb3JtYXR0ZXIoZC55ZWFyKX06ICR7ZC5lc3RpbWF0ZX0lYFxyXG4gICAgICB9KSxcclxuICAgICAgUGxvdC5saW5lKHJhZGlvLCB7XHJcbiAgICAgICAgeDogXCJ5ZWFyXCIsXHJcbiAgICAgICAgeTogXCJlc3RpbWF0ZVwiLFxyXG4gICAgICAgIHo6IChkKSA9PiAvLyBUaGlzIGNyZWF0ZXMgdGhlIGxpbmUgYnJlYWtzXHJcbiAgICAgICAgICBbXHJcbiAgICAgICAgICAgIGQuZ3JhZGUsXHJcbiAgICAgICAgICAgIGQuTEJZZWFyMSA9PT0gbnVsbFxyXG4gICAgICAgICAgICAgID8gZC55ZWFyLmdldFVUQ0Z1bGxZZWFyKCkgPiAxOTc0XHJcbiAgICAgICAgICAgICAgOiBkLnllYXIuZ2V0VVRDRnVsbFllYXIoKSA+IGQuTEJZZWFyMS5nZXRVVENGdWxsWWVhcigpLFxyXG4gICAgICAgICAgICBkLkxCWWVhcjIgPT09IG51bGxcclxuICAgICAgICAgICAgICA/IGQueWVhci5nZXRVVENGdWxsWWVhcigpID4gMTk3NFxyXG4gICAgICAgICAgICAgIDogZC55ZWFyLmdldFVUQ0Z1bGxZZWFyKCkgPiBkLkxCWWVhcjIuZ2V0VVRDRnVsbFllYXIoKVxyXG4gICAgICAgICAgXS5qb2luKCksXHJcbiAgICAgICAgc3Ryb2tlOiBcImdyYWRlXCJcclxuICAgICAgfSksXHJcbiAgICAgIFBsb3QudGV4dChcclxuICAgICAgICByYWRpby5maWx0ZXIoKGQpID0+IGQuZ3JhZGUgPT09IFwiOHRoIEdyYWRlXCIpLFxyXG4gICAgICAgIFBsb3Quc2VsZWN0TGFzdCh7XHJcbiAgICAgICAgICB4OiBcInllYXJcIixcclxuICAgICAgICAgIHk6IFwiZXN0aW1hdGVcIixcclxuICAgICAgICAgIHRleHQ6IChkKSA9PlxyXG4gICAgICAgICAgICBgJHt0YWJsZXNEcnVnVGltZVswXS5wbG90U2lnID09PSBudWxsID8gXCIgXCIgOiB0YWJsZXNEcnVnVGltZVswXS5wbG90U2lnfWAsIC8vIFRoaXMgaXMgdGhlIGxhYmVsIHRoYXQgZGlzcGxheXMgaW4gdGhlIHRvb2x0aXBcclxuICAgICAgICAgIHRleHRBbmNob3I6IFwic3RhcnRcIixcclxuICAgICAgICAgIGZpbGw6IFwiI2ZmNTdmOVwiLFxyXG4gICAgICAgICAgZm9udFNpemU6IDIwLFxyXG4gICAgICAgICAgZm9udFdlaWdodDogODAwLFxyXG4gICAgICAgICAgZHg6IDEwXHJcbiAgICAgICAgfSlcclxuICAgICAgKSxcclxuICAgICAgUGxvdC50ZXh0KFxyXG4gICAgICAgIHJhZGlvLmZpbHRlcigoZCkgPT4gZC5ncmFkZSA9PT0gXCIxMHRoIEdyYWRlXCIpLFxyXG4gICAgICAgIFBsb3Quc2VsZWN0TGFzdCh7XHJcbiAgICAgICAgICB4OiBcInllYXJcIixcclxuICAgICAgICAgIHk6IFwiZXN0aW1hdGVcIixcclxuICAgICAgICAgIHRleHQ6IChkKSA9PlxyXG4gICAgICAgICAgICBgJHt0YWJsZXNEcnVnVGltZVsxXS5wbG90U2lnID09PSBudWxsID8gXCIgXCIgOiB0YWJsZXNEcnVnVGltZVsxXS5wbG90U2lnfWAsXHJcbiAgICAgICAgICB0ZXh0QW5jaG9yOiBcInN0YXJ0XCIsXHJcbiAgICAgICAgICBmaWxsOiBcIiNmZjU3ZjlcIixcclxuICAgICAgICAgIGZvbnRTaXplOiAyMCxcclxuICAgICAgICAgIGZvbnRXZWlnaHQ6IDgwMCxcclxuICAgICAgICAgIGR4OiAxMFxyXG4gICAgICAgIH0pXHJcbiAgICAgICksXHJcbiAgICAgIFBsb3QudGV4dChcclxuICAgICAgICByYWRpby5maWx0ZXIoKGQpID0+IGQuZ3JhZGUgPT09IFwiMTJ0aCBHcmFkZVwiKSxcclxuICAgICAgICBQbG90LnNlbGVjdExhc3Qoe1xyXG4gICAgICAgICAgeDogXCJ5ZWFyXCIsXHJcbiAgICAgICAgICB5OiBcImVzdGltYXRlXCIsXHJcbiAgICAgICAgICB0ZXh0OiAoZCkgPT5cclxuICAgICAgICAgICAgYCR7dGFibGVzRHJ1Z1RpbWVbMl0/LnBsb3RTaWcgPT0gbnVsbCA/IFwiIFwiIDogdGFibGVzRHJ1Z1RpbWVbMl0ucGxvdFNpZ31gLFxyXG4gICAgICAgICAgdGV4dEFuY2hvcjogXCJzdGFydFwiLFxyXG4gICAgICAgICAgZmlsbDogXCIjZmY1N2Y5XCIsXHJcbiAgICAgICAgICBmb250U2l6ZTogMjAsXHJcbiAgICAgICAgICBmb250V2VpZ2h0OiA4MDAsXHJcbiAgICAgICAgICBkeDogMTBcclxuICAgICAgICB9KVxyXG4gICAgICApXHJcbiAgICBdXHJcbiAgfSksXHJcbiAgeyBmaWxsOiBcImdyYWRlXCIgfVxyXG4pXHJcblxyXG4ifSx7Im1ldGhvZE5hbWUiOiJpbnRlcnByZXQiLCJjZWxsTmFtZSI6Im9qcy1jZWxsLTE0IiwiaW5saW5lIjpmYWxzZSwic291cmNlIjoiXHJcbnNpZ2RhdGEgPSBGaWxlQXR0YWNobWVudChcInNpZ2JhcmNoYXJ0LmNzdlwiKS5jc3Yoe3R5cGVkOiB0cnVlfSlcclxuICAudGhlbihkYXRhID0+IGRhdGEubWFwKChkKSA9PiAoey4uLmQsIHZhbHVlOiAoZFsyMDIzXSAtIGRbMjAyNF0pIC8gZFsyMDI0XX0pKSlcclxuXHJcbnNpZ0RydWcgPSBzaWdkYXRhLmZpbHRlcihcclxuICAoeyBkcnVnIH0pID0+IGRydWcudG9Mb2NhbGVMb3dlckNhc2UoKSA9PT0gc2VsZWN0LnRvTG9jYWxlTG93ZXJDYXNlKClcclxuKVxyXG5cclxuc2lnRHJ1Z1RpbWUgPSBzaWdEcnVnLmZpbHRlcigoeyB0aW1lIH0pID0+IHRpbWUgPT09IHJhZGlvWzBdLnRpbWUpXHJcblxyXG5zaWdEcnVnVGltZVxyXG5cclxuc2lnbWF4ID0gTWF0aC5tYXgoLi4uc2lnZGF0YS5tYXAoKG8pID0+IG8uXzFfWWVhcl9DaGcpKVxyXG5zaWdtaW4gPSBNYXRoLm1pbiguLi5zaWdkYXRhLm1hcCgobykgPT4gby5fMV9ZZWFyX0NoZykpXHJcblxyXG5zaWdiYXJDaGFydCA9IFBsb3QucGxvdCh7XHJcbiAgbGFiZWw6IG51bGwsXHJcbiAgbWFyZ2luTGVmdDogMTAwLFxyXG4gIG1hcmdpblJpZ2h0OiAxMDAsXHJcbiAgbWFyZ2luVG9wOiA1MCxcclxuICBzdHlsZToge1xyXG4gICAgb3ZlcmZsb3c6IFwidmlzaWJsZVwiLFxyXG4gICAgZm9udFNpemU6IDEyXHJcbiAgfSxcclxuICB4OiB7XHJcbiAgICBheGlzOiBcInRvcFwiLFxyXG4gICAgbGFiZWw6IFwi4oaQIGRlY3JlYXNlIMK3IDEtWWVhciBDaGFuZ2UgaW4gRHJ1ZyBVc2UsIDIwMjPigJMyMDI0IMK3IGluY3JlYXNlIOKGklwiLFxyXG4gICAgbGFiZWxBbmNob3I6IFwiY2VudGVyXCIsXHJcbiAgICBkb21haW46IFtzaWdtaW4sIHNpZ21heF1cclxuICB9LFxyXG4gIHk6IHtcclxuICAgIGRvbWFpbjogW1wiOHRoIEdyYWRlXCIsIFwiMTB0aCBHcmFkZVwiLCBcIjEydGggR3JhZGVcIl1cclxuICB9LFxyXG4gIGNvbG9yOiB7XHJcbiAgICBzY2hlbWU6IFwiUGlZR1wiLFxyXG4gICAgdHlwZTogXCJvcmRpbmFsXCJcclxuICB9LFxyXG4gIG1hcmtzOiBbXHJcbiAgICBQbG90LmJhclgoc2lnRHJ1Z1RpbWUsIHtcclxuICAgICAgeDogXCJfMV9ZZWFyX0NoZ1wiLFxyXG4gICAgICB5OiBcImdyYWRlXCIsXHJcbiAgICAgIGZpbGw6IChkKSA9PiBkLl8xX1llYXJfQ2hnID4gMFxyXG4gICAgfSksXHJcbiAgICBQbG90LmdyaWRYKHsgc3Ryb2tlOiBcIndoaXRlXCIsIHN0cm9rZU9wYWNpdHk6IDAuNSB9KSxcclxuICAgIGQzXHJcbiAgICAgIC5ncm91cHMoc2lnRHJ1Z1RpbWUsIChkKSA9PiBkLl8xX1llYXJfQ2hnID4gMClcclxuICAgICAgLm1hcCgoW2dyb3d0aCwgZ3JhZGVzXSkgPT4gW1xyXG4gICAgICAgIFBsb3QuYXhpc1koe1xyXG4gICAgICAgICAgeDogMCxcclxuICAgICAgICAgIHRpY2tzOiBncmFkZXMubWFwKChkKSA9PiBkLmdyYWRlKSxcclxuICAgICAgICAgIHRpY2tTaXplOiAwLFxyXG4gICAgICAgICAgYW5jaG9yOiBncm93dGggPyBcImxlZnRcIiA6IFwicmlnaHRcIlxyXG4gICAgICAgIH0pLFxyXG4gICAgICAgIFBsb3QudGV4dFgoZ3JhZGVzLCB7XHJcbiAgICAgICAgICB4OiBcIl8xX1llYXJfQ2hnXCIsXHJcbiAgICAgICAgICB5OiBcImdyYWRlXCIsXHJcbiAgICAgICAgICB0ZXh0OiBcIl8xX1llYXJfQ2hnXCIsXHJcbiAgICAgICAgICB0ZXh0QW5jaG9yOiBncm93dGggPyBcInN0YXJ0XCIgOiBcImVuZFwiLFxyXG4gICAgICAgICAgZHg6IGdyb3d0aCA/IDQgOiAtNCxcclxuICAgICAgICB9KVxyXG4gICAgICBdKSxcclxuICAgIFBsb3QudGV4dFgodGFibGVzRHJ1Z1RpbWUsIHtcclxuICAgICAgeDogXCJfMV9ZZWFyX0NoZ1wiLFxyXG4gICAgICB5OiBcImdyYWRlXCIsXHJcbiAgICAgIHRleHQ6IFwicGxvdFNpZ1wiXHJcbiAgICB9KSxcclxuICAgIFBsb3QucnVsZVgoWzBdKVxyXG4gIF1cclxufSlcclxuXHJcblxyXG4ifSx7Im1ldGhvZE5hbWUiOiJpbnRlcnByZXRRdWlldCIsInNvdXJjZSI6InNoaW55SW5wdXQoJ2RydWdzJykifSx7Im1ldGhvZE5hbWUiOiJpbnRlcnByZXRRdWlldCIsInNvdXJjZSI6InNoaW55SW5wdXQoJ3NlYXJjaCcpIn0seyJtZXRob2ROYW1lIjoiaW50ZXJwcmV0UXVpZXQiLCJzb3VyY2UiOiJzaGlueUlucHV0KCdyYWRpbycpIn0seyJtZXRob2ROYW1lIjoiaW50ZXJwcmV0UXVpZXQiLCJzb3VyY2UiOiJzaGlueUlucHV0KCd6b29tSW5CdXR0b24nKSJ9XX0=
</script>
<script type="module">
if (window.location.protocol === "file:") { alert("The OJS runtime does not work with file:// URLs. Please use a web server to view this document."); }
window._ojs.paths.runtimeToDoc = "../../bx-by/drug-prevalence";
window._ojs.paths.runtimeToRoot = "../..";
window._ojs.paths.docToRoot = "../..";
window._ojs.selfContained = false;
window._ojs.runtime.interpretFromScriptTags();
</script>
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const onCopySuccess = function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  }
  const getTextToCopy = function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
    text: getTextToCopy
  });
  clipboard.on('success', onCopySuccess);
  if (window.document.getElementById('quarto-embedded-source-code-modal')) {
    // For code content inside modals, clipBoardJS needs to be initialized with a container option
    // TODO: Check when it could be a function (https://github.com/zenorocha/clipboard.js/issues/860)
    const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
      text: getTextToCopy,
      container: window.document.getElementById('quarto-embedded-source-code-modal')
    });
    clipboardModal.on('success', onCopySuccess);
  }
    var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
    var mailtoRegex = new RegExp(/^mailto:/);
      var filterRegex = new RegExp("https:\/\/monitoringthefuture\.com\/data\/");
    var isInternal = (href) => {
        return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
    }
    // Inspect non-navigation links and adorn them if external
 	var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
    for (var i=0; i<links.length; i++) {
      const link = links[i];
      if (!isInternal(link.href)) {
        // undo the damage that might have been done by quarto-nav.js in the case of
        // links that we want to consider external
        if (link.dataset.originalHref !== undefined) {
          link.href = link.dataset.originalHref;
        }
      }
    }
  function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
    const config = {
      allowHTML: true,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start',
    };
    if (contentFn) {
      config.content = contentFn;
    }
    if (onTriggerFn) {
      config.onTrigger = onTriggerFn;
    }
    if (onUntriggerFn) {
      config.onUntrigger = onUntriggerFn;
    }
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      if (note) {
        return note.innerHTML;
      } else {
        return "";
      }
    });
  }
  const xrefs = window.document.querySelectorAll('a.quarto-xref');
  const processXRef = (id, note) => {
    // Strip column container classes
    const stripColumnClz = (el) => {
      el.classList.remove("page-full", "page-columns");
      if (el.children) {
        for (const child of el.children) {
          stripColumnClz(child);
        }
      }
    }
    stripColumnClz(note)
    if (id === null || id.startsWith('sec-')) {
      // Special case sections, only their first couple elements
      const container = document.createElement("div");
      if (note.children && note.children.length > 2) {
        container.appendChild(note.children[0].cloneNode(true));
        for (let i = 1; i < note.children.length; i++) {
          const child = note.children[i];
          if (child.tagName === "P" && child.innerText === "") {
            continue;
          } else {
            container.appendChild(child.cloneNode(true));
            break;
          }
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(container);
        }
        return container.innerHTML
      } else {
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        return note.innerHTML;
      }
    } else {
      // Remove any anchor links if they are present
      const anchorLink = note.querySelector('a.anchorjs-link');
      if (anchorLink) {
        anchorLink.remove();
      }
      if (window.Quarto?.typesetMath) {
        window.Quarto.typesetMath(note);
      }
      // TODO in 1.5, we should make sure this works without a callout special case
      if (note.classList.contains("callout")) {
        return note.outerHTML;
      } else {
        return note.innerHTML;
      }
    }
  }
  for (var i=0; i<xrefs.length; i++) {
    const xref = xrefs[i];
    tippyHover(xref, undefined, function(instance) {
      instance.disable();
      let url = xref.getAttribute('href');
      let hash = undefined; 
      if (url.startsWith('#')) {
        hash = url;
      } else {
        try { hash = new URL(url).hash; } catch {}
      }
      if (hash) {
        const id = hash.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note !== null) {
          try {
            const html = processXRef(id, note.cloneNode(true));
            instance.setContent(html);
          } finally {
            instance.enable();
            instance.show();
          }
        } else {
          // See if we can fetch this
          fetch(url.split('#')[0])
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.getElementById(id);
            if (note !== null) {
              const html = processXRef(id, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      } else {
        // See if we can fetch a full url (with no hash to target)
        // This is a special case and we should probably do some content thinning / targeting
        fetch(url)
        .then(res => res.text())
        .then(html => {
          const parser = new DOMParser();
          const htmlDoc = parser.parseFromString(html, "text/html");
          const note = htmlDoc.querySelector('main.content');
          if (note !== null) {
            // This should only happen for chapter cross references
            // (since there is no id in the URL)
            // remove the first header
            if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
              note.children[0].remove();
            }
            const html = processXRef(null, note);
            instance.setContent(html);
          } 
        }).finally(() => {
          instance.enable();
          instance.show();
        });
      }
    }, function(instance) {
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            div.style.left = 0;
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
        // Handle positioning of the toggle
    window.addEventListener(
      "resize",
      throttle(() => {
        elRect = undefined;
        if (selectedAnnoteEl) {
          selectCodeLines(selectedAnnoteEl);
        }
      }, 10)
    );
    function throttle(fn, ms) {
    let throttle = false;
    let timer;
      return (...args) => {
        if(!throttle) { // first call gets through
            fn.apply(this, args);
            throttle = true;
        } else { // all the others get throttled
            if(timer) clearTimeout(timer); // cancel #2
            timer = setTimeout(() => {
              fn.apply(this, args);
              timer = throttle = false;
            }, ms);
        }
      };
    }
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->




</body></html>